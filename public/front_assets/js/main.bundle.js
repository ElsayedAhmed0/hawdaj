!function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){var n,i;n=this,i=function(e){"use strict";var t,r;function n(e){return"object"==typeof e&&"function"==typeof e.to}function i(e){e.parentElement.removeChild(e)}function s(e){return null!=e}function o(e){e.preventDefault()}function a(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function l(e,t,r){r>0&&(p(e,t),setTimeout((function(){f(e,t)}),r))}function c(e){return Math.max(Math.min(e,100),0)}function u(e){return Array.isArray(e)?e:[e]}function d(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function p(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function f(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(e){var t=void 0!==window.pageXOffset,r="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:r?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:r?e.documentElement.scrollTop:e.body.scrollTop}}function m(e,t){return 100/(t-e)}function g(e,t,r){return 100*t/(e[r+1]-e[r])}function v(e,t){for(var r=1;e>=t[r];)r+=1;return r}function S(e,t,r){if(r>=e.slice(-1)[0])return 100;var n=v(r,e),i=e[n-1],s=e[n],o=t[n-1],a=t[n];return o+function(e,t){return g(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([i,s],r)/m(o,a)}function b(e,t,r,n){if(100===n)return n;var i=v(n,e),s=e[i-1],o=e[i];return r?n-s>(o-s)/2?o:s:t[i-1]?e[i-1]+function(e,t){return Math.round(e/t)*t}(n-e[i-1],t[i-1]):n}e.PipsMode=void 0,(t=e.PipsMode||(e.PipsMode={})).Range="range",t.Steps="steps",t.Positions="positions",t.Count="count",t.Values="values",e.PipsType=void 0,(r=e.PipsType||(e.PipsType={}))[r.None=-1]="None",r[r.NoValue=0]="NoValue",r[r.LargeValue=1]="LargeValue",r[r.SmallValue=2]="SmallValue";var w=function(){function e(e,t,r){var n;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t;var i=[];for(Object.keys(e).forEach((function(t){i.push([u(e[t]),t])})),i.sort((function(e,t){return e[0][0]-t[0][0]})),n=0;n<i.length;n++)this.handleEntryPoint(i[n][1],i[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(e){for(var t=[],r=0;r<this.xNumSteps.length-1;r++)t[r]=g(this.xVal,e,r);return t},e.prototype.getAbsoluteDistance=function(e,t,r){var n,i=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[i+1];)i++;else e===this.xPct[this.xPct.length-1]&&(i=this.xPct.length-2);r||e!==this.xPct[i+1]||i++,null===t&&(t=[]);var s=1,o=t[i],a=0,l=0,c=0,u=0;for(n=r?(e-this.xPct[i])/(this.xPct[i+1]-this.xPct[i]):(this.xPct[i+1]-e)/(this.xPct[i+1]-this.xPct[i]);o>0;)a=this.xPct[i+1+u]-this.xPct[i+u],t[i+u]*s+100-100*n>100?(l=a*n,s=(o-100*n)/t[i+u],n=1):(l=t[i+u]*a/100*s,s=0),r?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),o=t[i+u]*s;return e+c},e.prototype.toStepping=function(e){return e=S(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,r){if(r>=100)return e.slice(-1)[0];var n=v(r,t),i=e[n-1],s=e[n],o=t[n-1];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([i,s],(r-o)*m(o,t[n]))}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return e=b(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,r){var n=v(e,this.xPct);return(100===e||t&&e===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},e.prototype.getNearbySteps=function(e){var t=v(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(d);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var r;if(!a(r="min"===e?0:"max"===e?100:parseFloat(e))||!a(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(r),this.xVal.push(t[0]);var n=Number(t[1]);r?this.xSteps.push(!isNaN(n)&&n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=g([this.xVal[e],this.xVal[e+1]],t,0)/m(this.xPct[e],this.xPct[e+1]);var r=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],n=Math.ceil(Number(r.toFixed(3))-1),i=this.xVal[e]+this.xNumSteps[e]*n;this.xHighestCompleteStep[e]=i}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),y={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},x={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},E=".__tooltips",k=".__aria";function P(e,t){if(!a(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function C(e,t){if(!a(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function N(e,t){if(!a(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function T(e,t){if(!a(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function M(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new w(t,e.snap||!1,e.singleStep)}function _(e,t){if(t=u(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function V(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function $(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function L(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function A(e,t){var r,n=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(r=1;r<e.handles;r++)n.push(t);n.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");n=t}e.connect=n}function U(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function O(e,t){if(!a(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function D(e,t){if(!a(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function z(e,t){var r;if(!a(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!a(t[0])&&!a(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],r=0;r<e.spectrum.xNumSteps.length-1;r++)if(e.padding[0][r]<0||e.padding[1][r]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=t[0]+t[1],i=e.spectrum.xVal[0];if(n/(e.spectrum.xVal[e.spectrum.xVal.length-1]-i)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function j(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function H(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var r=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,i=t.indexOf("fixed")>=0,s=t.indexOf("snap")>=0,o=t.indexOf("hover")>=0,a=t.indexOf("unconstrained")>=0,l=t.indexOf("drag-all")>=0,c=t.indexOf("smooth-steps")>=0;if(i){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");O(e,e.start[1]-e.start[0])}if(a&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:r||s,drag:n,dragAll:l,smoothSteps:c,fixed:i,snap:s,hover:o,unconstrained:a}}function F(e,t){if(!1!==t)if(!0===t||n(t)){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(t)}else{if((t=u(t)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach((function(e){if("boolean"!=typeof e&&!n(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=t}}function R(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function q(e,t){if(!n(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function B(e,t){if(!function(e){return n(e)&&"function"==typeof e.from}(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=t}function I(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function X(e,t){e.documentElement=t}function Y(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function W(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(r){e.cssClasses[r]=e.cssPrefix+t[r]}))):e.cssClasses=t}function G(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:y,format:y},r={step:{r:!1,t:P},keyboardPageMultiplier:{r:!1,t:C},keyboardMultiplier:{r:!1,t:N},keyboardDefaultStep:{r:!1,t:T},start:{r:!0,t:_},connect:{r:!0,t:A},direction:{r:!0,t:j},snap:{r:!1,t:V},animate:{r:!1,t:$},animationDuration:{r:!1,t:L},range:{r:!0,t:M},orientation:{r:!1,t:U},margin:{r:!1,t:O},limit:{r:!1,t:D},padding:{r:!1,t:z},behaviour:{r:!0,t:H},ariaFormat:{r:!1,t:q},format:{r:!1,t:B},tooltips:{r:!1,t:F},keyboardSupport:{r:!0,t:I},documentElement:{r:!1,t:X},cssPrefix:{r:!0,t:Y},cssClasses:{r:!0,t:W},handleAttributes:{r:!1,t:R}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:x,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(r).forEach((function(i){if(s(e[i])||void 0!==n[i])r[i].t(t,s(e[i])?e[i]:n[i]);else if(r[i].r)throw new Error("noUiSlider: '"+i+"' is required.")})),t.pips=e.pips;var i=document.createElement("div"),o=void 0!==i.style.msTransform,a=void 0!==i.style.transform;return t.transformRule=a?"transform":o?"msTransform":"webkitTransform",t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function J(t,r,n){var a,d,m,g,v,S,b,w=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},y=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),x=t,P=r.spectrum,C=[],N=[],T=[],M=0,_={},V=t.ownerDocument,$=r.documentElement||V.documentElement,L=V.body,A="rtl"===V.dir||1===r.ort?0:100;function U(e,t){var r=V.createElement("div");return t&&p(r,t),e.appendChild(r),r}function O(e,t){var n=U(e,r.cssClasses.origin),i=U(n,r.cssClasses.handle);if(U(i,r.cssClasses.touchArea),i.setAttribute("data-handle",String(t)),r.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(e){return function(e,t){if(j()||H(t))return!1;var n=["Left","Right"],i=["Down","Up"],s=["PageDown","PageUp"],o=["Home","End"];r.dir&&!r.ort?n.reverse():r.ort&&!r.dir&&(i.reverse(),s.reverse());var a,l=e.key.replace("Arrow",""),c=l===s[0],u=l===s[1],d=l===i[0]||l===n[0]||c,p=l===i[1]||l===n[1]||u,f=l===o[0],h=l===o[1];if(!(d||p||f||h))return!0;if(e.preventDefault(),p||d){var m=d?0:1,g=ve(t)[m];if(null===g)return!1;!1===g&&(g=P.getDefaultStep(N[t],d,r.keyboardDefaultStep)),g*=u||c?r.keyboardPageMultiplier:r.keyboardMultiplier,g=Math.max(g,1e-7),g*=d?-1:1,a=C[t]+g}else a=h?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return pe(t,P.toStepping(a),!0,!0),oe("slide",t),oe("update",t),oe("change",t),oe("set",t),!1}(e,t)}))),void 0!==r.handleAttributes){var s=r.handleAttributes[t];Object.keys(s).forEach((function(e){i.setAttribute(e,s[e])}))}return i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?p(i,r.cssClasses.handleLower):t===r.handles-1&&p(i,r.cssClasses.handleUpper),n}function D(e,t){return!!t&&U(e,r.cssClasses.connect)}function z(e,t){return!(!r.tooltips||!r.tooltips[t])&&U(e.firstChild,r.cssClasses.tooltip)}function j(){return x.hasAttribute("disabled")}function H(e){return d[e].hasAttribute("disabled")}function F(){v&&(se("update"+E),v.forEach((function(e){e&&i(e)})),v=null)}function R(){F(),v=d.map(z),ie("update"+E,(function(e,t,n){if(v&&r.tooltips&&!1!==v[t]){var i=e[t];!0!==r.tooltips[t]&&(i=r.tooltips[t].to(n[t])),v[t].innerHTML=i}}))}function q(e,t){return e.map((function(e){return P.fromStepping(t?P.getStep(e):e)}))}function B(t){var r,n=function(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return P.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var r=t.values-1,n=100/r,i=[];r--;)i[r]=r*n;return i.push(100),q(i,t.stepped)}return t.mode===e.PipsMode.Positions?q(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return P.fromStepping(P.getStep(P.toStepping(e)))})):t.values:[]}(t),i={},s=P.xVal[0],o=P.xVal[P.xVal.length-1],a=!1,l=!1,c=0;return r=n.slice().sort((function(e,t){return e-t})),(n=r.filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==s&&(n.unshift(s),a=!0),n[n.length-1]!==o&&(n.push(o),l=!0),n.forEach((function(r,s){var o,u,d,p,f,h,m,g,v,S,b=r,w=n[s+1],y=t.mode===e.PipsMode.Steps;for(y&&(o=P.xNumSteps[s]),o||(o=w-b),void 0===w&&(w=b),o=Math.max(o,1e-7),u=b;u<=w;u=Number((u+o).toFixed(7))){for(g=(f=(p=P.toStepping(u))-c)/(t.density||1),S=f/(v=Math.round(g)),d=1;d<=v;d+=1)i[(h=c+d*S).toFixed(5)]=[P.fromStepping(h),0];m=n.indexOf(u)>-1?e.PipsType.LargeValue:y?e.PipsType.SmallValue:e.PipsType.NoValue,!s&&a&&u!==w&&(m=0),u===w&&l||(i[p.toFixed(5)]=[u,m]),c=p}})),i}function I(t,n,i){var s,o,a=V.createElement("div"),l=((s={})[e.PipsType.None]="",s[e.PipsType.NoValue]=r.cssClasses.valueNormal,s[e.PipsType.LargeValue]=r.cssClasses.valueLarge,s[e.PipsType.SmallValue]=r.cssClasses.valueSub,s),c=((o={})[e.PipsType.None]="",o[e.PipsType.NoValue]=r.cssClasses.markerNormal,o[e.PipsType.LargeValue]=r.cssClasses.markerLarge,o[e.PipsType.SmallValue]=r.cssClasses.markerSub,o),u=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],d=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function f(e,t){var n=t===r.cssClasses.value,i=n?l:c;return t+" "+(n?u:d)[r.ort]+" "+i[e]}return p(a,r.cssClasses.pips),p(a,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach((function(s){!function(t,s,o){if((o=n?n(s,o):o)!==e.PipsType.None){var l=U(a,!1);l.className=f(o,r.cssClasses.marker),l.style[r.style]=t+"%",o>e.PipsType.NoValue&&((l=U(a,!1)).className=f(o,r.cssClasses.value),l.setAttribute("data-value",String(s)),l.style[r.style]=t+"%",l.innerHTML=String(i.to(s)))}}(s,t[s][0],t[s][1])})),a}function X(){g&&(i(g),g=null)}function Y(e){X();var t=B(e),r=e.filter,n=e.format||{to:function(e){return String(Math.round(e))}};return g=x.appendChild(I(t,r,n))}function W(){var e=a.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||a[t]:e.height||a[t]}function J(e,t,n,i){var s=function(s){var o,a,l=function(e,t,r){var n=0===e.type.indexOf("touch"),i=0===e.type.indexOf("mouse"),s=0===e.type.indexOf("pointer"),o=0,a=0;if(0===e.type.indexOf("MSPointer")&&(s=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(n){var l=function(t){var n=t.target;return n===r||r.contains(n)||e.composed&&e.composedPath().shift()===r};if("touchstart"===e.type){var c=Array.prototype.filter.call(e.touches,l);if(c.length>1)return!1;o=c[0].pageX,a=c[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,l);if(!u)return!1;o=u.pageX,a=u.pageY}}return t=t||h(V),(i||s)&&(o=e.clientX+t.x,a=e.clientY+t.y),e.pageOffset=t,e.points=[o,a],e.cursor=i||s,e}(s,i.pageOffset,i.target||t);return!!l&&!(j()&&!i.doNotReject)&&(o=x,a=r.cssClasses.tap,!((o.classList?o.classList.contains(a):new RegExp("\\b"+a+"\\b").test(o.className))&&!i.doNotReject)&&!(e===w.start&&void 0!==l.buttons&&l.buttons>1)&&(!i.hover||!l.buttons)&&(y||l.preventDefault(),l.calcPoint=l.points[r.ort],void n(l,i)))},o=[];return e.split(" ").forEach((function(e){t.addEventListener(e,s,!!y&&{passive:!0}),o.push([e,s])})),o}function K(e){var t,n,i,s,o,l,u=100*(e-(t=a,n=r.ort,i=t.getBoundingClientRect(),s=t.ownerDocument,o=s.documentElement,l=h(s),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),n?i.top+l.y-o.clientTop:i.left+l.x-o.clientLeft))/W();return u=c(u),r.dir?100-u:u}function Q(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&ee(e,t)}function Z(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return ee(e,t);var n=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);ce(n>0,100*n/t.baseSize,t.locations,t.handleNumbers,t.connect)}function ee(e,t){t.handle&&(f(t.handle,r.cssClasses.active),M-=1),t.listeners.forEach((function(e){$.removeEventListener(e[0],e[1])})),0===M&&(f(x,r.cssClasses.drag),de(),e.cursor&&(L.style.cursor="",L.removeEventListener("selectstart",o))),r.events.smoothSteps&&(t.handleNumbers.forEach((function(e){pe(e,N[e],!0,!0,!1,!1)})),t.handleNumbers.forEach((function(e){oe("update",e)}))),t.handleNumbers.forEach((function(e){oe("change",e),oe("set",e),oe("end",e)}))}function te(e,t){if(!t.handleNumbers.some(H)){var n;1===t.handleNumbers.length&&(n=d[t.handleNumbers[0]].children[0],M+=1,p(n,r.cssClasses.active)),e.stopPropagation();var i=[],s=J(w.move,$,Z,{target:e.target,handle:n,connect:t.connect,listeners:i,startCalcPoint:e.calcPoint,baseSize:W(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:N.slice()}),a=J(w.end,$,ee,{target:e.target,handle:n,listeners:i,doNotReject:!0,handleNumbers:t.handleNumbers}),l=J("mouseout",$,Q,{target:e.target,handle:n,listeners:i,doNotReject:!0,handleNumbers:t.handleNumbers});i.push.apply(i,s.concat(a,l)),e.cursor&&(L.style.cursor=getComputedStyle(e.target).cursor,d.length>1&&p(x,r.cssClasses.drag),L.addEventListener("selectstart",o,!1)),t.handleNumbers.forEach((function(e){oe("start",e)}))}}function re(e){e.stopPropagation();var t=K(e.calcPoint),n=function(e){var t=100,r=!1;return d.forEach((function(n,i){if(!H(i)){var s=N[i],o=Math.abs(s-e);(o<t||o<=t&&e>s||100===o&&100===t)&&(r=i,t=o)}})),r}(t);!1!==n&&(r.events.snap||l(x,r.cssClasses.tap,r.animationDuration),pe(n,t,!0,!0),de(),oe("slide",n,!0),oe("update",n,!0),r.events.snap?te(e,{handleNumbers:[n]}):(oe("change",n,!0),oe("set",n,!0)))}function ne(e){var t=K(e.calcPoint),r=P.getStep(t),n=P.fromStepping(r);Object.keys(_).forEach((function(e){"hover"===e.split(".")[0]&&_[e].forEach((function(e){e.call(Se,n)}))}))}function ie(e,t){_[e]=_[e]||[],_[e].push(t),"update"===e.split(".")[0]&&d.forEach((function(e,t){oe("update",t)}))}function se(e){var t=e&&e.split(".")[0],r=t?e.substring(t.length):e;Object.keys(_).forEach((function(e){var n=e.split(".")[0],i=e.substring(n.length);t&&t!==n||r&&r!==i||function(e){return e===k||e===E}(i)&&r!==i||delete _[e]}))}function oe(e,t,n){Object.keys(_).forEach((function(i){var s=i.split(".")[0];e===s&&_[i].forEach((function(e){e.call(Se,C.map(r.format.to),t,C.slice(),n||!1,N.slice(),Se)}))}))}function ae(e,t,n,i,s,o,a){var l;return d.length>1&&!r.events.unconstrained&&(i&&t>0&&(l=P.getAbsoluteDistance(e[t-1],r.margin,!1),n=Math.max(n,l)),s&&t<d.length-1&&(l=P.getAbsoluteDistance(e[t+1],r.margin,!0),n=Math.min(n,l))),d.length>1&&r.limit&&(i&&t>0&&(l=P.getAbsoluteDistance(e[t-1],r.limit,!1),n=Math.min(n,l)),s&&t<d.length-1&&(l=P.getAbsoluteDistance(e[t+1],r.limit,!0),n=Math.max(n,l))),r.padding&&(0===t&&(l=P.getAbsoluteDistance(0,r.padding[0],!1),n=Math.max(n,l)),t===d.length-1&&(l=P.getAbsoluteDistance(100,r.padding[1],!0),n=Math.min(n,l))),a||(n=P.getStep(n)),!((n=c(n))===e[t]&&!o)&&n}function le(e,t){var n=r.ort;return(n?t:e)+", "+(n?e:t)}function ce(e,t,n,i,s){var o=n.slice(),a=i[0],l=r.events.smoothSteps,c=[!e,e],u=[e,!e];i=i.slice(),e&&i.reverse(),i.length>1?i.forEach((function(e,r){var n=ae(o,e,o[e]+t,c[r],u[r],!1,l);!1===n?t=0:(t=n-o[e],o[e]=n)})):c=u=[!0];var d=!1;i.forEach((function(e,r){d=pe(e,n[e]+t,c[r],u[r],!1,l)||d})),d&&(i.forEach((function(e){oe("update",e),oe("slide",e)})),null!=s&&oe("drag",a))}function ue(e,t){return r.dir?100-e-t:e}function de(){T.forEach((function(e){var t=N[e]>50?-1:1,r=3+(d.length+t*e);d[e].style.zIndex=String(r)}))}function pe(e,t,n,i,s,o){return s||(t=ae(N,e,t,n,i,!1,o)),!1!==t&&(function(e,t){N[e]=t,C[e]=P.fromStepping(t);var n="translate("+le(ue(t,0)-A+"%","0")+")";d[e].style[r.transformRule]=n,fe(e),fe(e+1)}(e,t),!0)}function fe(e){if(m[e]){var t=0,n=100;0!==e&&(t=N[e-1]),e!==m.length-1&&(n=N[e]);var i=n-t,s="translate("+le(ue(t,i)+"%","0")+")",o="scale("+le(i/100,"1")+")";m[e].style[r.transformRule]=s+" "+o}}function he(e,t){return null===e||!1===e||void 0===e?N[t]:("number"==typeof e&&(e=String(e)),!1!==(e=r.format.from(e))&&(e=P.toStepping(e)),!1===e||isNaN(e)?N[t]:e)}function me(e,t,n){var i=u(e),s=void 0===N[0];t=void 0===t||t,r.animate&&!s&&l(x,r.cssClasses.tap,r.animationDuration),T.forEach((function(e){pe(e,he(i[e],e),!0,!1,n)}));var o=1===T.length?0:1;if(s&&P.hasNoSize()&&(n=!0,N[0]=0,T.length>1)){var a=100/(T.length-1);T.forEach((function(e){N[e]=e*a}))}for(;o<T.length;++o)T.forEach((function(e){pe(e,N[e],!0,!0,n)}));de(),T.forEach((function(e){oe("update",e),null!==i[e]&&t&&oe("set",e)}))}function ge(e){if(void 0===e&&(e=!1),e)return 1===C.length?C[0]:C.slice(0);var t=C.map(r.format.to);return 1===t.length?t[0]:t}function ve(e){var t=N[e],n=P.getNearbySteps(t),i=C[e],s=n.thisStep.step,o=null;if(r.snap)return[i-n.stepBefore.startValue||null,n.stepAfter.startValue-i||null];!1!==s&&i+s>n.stepAfter.startValue&&(s=n.stepAfter.startValue-i),o=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===t?s=null:0===t&&(o=null);var a=P.countStepDecimals();return null!==s&&!1!==s&&(s=Number(s.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,s]}p(S=x,r.cssClasses.target),0===r.dir?p(S,r.cssClasses.ltr):p(S,r.cssClasses.rtl),0===r.ort?p(S,r.cssClasses.horizontal):p(S,r.cssClasses.vertical),p(S,"rtl"===getComputedStyle(S).direction?r.cssClasses.textDirectionRtl:r.cssClasses.textDirectionLtr),a=U(S,r.cssClasses.base),function(e,t){var n=U(t,r.cssClasses.connects);d=[],(m=[]).push(D(n,e[0]));for(var i=0;i<r.handles;i++)d.push(O(t,i)),T[i]=i,m.push(D(n,e[i+1]))}(r.connect,a),(b=r.events).fixed||d.forEach((function(e,t){J(w.start,e.children[0],te,{handleNumbers:[t]})})),b.tap&&J(w.start,a,re,{}),b.hover&&J(w.move,a,ne,{hover:!0}),b.drag&&m.forEach((function(e,t){if(!1!==e&&0!==t&&t!==m.length-1){var n=d[t-1],i=d[t],s=[e],o=[n,i],a=[t-1,t];p(e,r.cssClasses.draggable),b.fixed&&(s.push(n.children[0]),s.push(i.children[0])),b.dragAll&&(o=d,a=T),s.forEach((function(t){J(w.start,t,te,{handles:o,handleNumbers:a,connect:e})}))}})),me(r.start),r.pips&&Y(r.pips),r.tooltips&&R(),se("update"+k),ie("update"+k,(function(e,t,n,i,s){T.forEach((function(e){var t=d[e],i=ae(N,e,0,!0,!0,!0),o=ae(N,e,100,!0,!0,!0),a=s[e],l=String(r.ariaFormat.to(n[e]));i=P.fromStepping(i).toFixed(1),o=P.fromStepping(o).toFixed(1),a=P.fromStepping(a).toFixed(1),t.children[0].setAttribute("aria-valuemin",i),t.children[0].setAttribute("aria-valuemax",o),t.children[0].setAttribute("aria-valuenow",a),t.children[0].setAttribute("aria-valuetext",l)}))}));var Se={destroy:function(){for(se(k),se(E),Object.keys(r.cssClasses).forEach((function(e){f(x,r.cssClasses[e])}));x.firstChild;)x.removeChild(x.firstChild);delete x.noUiSlider},steps:function(){return T.map(ve)},on:ie,off:se,get:ge,set:me,setHandle:function(e,t,r,n){if(!((e=Number(e))>=0&&e<T.length))throw new Error("noUiSlider: invalid handle number, got: "+e);pe(e,he(t,e),!0,!0,n),oe("update",e),r&&oe("set",e)},reset:function(e){me(r.start,e)},__moveHandles:function(e,t,r){ce(e,t,N,r)},options:n,updateOptions:function(e,t){var i=ge(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach((function(t){void 0!==e[t]&&(n[t]=e[t])}));var a=G(n);o.forEach((function(t){void 0!==e[t]&&(r[t]=a[t])})),P=a.spectrum,r.margin=a.margin,r.limit=a.limit,r.padding=a.padding,r.pips?Y(r.pips):X(),r.tooltips?R():F(),N=[],me(s(e.start)?e.start:i,t)},target:x,removePips:X,removeTooltips:F,getPositions:function(){return N.slice()},getTooltips:function(){return v},getOrigins:function(){return d},pips:Y};return Se}function K(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var r=J(e,G(t),t);return e.noUiSlider=r,r}var Q={__spectrum:w,cssClasses:x,create:K};e.create=K,e.cssClasses=x,e.default=Q,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof r&&void 0!==t?i(r):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||self).noUiSlider={})},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reveal=function(){for(var e=document.querySelectorAll(".reveal"),t=0;t<e.length;t++){var r=window.innerHeight,n=e[t].getBoundingClientRect().top;n<r-150&&e[t].classList.add("slide-up")}}},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=document.getElementById("menuBurger"),i=document.getElementById("menuOverlay"),s=document.getElementById("navbarMenu");r.toggleMenu=function(){n.classList.toggle("active"),i.classList.toggle("active"),s.classList.toggle("active"),document.querySelector("body").classList.toggle("overflow-hidden")},r.closeMenu=function(){n.classList.remove("active"),i.classList.remove("active"),s.classList.remove("active"),document.querySelector("body").classList.remove("overflow-hidden")}},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toggleResultsMenu=function(e,t){if(t)return void $($(e).parent().next(".search-form__results")).addClass("active");$(e).val(""),$($(e).parent().next(".search-form__results")).removeClass("active"),$(".search-form__results").html(n)},r.search=function(){var e=$(this).val();e&&(e=e.trim());if(!e)return void $(".search-form__results").html(n);$(".search-form__results").html("");for(var t=0;t<3;t++)$(".search-form__results").append('\n  <li class="search-form__results-card search-form__results-loading">\n    <div class="d-flex align-items-center">\n      <div>\n      <div class="search-form__results-loading-img boading-style"></div>\n      </div>\n      <div class="w-100">\n          <h4 class="search-form__results-loading-head boading-style"></h4>\n          <p class="search-form__results-loading-desc boading-style mb-0"></p>\n      </div>\n    </div>\n  </li>\n  ');setTimeout((function(){$(".search-form__results").html(""),i.forEach((function(e){var t=function(e){return'\n  <li class="search-form__results-card">\n    <a class="d-flex align-items-center" href="'+e.url+'">\n      <div>\n          <img src="'+e.img+'" alt="'+e.title+'">\n      </div>\n      <div>\n          <h4 class="head">'+e.title+'</h4>\n          <p class="mb-0">\n              '+e.desc+"\n          </p>\n      </div>\n    </a>\n  </li>\n  "}(e);$(".search-form__results").append(t)}))}),2e3)};var n='\n    <li class="p-2 text-center">\n      اكتب اسم المكان لبدء البحث\n    </li>\n  ';var i=[{title:"اسم المكان",img:"assets/imgs/hero.jpg",url:"/place-details.html",desc:"هذا النص يمكن أن يتم تركيبه على أي تصميم دون مشكلة فلن يبدو وكأنه نص منسوخ، غير منظم، غير منسق، أو حتى غير مفهوم. لأنه مازال نصاً بديلاً ومؤقتاً"},{title:"اسم المكان",img:"assets/imgs/hero.jpg",url:"/place-details.html",desc:"هذا النص يمكن أن يتم تركيبه على أي تصميم دون مشكلة فلن يبدو وكأنه نص منسوخ، غير منظم، غير منسق، أو حتى غير مفهوم. لأنه مازال نصاً بديلاً ومؤقتاً"},{title:"اسم المكان",img:"assets/imgs/hero.jpg",url:"/place-details.html",desc:"هذا النص يمكن أن يتم تركيبه على أي تصميم دون مشكلة فلن يبدو وكأنه نص منسوخ، غير منظم، غير منسق، أو حتى غير مفهوم. لأنه مازال نصاً بديلاً ومؤقتاً"},{title:"اسم المكان",img:"assets/imgs/hero.jpg",url:"/place-details.html",desc:"هذا النص يمكن أن يتم تركيبه على أي تصميم دون مشكلة فلن يبدو وكأنه نص منسوخ، غير منظم، غير منسق، أو حتى غير مفهوم. لأنه مازال نصاً بديلاً ومؤقتاً"}]},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=!0;r.initHeaderSlider=function(e){$(e).slick({slidesToShow:3,slidesToScroll:1,rtl:n,dots:!1,arrows:!1,infinite:!0,autoplay:!0,responsive:[{breakpoint:576,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1,centerMode:!0}}]})},r.initServicesCardSlider=function(e){$(e).slick({slidesToShow:1,slidesToScroll:1,rtl:n,infinite:!0,arrows:!1})},r.navigateToNextSlide=function(e){$(e).slick("slickNext")},r.navigateToPrevSlide=function(e){$(e).slick("slickPrev")},r.updateHeaderSlideNumber=function(e){var t=e+1<9?"0"+(e+1):e+1;$("#headerSliderCount").text(t)},r.initEzbaSliderNavigator=function(e){$(e).slick({slidesToShow:5,slidesToScroll:1,rtl:n,dots:!1,arrows:!1,infinite:!0,focusOnSelect:!0,autoplay:!0,responsive:[{breakpoint:1100,settings:{slidesToShow:4}},{breakpoint:900,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:4}},{breakpoint:576,settings:{slidesToShow:3}},{breakpoint:480,settings:{slidesToShow:2}}]})},r.updateEzbaSlide=function(e,t,r){$("#ezbaSlider").carousel(r)},r.initSwalifSlider=function(e){$(e).slick({slidesToShow:4,slidesToScroll:1,rtl:n,centerMode:!0,arrows:!1,responsive:[{breakpoint:2e3,settings:{slidesToShow:3,infinite:!0}},{breakpoint:1500,settings:{slidesToShow:2,infinite:!0}},{breakpoint:767,settings:{slidesToShow:1,infinite:!0}},{breakpoint:600,settings:{slidesToShow:1,dots:!0}}]})},r.initPlcaeCategoriesSlider=function(e){$(e).slick({slidesToShow:5,slidesToScroll:1,rtl:n,infinite:!0,autoplay:!0,arrows:!1,responsive:[{breakpoint:1280,settings:{slidesToShow:4}},{breakpoint:991,settings:{slidesToShow:3}},{breakpoint:700,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1,centerMode:!0}},{breakpoint:350,settings:{slidesToShow:1,centerMode:!0}}]})},r.initMazadatSlider=function(e){$(e).slick({slidesToShow:5,slidesToScroll:1,rtl:n,infinite:!0,autoplay:!0,arrows:!1,responsive:[{breakpoint:1400,settings:{slidesToShow:4}},{breakpoint:1200,settings:{slidesToShow:3,centerMode:!0}},{breakpoint:991,settings:{slidesToShow:2,centerMode:!0}},{breakpoint:580,settings:{slidesToShow:1,centerMode:!0}},{breakpoint:350,settings:{slidesToShow:1,centerMode:!0}}]})},r.initPlaceSliderNavigator=function(e){var t=window.innerWidth;$(e).slick({slidesToShow:3,slidesToScroll:1,rtl:t<=576,vertical:t>576,arrows:!1})},r.updatePlaceSlide=function(e,t,r){console.log(r),$("#placeSlider").carousel(r)},r.initMostPopularSlider=function(e){$(e).slick({slidesToShow:5,slidesToScroll:1,rtl:n,infinite:!0,arrows:!0,responsive:[{breakpoint:1499,settings:{slidesToShow:4}},{breakpoint:1280,settings:{slidesToShow:3}},{breakpoint:900,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1,centerMode:!0,arrows:!1}},{breakpoint:350,settings:{slidesToShow:1,centerMode:!1}}]})}},{}],6:[function(e,t,r){"use strict";var n=e("./functions/menu"),i=e("./functions/animation"),s=e("./functions/sliders"),o=e("./functions/searchForm"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("nouislider"));document.addEventListener("DOMContentLoaded",(function(){menuBurger.addEventListener("click",n.toggleMenu),menuOverlay.addEventListener("click",n.closeMenu),window.addEventListener("scroll",i.reveal),$(".header__slider").length&&(0,s.initHeaderSlider)(".header__slider"),$("#headerSliderNext").on("click",(function(){(0,s.navigateToNextSlide)(".header__slider")})),$("#headerSliderPrev").on("click",(function(){(0,s.navigateToPrevSlide)(".header__slider")}));var e=void 0;$(".header__bg-slider").length&&(e=new Swiper(".header__bg-slider",{effect:"fade",loop:!0})),$(".header__slider").on("afterChange",(function(t,r,n){e&&e.slideTo(n+1,2e3),(0,s.updateHeaderSlideNumber)(n)})),$(".ezba-slider-nav").length&&$("#ezbaSlider").length&&($("#ezbaSlider").carousel({interval:!1}),(0,s.initEzbaSliderNavigator)(".ezba-slider-nav"),$(".ezba-slider-nav .slick-slide:not(.slick-cloned)").each((function(e,t){$(t).on("click",(function(){return(0,s.updateEzbaSlide)(null,null,e)}))})),$(".ezba-slider-nav").on("afterChange",s.updateEzbaSlide)),$(".swalif-slider").length&&(0,s.initSwalifSlider)(".swalif-slider");var t=$(".search-form").find(".search-form__place-name");$(t).on("focus",(function(){(0,o.toggleResultsMenu)(this,!0)})),$(window).click((function(){(0,o.toggleResultsMenu)(t,!1)})),$(".search-form").on("click",(function(e){e.stopPropagation()})),$(t).on("keyup",o.search),$(".select2-input").length&&$(".select2-input").select2({language:{errorLoading:function(){return"خطأ اثناء التحميل"},noResults:function(){return"لم يتم العثور على أي نتائج"}},dir:"rtl"}),$(".invite__categories-slider").length&&(0,s.initPlcaeCategoriesSlider)(".invite__categories-slider"),$(".mazadat__slider").length&&(0,s.initMazadatSlider)(".mazadat__slider"),$(".place-slider-nav").length&&($("#placeSlider").carousel({interval:!1}),(0,s.initPlaceSliderNavigator)(".place-slider-nav"),$("#placeSlider").on("slide.bs.carousel",(function(e){$(".place-slider-nav").slick("slickGoTo",e.to)})),$(".place-slider-nav .slick-slide:not(.slick-cloned)").each((function(e,t){var r=this;$(t).on("click",(function(){return(0,s.updatePlaceSlide)(null,null,parseInt($(r).attr("data-slick-index")))}))}))),$('input[type="range"]').length&&$('input[type="range"]').rangeslider({polyfill:!0});var r=document.getElementById("range");r&&a.create(r,{range:{min:50,max:2e3},step:5,start:[200,1850],margin:300,connect:!0,direction:"rtl",tooltips:!0})})),document.addEventListener("readystatechange",(function(){document.querySelector("body").classList.remove("overflow-hidden"),document.querySelector(".loader-container").classList.add("hide")}))},{"./functions/animation":2,"./functions/menu":3,"./functions/searchForm":4,"./functions/sliders":5,nouislider:1}]},{},[6]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvbm91aXNsaWRlci9kaXN0L25vdWlzbGlkZXIuanMiLCJtYWluLmJ1bmRsZS5qcyIsInNyYy9qcy9mdW5jdGlvbnMvYW5pbWF0aW9uLmpzIiwic3JjL2pzL2Z1bmN0aW9ucy9tZW51LmpzIiwic3JjL2pzL2Z1bmN0aW9ucy9zZWFyY2hGb3JtLmpzIiwic3JjL2pzL2Z1bmN0aW9ucy9zbGlkZXJzLmpzIiwic3JjL2pzL21haW4uanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCJtb2R1bGUiLCJnbG9iYWwiLCJmYWN0b3J5IiwidGhpcyIsIlBpcHNNb2RlIiwiUGlwc1R5cGUiLCJpc1ZhbGlkUGFydGlhbEZvcm1hdHRlciIsImVudHJ5IiwidG8iLCJyZW1vdmVFbGVtZW50IiwiZWwiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJpc1NldCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJpc051bWVyaWMiLCJpc05hTiIsImlzRmluaXRlIiwiYWRkQ2xhc3NGb3IiLCJlbGVtZW50IiwiY2xhc3NOYW1lIiwiZHVyYXRpb24iLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJyZW1vdmVDbGFzcyIsImxpbWl0IiwiTWF0aCIsIm1heCIsIm1pbiIsImFzQXJyYXkiLCJBcnJheSIsImlzQXJyYXkiLCJjb3VudERlY2ltYWxzIiwibnVtU3RyIiwicGllY2VzIiwiU3RyaW5nIiwic3BsaXQiLCJjbGFzc0xpc3QiLCJ0ZXN0IiwiYWRkIiwicmVtb3ZlIiwicmVwbGFjZSIsIlJlZ0V4cCIsImpvaW4iLCJnZXRQYWdlT2Zmc2V0IiwiZG9jIiwic3VwcG9ydFBhZ2VPZmZzZXQiLCJ1bmRlZmluZWQiLCJ3aW5kb3ciLCJwYWdlWE9mZnNldCIsImlzQ1NTMUNvbXBhdCIsImNvbXBhdE1vZGUiLCJ4IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsTGVmdCIsImJvZHkiLCJ5IiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJzdWJSYW5nZVJhdGlvIiwicGEiLCJwYiIsImZyb21QZXJjZW50YWdlIiwicmFuZ2UiLCJzdGFydFJhbmdlIiwiZ2V0SiIsImFyciIsImoiLCJ0b1N0ZXBwaW5nIiwieFZhbCIsInhQY3QiLCJzbGljZSIsInZhIiwidmIiLCJhYnMiLCJ0b1BlcmNlbnRhZ2UiLCJnZXRTdGVwIiwieFN0ZXBzIiwic25hcCIsImIiLCJyb3VuZCIsImNsb3Nlc3QiLCJTcGVjdHJ1bSIsInNpbmdsZVN0ZXAiLCJpbmRleCIsInhOdW1TdGVwcyIsInhIaWdoZXN0Q29tcGxldGVTdGVwIiwib3JkZXJlZCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwicHVzaCIsInNvcnQiLCJoYW5kbGVFbnRyeVBvaW50IiwiaGFuZGxlU3RlcFBvaW50IiwicHJvdG90eXBlIiwiZ2V0RGlzdGFuY2UiLCJkaXN0YW5jZXMiLCJnZXRBYnNvbHV0ZURpc3RhbmNlIiwiZGlyZWN0aW9uIiwic3RhcnRfZmFjdG9yIiwieFBjdF9pbmRleCIsInJlc3RfZmFjdG9yIiwicmVzdF9yZWxfZGlzdGFuY2UiLCJyYW5nZV9wY3QiLCJyZWxfcmFuZ2VfZGlzdGFuY2UiLCJhYnNfZGlzdGFuY2VfY291bnRlciIsInJhbmdlX2NvdW50ZXIiLCJmcm9tU3RlcHBpbmciLCJpc1BlcmNlbnRhZ2UiLCJnZXREZWZhdWx0U3RlcCIsImlzRG93biIsInNpemUiLCJnZXROZWFyYnlTdGVwcyIsInN0ZXBCZWZvcmUiLCJzdGFydFZhbHVlIiwic3RlcCIsImhpZ2hlc3RTdGVwIiwidGhpc1N0ZXAiLCJzdGVwQWZ0ZXIiLCJjb3VudFN0ZXBEZWNpbWFscyIsInN0ZXBEZWNpbWFscyIsIm1hcCIsImFwcGx5IiwiaGFzTm9TaXplIiwiY29udmVydCIsInBlcmNlbnRhZ2UiLCJwYXJzZUZsb2F0IiwidmFsdWUxIiwiTnVtYmVyIiwidG90YWxTdGVwcyIsImNlaWwiLCJ0b0ZpeGVkIiwiZGVmYXVsdEZvcm1hdHRlciIsImZyb20iLCJjc3NDbGFzc2VzIiwidGFyZ2V0IiwiYmFzZSIsIm9yaWdpbiIsImhhbmRsZSIsImhhbmRsZUxvd2VyIiwiaGFuZGxlVXBwZXIiLCJ0b3VjaEFyZWEiLCJob3Jpem9udGFsIiwidmVydGljYWwiLCJiYWNrZ3JvdW5kIiwiY29ubmVjdCIsImNvbm5lY3RzIiwibHRyIiwicnRsIiwidGV4dERpcmVjdGlvbkx0ciIsInRleHREaXJlY3Rpb25SdGwiLCJkcmFnZ2FibGUiLCJkcmFnIiwidGFwIiwiYWN0aXZlIiwidG9vbHRpcCIsInBpcHMiLCJwaXBzSG9yaXpvbnRhbCIsInBpcHNWZXJ0aWNhbCIsIm1hcmtlciIsIm1hcmtlckhvcml6b250YWwiLCJtYXJrZXJWZXJ0aWNhbCIsIm1hcmtlck5vcm1hbCIsIm1hcmtlckxhcmdlIiwibWFya2VyU3ViIiwidmFsdWVIb3Jpem9udGFsIiwidmFsdWVWZXJ0aWNhbCIsInZhbHVlTm9ybWFsIiwidmFsdWVMYXJnZSIsInZhbHVlU3ViIiwiSU5URVJOQUxfRVZFTlRfTlMiLCJ0ZXN0U3RlcCIsInBhcnNlZCIsInRlc3RLZXlib2FyZFBhZ2VNdWx0aXBsaWVyIiwia2V5Ym9hcmRQYWdlTXVsdGlwbGllciIsInRlc3RLZXlib2FyZE11bHRpcGxpZXIiLCJrZXlib2FyZE11bHRpcGxpZXIiLCJ0ZXN0S2V5Ym9hcmREZWZhdWx0U3RlcCIsImtleWJvYXJkRGVmYXVsdFN0ZXAiLCJ0ZXN0UmFuZ2UiLCJzcGVjdHJ1bSIsInRlc3RTdGFydCIsImhhbmRsZXMiLCJzdGFydCIsInRlc3RTbmFwIiwidGVzdEFuaW1hdGUiLCJhbmltYXRlIiwidGVzdEFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJ0ZXN0Q29ubmVjdCIsInRlc3RPcmllbnRhdGlvbiIsIm9ydCIsInRlc3RNYXJnaW4iLCJtYXJnaW4iLCJ0ZXN0TGltaXQiLCJ0ZXN0UGFkZGluZyIsInBhZGRpbmciLCJ0b3RhbFBhZGRpbmciLCJmaXJzdFZhbHVlIiwidGVzdERpcmVjdGlvbiIsImRpciIsInRlc3RCZWhhdmlvdXIiLCJpbmRleE9mIiwiZml4ZWQiLCJob3ZlciIsInVuY29uc3RyYWluZWQiLCJkcmFnQWxsIiwic21vb3RoU3RlcHMiLCJldmVudHMiLCJ0ZXN0VG9vbHRpcHMiLCJ0b29sdGlwcyIsImZvcm1hdHRlciIsInRlc3RIYW5kbGVBdHRyaWJ1dGVzIiwiaGFuZGxlQXR0cmlidXRlcyIsInRlc3RBcmlhRm9ybWF0IiwiYXJpYUZvcm1hdCIsInRlc3RGb3JtYXQiLCJpc1ZhbGlkRm9ybWF0dGVyIiwiZm9ybWF0IiwidGVzdEtleWJvYXJkU3VwcG9ydCIsImtleWJvYXJkU3VwcG9ydCIsInRlc3REb2N1bWVudEVsZW1lbnQiLCJ0ZXN0Q3NzUHJlZml4IiwiY3NzUHJlZml4IiwidGVzdENzc0NsYXNzZXMiLCJrZXkiLCJ0ZXN0T3B0aW9ucyIsIm9wdGlvbnMiLCJ0ZXN0cyIsIm9yaWVudGF0aW9uIiwiYmVoYXZpb3VyIiwiZGVmYXVsdHMiLCJuYW1lIiwiZCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm1zUHJlZml4Iiwic3R5bGUiLCJtc1RyYW5zZm9ybSIsIm5vUHJlZml4IiwidHJhbnNmb3JtIiwidHJhbnNmb3JtUnVsZSIsInNjb3BlIiwib3JpZ2luYWxPcHRpb25zIiwic2NvcGVfQmFzZSIsInNjb3BlX0hhbmRsZXMiLCJzY29wZV9Db25uZWN0cyIsInNjb3BlX1BpcHMiLCJzY29wZV9Ub29sdGlwcyIsImFkZFRhcmdldCIsImFjdGlvbnMiLCJuYXZpZ2F0b3IiLCJwb2ludGVyRW5hYmxlZCIsIm1vdmUiLCJlbmQiLCJtc1BvaW50ZXJFbmFibGVkIiwic3VwcG9ydHNQYXNzaXZlIiwiQ1NTIiwic3VwcG9ydHMiLCJvcHRzIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0U3VwcG9ydHNQYXNzaXZlIiwic2NvcGVfVGFyZ2V0Iiwic2NvcGVfU3BlY3RydW0iLCJzY29wZV9WYWx1ZXMiLCJzY29wZV9Mb2NhdGlvbnMiLCJzY29wZV9IYW5kbGVOdW1iZXJzIiwic2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50Iiwic2NvcGVfRXZlbnRzIiwic2NvcGVfRG9jdW1lbnQiLCJvd25lckRvY3VtZW50Iiwic2NvcGVfRG9jdW1lbnRFbGVtZW50Iiwic2NvcGVfQm9keSIsInNjb3BlX0Rpck9mZnNldCIsImFkZE5vZGVUbyIsImRpdiIsImFwcGVuZENoaWxkIiwiYWRkT3JpZ2luIiwiaGFuZGxlTnVtYmVyIiwic2V0QXR0cmlidXRlIiwiZXZlbnQiLCJpc1NsaWRlckRpc2FibGVkIiwiaXNIYW5kbGVEaXNhYmxlZCIsImhvcml6b250YWxLZXlzIiwidmVydGljYWxLZXlzIiwibGFyZ2VTdGVwS2V5cyIsImVkZ2VLZXlzIiwicmV2ZXJzZSIsImlzTGFyZ2VEb3duIiwiaXNMYXJnZVVwIiwiaXNVcCIsImlzTWluIiwiaXNNYXgiLCJnZXROZXh0U3RlcHNGb3JIYW5kbGUiLCJzZXRIYW5kbGUiLCJmaXJlRXZlbnQiLCJldmVudEtleWRvd24iLCJhdHRyaWJ1dGVzXzEiLCJhdHRyaWJ1dGUiLCJhZGRDb25uZWN0IiwiYWRkVG9vbHRpcCIsImZpcnN0Q2hpbGQiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVUb29sdGlwcyIsInJlbW92ZUV2ZW50IiwiYmluZEV2ZW50IiwidmFsdWVzIiwidW5lbmNvZGVkIiwiZm9ybWF0dGVkVmFsdWUiLCJpbm5lckhUTUwiLCJtYXBUb1JhbmdlIiwic3RlcHBlZCIsImdlbmVyYXRlU3ByZWFkIiwiYXJyYXkiLCJncm91cCIsIm1vZGUiLCJSYW5nZSIsIlN0ZXBzIiwiQ291bnQiLCJpbnRlcnZhbCIsInNwcmVhZCIsIlBvc2l0aW9ucyIsIlZhbHVlcyIsImdldEdyb3VwIiwiaW5kZXhlcyIsImZpcnN0SW5SYW5nZSIsImxhc3RJblJhbmdlIiwiaWdub3JlRmlyc3QiLCJpZ25vcmVMYXN0IiwicHJldlBjdCIsImZpbHRlciIsInVuc2hpZnQiLCJjdXJyZW50IiwicSIsIm5ld1BjdCIsInBjdERpZmZlcmVuY2UiLCJwY3RQb3MiLCJ0eXBlIiwic3RlcHMiLCJyZWFsU3RlcHMiLCJzdGVwU2l6ZSIsImxvdyIsImhpZ2giLCJpc1N0ZXBzIiwiZGVuc2l0eSIsIkxhcmdlVmFsdWUiLCJTbWFsbFZhbHVlIiwiTm9WYWx1ZSIsImFkZE1hcmtpbmciLCJmaWx0ZXJGdW5jIiwiX2EiLCJfYiIsInZhbHVlU2l6ZUNsYXNzZXMiLCJOb25lIiwibWFya2VyU2l6ZUNsYXNzZXMiLCJ2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyIsIm1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcyIsImdldENsYXNzZXMiLCJzb3VyY2UiLCJzaXplQ2xhc3NlcyIsIm9mZnNldCIsIm5vZGUiLCJhZGRTcHJlYWQiLCJyZW1vdmVQaXBzIiwiYmFzZVNpemUiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYWx0Iiwid2lkdGgiLCJoZWlnaHQiLCJhdHRhY2hFdmVudCIsImNhbGxiYWNrIiwiZGF0YSIsIm1ldGhvZCIsInBhZ2VPZmZzZXQiLCJldmVudFRhcmdldCIsInRvdWNoIiwibW91c2UiLCJwb2ludGVyIiwiYnV0dG9ucyIsInRvdWNoZXMiLCJpc1RvdWNoT25UYXJnZXQiLCJjaGVja1RvdWNoIiwiY29udGFpbnMiLCJjb21wb3NlZCIsImNvbXBvc2VkUGF0aCIsInNoaWZ0IiwidGFyZ2V0VG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJ0YXJnZXRUb3VjaCIsImZpbmQiLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwicG9pbnRzIiwiY3Vyc29yIiwiZml4RXZlbnQiLCJkb05vdFJlamVjdCIsImNhbGNQb2ludCIsIm1ldGhvZHMiLCJldmVudE5hbWUiLCJwYXNzaXZlIiwiY2FsY1BvaW50VG9QZXJjZW50YWdlIiwiZWxlbSIsImRvY0VsZW0iLCJwcm9wb3NhbCIsInVzZXJBZ2VudCIsInRvcCIsImNsaWVudFRvcCIsImxlZnQiLCJjbGllbnRMZWZ0IiwiZG9jdW1lbnRMZWF2ZSIsIm5vZGVOYW1lIiwicmVsYXRlZFRhcmdldCIsImV2ZW50RW5kIiwiZXZlbnRNb3ZlIiwiYXBwVmVyc2lvbiIsImJ1dHRvbnNQcm9wZXJ0eSIsIm1vdmVtZW50Iiwic3RhcnRDYWxjUG9pbnQiLCJtb3ZlSGFuZGxlcyIsImxvY2F0aW9ucyIsImhhbmRsZU51bWJlcnMiLCJsaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0WmluZGV4IiwiZXZlbnRTdGFydCIsInNvbWUiLCJjaGlsZHJlbiIsInN0b3BQcm9wYWdhdGlvbiIsIm1vdmVFdmVudCIsImVuZEV2ZW50Iiwib3V0RXZlbnQiLCJjb25jYXQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZXZlbnRUYXAiLCJjbGlja2VkUG9zaXRpb24iLCJzbWFsbGVzdERpZmZlcmVuY2UiLCJoYW5kbGVQb3NpdGlvbiIsImRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSIsImdldENsb3Nlc3RIYW5kbGUiLCJldmVudEhvdmVyIiwidGFyZ2V0RXZlbnQiLCJzY29wZV9TZWxmIiwibmFtZXNwYWNlZEV2ZW50IiwibmFtZXNwYWNlIiwic3Vic3RyaW5nIiwiYmluZCIsInRFdmVudCIsInROYW1lc3BhY2UiLCJpc0ludGVybmFsTmFtZXNwYWNlIiwiZXZlbnRUeXBlIiwiY2hlY2tIYW5kbGVQb3NpdGlvbiIsInJlZmVyZW5jZSIsImxvb2tCYWNrd2FyZCIsImxvb2tGb3J3YXJkIiwiZ2V0VmFsdWUiLCJkaXN0YW5jZSIsImluUnVsZU9yZGVyIiwidiIsInVwd2FyZCIsInByb3Bvc2FscyIsImZpcnN0SGFuZGxlIiwic3RhdGUiLCJ0cmFuc2Zvcm1EaXJlY3Rpb24iLCJ6SW5kZXgiLCJleGFjdElucHV0IiwidHJhbnNsYXRlUnVsZSIsInVwZGF0ZUNvbm5lY3QiLCJ1cGRhdGVIYW5kbGVQb3NpdGlvbiIsImwiLCJoIiwiY29ubmVjdFdpZHRoIiwic2NhbGVSdWxlIiwicmVzb2x2ZVRvVmFsdWUiLCJ2YWx1ZVNldCIsImlucHV0IiwiZmlyZVNldEV2ZW50IiwiaXNJbml0Iiwic3BhY2VfMSIsInZhbHVlR2V0IiwibG9jYXRpb24iLCJuZWFyYnlTdGVwcyIsImluY3JlbWVudCIsImRlY3JlbWVudCIsImNvbm5lY3RPcHRpb25zIiwiY29ubmVjdEJhc2UiLCJhZGRFbGVtZW50cyIsImhhbmRsZUJlZm9yZSIsImhhbmRsZUFmdGVyIiwiZXZlbnRIb2xkZXJzIiwiaGFuZGxlc1RvRHJhZyIsImhhbmRsZU51bWJlcnNUb0RyYWciLCJldmVudEhvbGRlciIsInBvc2l0aW9ucyIsIm5vdyIsInRleHQiLCJkZXN0cm95Iiwibm9VaVNsaWRlciIsIm9uIiwib2ZmIiwic2V0IiwicmVzZXQiLCJfX21vdmVIYW5kbGVzIiwidXBkYXRlT3B0aW9ucyIsIm9wdGlvbnNUb1VwZGF0ZSIsInVwZGF0ZUFibGUiLCJuZXdPcHRpb25zIiwiZ2V0UG9zaXRpb25zIiwiZ2V0VG9vbHRpcHMiLCJnZXRPcmlnaW5zIiwiaW5pdGlhbGl6ZSIsImFwaSIsIm5vdWlzbGlkZXIiLCJfX3NwZWN0cnVtIiwiY3JlYXRlIiwiZGVmaW5lIiwiYW1kIiwiZ2xvYmFsVGhpcyIsInNlbGYiLCJyZXZlYWwiLCJyZXZlYWxzIiwicXVlcnlTZWxlY3RvckFsbCIsIndpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0IiwiZWxlbWVudFRvcCIsIm1lbnVCdXJnZXIiLCJnZXRFbGVtZW50QnlJZCIsIm1lbnVPdmVybGF5IiwibmF2YmFyTWVudSIsInRvZ2dsZU1lbnUiLCJ0b2dnbGUiLCJxdWVyeVNlbGVjdG9yIiwiY2xvc2VNZW51IiwidG9nZ2xlUmVzdWx0c01lbnUiLCJzdGF0dXMiLCIkIiwicGFyZW50IiwibmV4dCIsInZhbCIsImh0bWwiLCJ0eXBpbmdOb3RlVGVtcGxhdGUiLCJzZWFyY2giLCJrZXl3b3JkIiwidHJpbSIsImFwcGVuZCIsInJlc3VsdHMiLCJyZXN1bHQiLCJ0ZW1wbGF0ZSIsInVybCIsImltZyIsInRpdGxlIiwiZGVzYyIsImdldFJlc3VsdFRlbXBsYXRlIiwiaXNSVEwiLCJpbml0SGVhZGVyU2xpZGVyIiwic2xpY2siLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImRvdHMiLCJhcnJvd3MiLCJpbmZpbml0ZSIsImF1dG9wbGF5IiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsImNlbnRlck1vZGUiLCJpbml0U2VydmljZXNDYXJkU2xpZGVyIiwibmF2aWdhdGVUb05leHRTbGlkZSIsInNsaWRlckVsZW1lbnQiLCJuYXZpZ2F0ZVRvUHJldlNsaWRlIiwidXBkYXRlSGVhZGVyU2xpZGVOdW1iZXIiLCJjdXJyU2xpZGUiLCJjb3VudCIsImluaXRFemJhU2xpZGVyTmF2aWdhdG9yIiwiZm9jdXNPblNlbGVjdCIsInVwZGF0ZUV6YmFTbGlkZSIsImNhcm91c2VsIiwiaW5pdFN3YWxpZlNsaWRlciIsImluaXRQbGNhZUNhdGVnb3JpZXNTbGlkZXIiLCJpbml0TWF6YWRhdFNsaWRlciIsImluaXRQbGFjZVNsaWRlck5hdmlnYXRvciIsInNjcmVlbldpZHRoIiwiaW5uZXJXaWR0aCIsInVwZGF0ZVBsYWNlU2xpZGUiLCJjb25zb2xlIiwibG9nIiwiaW5pdE1vc3RQb3B1bGFyU2xpZGVyIiwiX21lbnUiLCJfYW5pbWF0aW9uIiwiX3NsaWRlcnMiLCJfc2VhcmNoRm9ybSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJuZXdPYmoiLCJoYXNPd25Qcm9wZXJ0eSIsImRlZmF1bHQiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsImhlYWRlckJnU2xpZGVyIiwiU3dpcGVyIiwiZWZmZWN0IiwibG9vcCIsInNsaWRlVG8iLCJlYWNoIiwic2VhcmNoRm9ybSIsImNsaWNrIiwic2VsZWN0MiIsImxhbmd1YWdlIiwiZXJyb3JMb2FkaW5nIiwibm9SZXN1bHRzIiwiX3RoaXMiLCJwYXJzZUludCIsImF0dHIiLCJyYW5nZXNsaWRlciIsInBvbHlmaWxsIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxF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LG1CQUFrQixvQkFNakI1QyxFQUFFLHFCQUFxQjloQixTQUd4QjhoQixFQUFFLGdCQUFnQnlDLFNBQVMsQ0FBRW5RLFVBQVUsS0FHdkMsRUFBQWdSLEVBQUFULDBCQUF5QixxQkFFekI3QyxFQUFFLGdCQUFnQnJDLEdBQUcscUJBQXFCLFNBQVU1TixHQUNsRGlRLEVBQUUscUJBQXFCb0IsTUFBTSxZQUFhclIsRUFBTXBSLEdBQ2pELElBRURxaEIsRUFBRSxxREFBcURtRSxNQUFLLFNBQVU1bUIsRUFBR0osR0FBRyxJQUFBdW5CLEVBQUFwbUIsS0FDMUUwaEIsRUFBRTdpQixHQUFHd2dCLEdBQUcsU0FBUyxXQUFBLE9BQU0sRUFBQTJGLEVBQUFOLGtCQUFpQixLQUFNLEtBQU0yQixTQUFTM0UsRUFBRTBFLEdBQU1FLEtBQUsscUJBQXpELEdBQ2xCLEtBTUE1RSxFQUFFLHVCQUF1QjloQixRQUMxQjhoQixFQUFFLHVCQUF1QjZFLFlBQVksQ0FDbkNDLFVBQVUsSUFPZCxJQUFNM2lCLEVBQVE0SyxTQUFTd1MsZUFBZSxTQUVuQ3BkLEdBQ0R1YixFQUFXaUIsT0FBT3hjLEVBQU8sQ0FDdkJBLE1BQU8sQ0FDSG5DLElBQU8sR0FDUEQsSUFBTyxLQUVYeUYsS0FBTSxFQUNOb0UsTUFBTyxDQUFDLElBQUssTUFDYlUsT0FBUSxJQUNSaEQsU0FBUyxFQUNUL0MsVUFBVyxNQUNYZ0gsVUFBVSxHQUlmLElBRUR3QixTQUFTNEIsaUJBQWlCLG9CQUFvQixXQUM1QzVCLFNBQVM2UyxjQUFjLFFBQVFuZixVQUFVRyxPQUFPLG1CQUNoRG1NLFNBQVM2UyxjQUFjLHFCQUFxQm5mLFVBQVVFLElBQUksT0FDM0QsR0xtcEZELEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxtQkFBbUIsRUFBRSx5QkFBeUIsRUFBRSxzQkFBc0IsRUFBRThkLFdBQWEsS0FBSyxDQUFDLEVBQUUsQ0FBQyIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAgIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLm5vVWlTbGlkZXIgPSB7fSkpO1xufSkodGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIGV4cG9ydHMuUGlwc01vZGUgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChQaXBzTW9kZSkge1xuICAgICAgICBQaXBzTW9kZVtcIlJhbmdlXCJdID0gXCJyYW5nZVwiO1xuICAgICAgICBQaXBzTW9kZVtcIlN0ZXBzXCJdID0gXCJzdGVwc1wiO1xuICAgICAgICBQaXBzTW9kZVtcIlBvc2l0aW9uc1wiXSA9IFwicG9zaXRpb25zXCI7XG4gICAgICAgIFBpcHNNb2RlW1wiQ291bnRcIl0gPSBcImNvdW50XCI7XG4gICAgICAgIFBpcHNNb2RlW1wiVmFsdWVzXCJdID0gXCJ2YWx1ZXNcIjtcbiAgICB9KShleHBvcnRzLlBpcHNNb2RlIHx8IChleHBvcnRzLlBpcHNNb2RlID0ge30pKTtcbiAgICBleHBvcnRzLlBpcHNUeXBlID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoUGlwc1R5cGUpIHtcbiAgICAgICAgUGlwc1R5cGVbUGlwc1R5cGVbXCJOb25lXCJdID0gLTFdID0gXCJOb25lXCI7XG4gICAgICAgIFBpcHNUeXBlW1BpcHNUeXBlW1wiTm9WYWx1ZVwiXSA9IDBdID0gXCJOb1ZhbHVlXCI7XG4gICAgICAgIFBpcHNUeXBlW1BpcHNUeXBlW1wiTGFyZ2VWYWx1ZVwiXSA9IDFdID0gXCJMYXJnZVZhbHVlXCI7XG4gICAgICAgIFBpcHNUeXBlW1BpcHNUeXBlW1wiU21hbGxWYWx1ZVwiXSA9IDJdID0gXCJTbWFsbFZhbHVlXCI7XG4gICAgfSkoZXhwb3J0cy5QaXBzVHlwZSB8fCAoZXhwb3J0cy5QaXBzVHlwZSA9IHt9KSk7XG4gICAgLy9yZWdpb24gSGVscGVyIE1ldGhvZHNcbiAgICBmdW5jdGlvbiBpc1ZhbGlkRm9ybWF0dGVyKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkUGFydGlhbEZvcm1hdHRlcihlbnRyeSkgJiYgdHlwZW9mIGVudHJ5LmZyb20gPT09IFwiZnVuY3Rpb25cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZFBhcnRpYWxGb3JtYXR0ZXIoZW50cnkpIHtcbiAgICAgICAgLy8gcGFydGlhbCBmb3JtYXR0ZXJzIG9ubHkgbmVlZCBhIHRvIGZ1bmN0aW9uIGFuZCBub3QgYSBmcm9tIGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiB0eXBlb2YgZW50cnkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGVudHJ5LnRvID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWwpIHtcbiAgICAgICAgZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBCaW5kYWJsZSB2ZXJzaW9uXG4gICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIC8vIFJlbW92ZXMgZHVwbGljYXRlcyBmcm9tIGFuIGFycmF5LlxuICAgIGZ1bmN0aW9uIHVuaXF1ZShhcnJheSkge1xuICAgICAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXNbYV0gPyAodGhpc1thXSA9IHRydWUpIDogZmFsc2U7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgLy8gUm91bmQgYSB2YWx1ZSB0byB0aGUgY2xvc2VzdCAndG8nLlxuICAgIGZ1bmN0aW9uIGNsb3Nlc3QodmFsdWUsIHRvKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gdG8pICogdG87XG4gICAgfVxuICAgIC8vIEN1cnJlbnQgcG9zaXRpb24gb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQuXG4gICAgZnVuY3Rpb24gb2Zmc2V0KGVsZW0sIG9yaWVudGF0aW9uKSB7XG4gICAgICAgIHZhciByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcbiAgICAgICAgdmFyIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgcGFnZU9mZnNldCA9IGdldFBhZ2VPZmZzZXQoZG9jKTtcbiAgICAgICAgLy8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGNvbnRhaW5zIGxlZnQgc2Nyb2xsIGluIENocm9tZSBvbiBBbmRyb2lkLlxuICAgICAgICAvLyBJIGhhdmVuJ3QgZm91bmQgYSBmZWF0dXJlIGRldGVjdGlvbiB0aGF0IHByb3ZlcyB0aGlzLiBXb3JzdCBjYXNlXG4gICAgICAgIC8vIHNjZW5hcmlvIG9uIG1pcy1tYXRjaDogdGhlICd0YXAnIGZlYXR1cmUgb24gaG9yaXpvbnRhbCBzbGlkZXJzIGJyZWFrcy5cbiAgICAgICAgaWYgKC93ZWJraXQuKkNocm9tZS4qTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgICAgcGFnZU9mZnNldC54ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3JpZW50YXRpb24gPyByZWN0LnRvcCArIHBhZ2VPZmZzZXQueSAtIGRvY0VsZW0uY2xpZW50VG9wIDogcmVjdC5sZWZ0ICsgcGFnZU9mZnNldC54IC0gZG9jRWxlbS5jbGllbnRMZWZ0O1xuICAgIH1cbiAgICAvLyBDaGVja3Mgd2hldGhlciBhIHZhbHVlIGlzIG51bWVyaWNhbC5cbiAgICBmdW5jdGlvbiBpc051bWVyaWMoYSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGEgPT09IFwibnVtYmVyXCIgJiYgIWlzTmFOKGEpICYmIGlzRmluaXRlKGEpO1xuICAgIH1cbiAgICAvLyBTZXRzIGEgY2xhc3MgYW5kIHJlbW92ZXMgaXQgYWZ0ZXIgW2R1cmF0aW9uXSBtcy5cbiAgICBmdW5jdGlvbiBhZGRDbGFzc0ZvcihlbGVtZW50LCBjbGFzc05hbWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgfSwgZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIExpbWl0cyBhIHZhbHVlIHRvIDAgLSAxMDBcbiAgICBmdW5jdGlvbiBsaW1pdChhKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbihhLCAxMDApLCAwKTtcbiAgICB9XG4gICAgLy8gV3JhcHMgYSB2YXJpYWJsZSBhcyBhbiBhcnJheSwgaWYgaXQgaXNuJ3Qgb25lIHlldC5cbiAgICAvLyBOb3RlIHRoYXQgYW4gaW5wdXQgYXJyYXkgaXMgcmV0dXJuZWQgYnkgcmVmZXJlbmNlIVxuICAgIGZ1bmN0aW9uIGFzQXJyYXkoYSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGEgOiBbYV07XG4gICAgfVxuICAgIC8vIENvdW50cyBkZWNpbWFsc1xuICAgIGZ1bmN0aW9uIGNvdW50RGVjaW1hbHMobnVtU3RyKSB7XG4gICAgICAgIG51bVN0ciA9IFN0cmluZyhudW1TdHIpO1xuICAgICAgICB2YXIgcGllY2VzID0gbnVtU3RyLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgcmV0dXJuIHBpZWNlcy5sZW5ndGggPiAxID8gcGllY2VzWzFdLmxlbmd0aCA6IDA7XG4gICAgfVxuICAgIC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNhZGRfY2xhc3NcbiAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgIS9cXHMvLnRlc3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwuY2xhc3NOYW1lICs9IFwiIFwiICsgY2xhc3NOYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNyZW1vdmVfY2xhc3NcbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgIS9cXHMvLnRlc3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChcIihefFxcXFxiKVwiICsgY2xhc3NOYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwifFwiKSArIFwiKFxcXFxifCQpXCIsIFwiZ2lcIiksIFwiIFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBodHRwczovL3BsYWluanMuY29tL2phdmFzY3JpcHQvYXR0cmlidXRlcy9hZGRpbmctcmVtb3ZpbmctYW5kLXRlc3RpbmctZm9yLWNsYXNzZXMtOS9cbiAgICBmdW5jdGlvbiBoYXNDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3QgPyBlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSA6IG5ldyBSZWdFeHAoXCJcXFxcYlwiICsgY2xhc3NOYW1lICsgXCJcXFxcYlwiKS50ZXN0KGVsLmNsYXNzTmFtZSk7XG4gICAgfVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvc2Nyb2xsWSNOb3Rlc1xuICAgIGZ1bmN0aW9uIGdldFBhZ2VPZmZzZXQoZG9jKSB7XG4gICAgICAgIHZhciBzdXBwb3J0UGFnZU9mZnNldCA9IHdpbmRvdy5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgaXNDU1MxQ29tcGF0ID0gKGRvYy5jb21wYXRNb2RlIHx8IFwiXCIpID09PSBcIkNTUzFDb21wYXRcIjtcbiAgICAgICAgdmFyIHggPSBzdXBwb3J0UGFnZU9mZnNldFxuICAgICAgICAgICAgPyB3aW5kb3cucGFnZVhPZmZzZXRcbiAgICAgICAgICAgIDogaXNDU1MxQ29tcGF0XG4gICAgICAgICAgICAgICAgPyBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnRcbiAgICAgICAgICAgICAgICA6IGRvYy5ib2R5LnNjcm9sbExlZnQ7XG4gICAgICAgIHZhciB5ID0gc3VwcG9ydFBhZ2VPZmZzZXRcbiAgICAgICAgICAgID8gd2luZG93LnBhZ2VZT2Zmc2V0XG4gICAgICAgICAgICA6IGlzQ1NTMUNvbXBhdFxuICAgICAgICAgICAgICAgID8gZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICA6IGRvYy5ib2R5LnNjcm9sbFRvcDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyB3ZSBwcm92aWRlIGEgZnVuY3Rpb24gdG8gY29tcHV0ZSBjb25zdGFudHMgaW5zdGVhZFxuICAgIC8vIG9mIGFjY2Vzc2luZyB3aW5kb3cuKiBhcyBzb29uIGFzIHRoZSBtb2R1bGUgbmVlZHMgaXRcbiAgICAvLyBzbyB0aGF0IHdlIGRvIG5vdCBjb21wdXRlIGFueXRoaW5nIGlmIG5vdCBuZWVkZWRcbiAgICBmdW5jdGlvbiBnZXRBY3Rpb25zKCkge1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGV2ZW50cyB0byBiaW5kLiBJRTExIGltcGxlbWVudHMgcG9pbnRlckV2ZW50cyB3aXRob3V0XG4gICAgICAgIC8vIGEgcHJlZml4LCB3aGljaCBicmVha3MgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBJRTEwIGltcGxlbWVudGF0aW9uLlxuICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IFwicG9pbnRlcmRvd25cIixcbiAgICAgICAgICAgICAgICBtb3ZlOiBcInBvaW50ZXJtb3ZlXCIsXG4gICAgICAgICAgICAgICAgZW5kOiBcInBvaW50ZXJ1cFwiLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwiTVNQb2ludGVyRG93blwiLFxuICAgICAgICAgICAgICAgICAgICBtb3ZlOiBcIk1TUG9pbnRlck1vdmVcIixcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBcIk1TUG9pbnRlclVwXCIsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBzdGFydDogXCJtb3VzZWRvd24gdG91Y2hzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICBtb3ZlOiBcIm1vdXNlbW92ZSB0b3VjaG1vdmVcIixcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBcIm1vdXNldXAgdG91Y2hlbmRcIixcbiAgICAgICAgICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZFxuICAgIC8vIElzc3VlICM3ODVcbiAgICBmdW5jdGlvbiBnZXRTdXBwb3J0c1Bhc3NpdmUoKSB7XG4gICAgICAgIHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInBhc3NpdmVcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBudWxsLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuQ1NTICYmIENTUy5zdXBwb3J0cyAmJiBDU1Muc3VwcG9ydHMoXCJ0b3VjaC1hY3Rpb25cIiwgXCJub25lXCIpO1xuICAgIH1cbiAgICAvL2VuZHJlZ2lvblxuICAgIC8vcmVnaW9uIFJhbmdlIENhbGN1bGF0aW9uXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBzaXplIG9mIGEgc3ViLXJhbmdlIGluIHJlbGF0aW9uIHRvIGEgZnVsbCByYW5nZS5cbiAgICBmdW5jdGlvbiBzdWJSYW5nZVJhdGlvKHBhLCBwYikge1xuICAgICAgICByZXR1cm4gMTAwIC8gKHBiIC0gcGEpO1xuICAgIH1cbiAgICAvLyAocGVyY2VudGFnZSkgSG93IG1hbnkgcGVyY2VudCBpcyB0aGlzIHZhbHVlIG9mIHRoaXMgcmFuZ2U/XG4gICAgZnVuY3Rpb24gZnJvbVBlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlLCBzdGFydFJhbmdlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgKiAxMDApIC8gKHJhbmdlW3N0YXJ0UmFuZ2UgKyAxXSAtIHJhbmdlW3N0YXJ0UmFuZ2VdKTtcbiAgICB9XG4gICAgLy8gKHBlcmNlbnRhZ2UpIFdoZXJlIGlzIHRoaXMgdmFsdWUgb24gdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiB0b1BlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmcm9tUGVyY2VudGFnZShyYW5nZSwgcmFuZ2VbMF0gPCAwID8gdmFsdWUgKyBNYXRoLmFicyhyYW5nZVswXSkgOiB2YWx1ZSAtIHJhbmdlWzBdLCAwKTtcbiAgICB9XG4gICAgLy8gKHZhbHVlKSBIb3cgbXVjaCBpcyB0aGlzIHBlcmNlbnRhZ2Ugb24gdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiBpc1BlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgKiAocmFuZ2VbMV0gLSByYW5nZVswXSkpIC8gMTAwICsgcmFuZ2VbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEoodmFsdWUsIGFycikge1xuICAgICAgICB2YXIgaiA9IDE7XG4gICAgICAgIHdoaWxlICh2YWx1ZSA+PSBhcnJbal0pIHtcbiAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gajtcbiAgICB9XG4gICAgLy8gKHBlcmNlbnRhZ2UpIElucHV0IGEgdmFsdWUsIGZpbmQgd2hlcmUsIG9uIGEgc2NhbGUgb2YgMC0xMDAsIGl0IGFwcGxpZXMuXG4gICAgZnVuY3Rpb24gdG9TdGVwcGluZyh4VmFsLCB4UGN0LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPj0geFZhbC5zbGljZSgtMSlbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4VmFsKTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuICAgICAgICByZXR1cm4gcGEgKyB0b1BlcmNlbnRhZ2UoW3ZhLCB2Yl0sIHZhbHVlKSAvIHN1YlJhbmdlUmF0aW8ocGEsIHBiKTtcbiAgICB9XG4gICAgLy8gKHZhbHVlKSBJbnB1dCBhIHBlcmNlbnRhZ2UsIGZpbmQgd2hlcmUgaXQgaXMgb24gdGhlIHNwZWNpZmllZCByYW5nZS5cbiAgICBmdW5jdGlvbiBmcm9tU3RlcHBpbmcoeFZhbCwgeFBjdCwgdmFsdWUpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gcmFuZ2UgZ3JvdXAgdGhhdCBmaXRzIDEwMFxuICAgICAgICBpZiAodmFsdWUgPj0gMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4geFZhbC5zbGljZSgtMSlbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuICAgICAgICByZXR1cm4gaXNQZXJjZW50YWdlKFt2YSwgdmJdLCAodmFsdWUgLSBwYSkgKiBzdWJSYW5nZVJhdGlvKHBhLCBwYikpO1xuICAgIH1cbiAgICAvLyAocGVyY2VudGFnZSkgR2V0IHRoZSBzdGVwIHRoYXQgYXBwbGllcyBhdCBhIGNlcnRhaW4gdmFsdWUuXG4gICAgZnVuY3Rpb24gZ2V0U3RlcCh4UGN0LCB4U3RlcHMsIHNuYXAsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIGEgPSB4UGN0W2ogLSAxXTtcbiAgICAgICAgdmFyIGIgPSB4UGN0W2pdO1xuICAgICAgICAvLyBJZiAnc25hcCcgaXMgc2V0LCBzdGVwcyBhcmUgdXNlZCBhcyBmaXhlZCBwb2ludHMgb24gdGhlIHNsaWRlci5cbiAgICAgICAgaWYgKHNuYXApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3QgcG9zaXRpb24sIGEgb3IgYi5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAtIGEgPiAoYiAtIGEpIC8gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF4U3RlcHNbaiAtIDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHhQY3RbaiAtIDFdICsgY2xvc2VzdCh2YWx1ZSAtIHhQY3RbaiAtIDFdLCB4U3RlcHNbaiAtIDFdKTtcbiAgICB9XG4gICAgLy9lbmRyZWdpb25cbiAgICAvL3JlZ2lvbiBTcGVjdHJ1bVxuICAgIHZhciBTcGVjdHJ1bSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gU3BlY3RydW0oZW50cnksIHNuYXAsIHNpbmdsZVN0ZXApIHtcbiAgICAgICAgICAgIHRoaXMueFBjdCA9IFtdO1xuICAgICAgICAgICAgdGhpcy54VmFsID0gW107XG4gICAgICAgICAgICB0aGlzLnhTdGVwcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy54TnVtU3RlcHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXAgPSBbXTtcbiAgICAgICAgICAgIHRoaXMueFN0ZXBzID0gW3NpbmdsZVN0ZXAgfHwgZmFsc2VdO1xuICAgICAgICAgICAgdGhpcy54TnVtU3RlcHMgPSBbZmFsc2VdO1xuICAgICAgICAgICAgdGhpcy5zbmFwID0gc25hcDtcbiAgICAgICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgICAgIHZhciBvcmRlcmVkID0gW107XG4gICAgICAgICAgICAvLyBNYXAgdGhlIG9iamVjdCBrZXlzIHRvIGFuIGFycmF5LlxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZW50cnkpLmZvckVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgb3JkZXJlZC5wdXNoKFthc0FycmF5KGVudHJ5W2luZGV4XSksIGluZGV4XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFNvcnQgYWxsIGVudHJpZXMgYnkgdmFsdWUgKG51bWVyaWMgc29ydCkuXG4gICAgICAgICAgICBvcmRlcmVkLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVswXVswXSAtIGJbMF1bMF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgYWxsIGVudHJpZXMgdG8gc3VicmFuZ2VzLlxuICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgb3JkZXJlZC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVudHJ5UG9pbnQob3JkZXJlZFtpbmRleF1bMV0sIG9yZGVyZWRbaW5kZXhdWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhY3R1YWwgc3RlcCB2YWx1ZXMuXG4gICAgICAgICAgICAvLyB4U3RlcHMgaXMgc29ydGVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHhQY3QgYW5kIHhWYWwuXG4gICAgICAgICAgICB0aGlzLnhOdW1TdGVwcyA9IHRoaXMueFN0ZXBzLnNsaWNlKDApO1xuICAgICAgICAgICAgLy8gQ29udmVydCBhbGwgbnVtZXJpYyBzdGVwcyB0byB0aGUgcGVyY2VudGFnZSBvZiB0aGUgc3VicmFuZ2UgdGhleSByZXByZXNlbnQuXG4gICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0ZXBQb2ludChpbmRleCwgdGhpcy54TnVtU3RlcHNbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0RGlzdGFuY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGggLSAxOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VzW2luZGV4XSA9IGZyb21QZXJjZW50YWdlKHRoaXMueFZhbCwgdmFsdWUsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkaXN0YW5jZXM7XG4gICAgICAgIH07XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVyY2VudHVhbCBkaXN0YW5jZSBvdmVyIHRoZSB3aG9sZSBzY2FsZSBvZiByYW5nZXMuXG4gICAgICAgIC8vIGRpcmVjdGlvbjogMCA9IGJhY2t3YXJkcyAvIDEgPSBmb3J3YXJkc1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVEaXN0YW5jZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZGlzdGFuY2VzLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciB4UGN0X2luZGV4ID0gMDtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSByYW5nZSB3aGVyZSB0byBzdGFydCBjYWxjdWxhdGlvblxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgdGhpcy54UGN0W3RoaXMueFBjdC5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgIHdoaWxlICh2YWx1ZSA+IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgeFBjdF9pbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSB0aGlzLnhQY3RbdGhpcy54UGN0Lmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgeFBjdF9pbmRleCA9IHRoaXMueFBjdC5sZW5ndGggLSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgbG9va2luZyBiYWNrd2FyZHMgYW5kIHRoZSB2YWx1ZSBpcyBleGFjdGx5IGF0IGEgcmFuZ2Ugc2VwYXJhdG9yIHRoZW4gbG9vayBvbmUgcmFuZ2UgZnVydGhlclxuICAgICAgICAgICAgaWYgKCFkaXJlY3Rpb24gJiYgdmFsdWUgPT09IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICB4UGN0X2luZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2VzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRfZmFjdG9yO1xuICAgICAgICAgICAgdmFyIHJlc3RfZmFjdG9yID0gMTtcbiAgICAgICAgICAgIHZhciByZXN0X3JlbF9kaXN0YW5jZSA9IGRpc3RhbmNlc1t4UGN0X2luZGV4XTtcbiAgICAgICAgICAgIHZhciByYW5nZV9wY3QgPSAwO1xuICAgICAgICAgICAgdmFyIHJlbF9yYW5nZV9kaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICB2YXIgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdmFyIHJhbmdlX2NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHdoYXQgcGFydCBvZiB0aGUgc3RhcnQgcmFuZ2UgdGhlIHZhbHVlIGlzXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRfZmFjdG9yID0gKHZhbHVlIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKSAvICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9ICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdmFsdWUpIC8gKHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0gLSB0aGlzLnhQY3RbeFBjdF9pbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG8gdW50aWwgdGhlIGNvbXBsZXRlIGRpc3RhbmNlIGFjcm9zcyByYW5nZXMgaXMgY2FsY3VsYXRlZFxuICAgICAgICAgICAgd2hpbGUgKHJlc3RfcmVsX2Rpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVyY2VudGFnZSBvZiB0b3RhbCByYW5nZVxuICAgICAgICAgICAgICAgIHJhbmdlX3BjdCA9IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMSArIHJhbmdlX2NvdW50ZXJdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXggKyByYW5nZV9jb3VudGVyXTtcbiAgICAgICAgICAgICAgICAvLyBEZXRlY3QgaWYgdGhlIG1hcmdpbiwgcGFkZGluZyBvciBsaW1pdCBpcyBsYXJnZXIgdGhlbiB0aGUgY3VycmVudCByYW5nZSBhbmQgY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl0gKiByZXN0X2ZhY3RvciArIDEwMCAtIHN0YXJ0X2ZhY3RvciAqIDEwMCA+IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBsYXJnZXIgdGhlbiB0YWtlIHRoZSBwZXJjZW50dWFsIGRpc3RhbmNlIG9mIHRoZSB3aG9sZSByYW5nZVxuICAgICAgICAgICAgICAgICAgICByZWxfcmFuZ2VfZGlzdGFuY2UgPSByYW5nZV9wY3QgKiBzdGFydF9mYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3QgZmFjdG9yIG9mIHJlbGF0aXZlIHBlcmNlbnR1YWwgZGlzdGFuY2Ugc3RpbGwgdG8gYmUgY2FsY3VsYXRlZFxuICAgICAgICAgICAgICAgICAgICByZXN0X2ZhY3RvciA9IChyZXN0X3JlbF9kaXN0YW5jZSAtIDEwMCAqIHN0YXJ0X2ZhY3RvcikgLyBkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgc3RhcnQgZmFjdG9yIHRvIDEgYXMgZm9yIG5leHQgcmFuZ2UgaXQgZG9lcyBub3QgYXBwbHkuXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzbWFsbGVyIG9yIGVxdWFsIHRoZW4gdGFrZSB0aGUgcGVyY2VudHVhbCBkaXN0YW5jZSBvZiB0aGUgY2FsY3VsYXRlIHBlcmNlbnR1YWwgcGFydCBvZiB0aGF0IHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIHJlbF9yYW5nZV9kaXN0YW5jZSA9ICgoZGlzdGFuY2VzW3hQY3RfaW5kZXggKyByYW5nZV9jb3VudGVyXSAqIHJhbmdlX3BjdCkgLyAxMDApICogcmVzdF9mYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHJlc3QgbGVmdCBhcyB0aGUgcmVzdCBmaXRzIGluIGN1cnJlbnQgcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgcmVzdF9mYWN0b3IgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGFic19kaXN0YW5jZV9jb3VudGVyID0gYWJzX2Rpc3RhbmNlX2NvdW50ZXIgLSByZWxfcmFuZ2VfZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIExpbWl0IHJhbmdlIHRvIGZpcnN0IHJhbmdlIHdoZW4gZGlzdGFuY2UgYmVjb21lcyBvdXRzaWRlIG9mIG1pbmltdW0gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMueFBjdC5sZW5ndGggKyByYW5nZV9jb3VudGVyID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlX2NvdW50ZXItLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSBhYnNfZGlzdGFuY2VfY291bnRlciArIHJlbF9yYW5nZV9kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGltaXQgcmFuZ2UgdG8gbGFzdCByYW5nZSB3aGVuIGRpc3RhbmNlIGJlY29tZXMgb3V0c2lkZSBvZiBtYXhpbXVtIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnhQY3QubGVuZ3RoIC0gcmFuZ2VfY291bnRlciA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZV9jb3VudGVyKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVzdCBvZiByZWxhdGl2ZSBwZXJjZW50dWFsIGRpc3RhbmNlIHN0aWxsIHRvIGJlIGNhbGN1bGF0ZWRcbiAgICAgICAgICAgICAgICByZXN0X3JlbF9kaXN0YW5jZSA9IGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl0gKiByZXN0X2ZhY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIGFic19kaXN0YW5jZV9jb3VudGVyO1xuICAgICAgICB9O1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUudG9TdGVwcGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0b1N0ZXBwaW5nKHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5mcm9tU3RlcHBpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tU3RlcHBpbmcodGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmdldFN0ZXAgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZ2V0U3RlcCh0aGlzLnhQY3QsIHRoaXMueFN0ZXBzLCB0aGlzLnNuYXAsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmdldERlZmF1bHRTdGVwID0gZnVuY3Rpb24gKHZhbHVlLCBpc0Rvd24sIHNpemUpIHtcbiAgICAgICAgICAgIHZhciBqID0gZ2V0Sih2YWx1ZSwgdGhpcy54UGN0KTtcbiAgICAgICAgICAgIC8vIFdoZW4gYXQgdGhlIHRvcCBvciBzdGVwcGluZyBkb3duLCBsb29rIGF0IHRoZSBwcmV2aW91cyBzdWItcmFuZ2VcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMTAwIHx8IChpc0Rvd24gJiYgdmFsdWUgPT09IHRoaXMueFBjdFtqIC0gMV0pKSB7XG4gICAgICAgICAgICAgICAgaiA9IE1hdGgubWF4KGogLSAxLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAodGhpcy54VmFsW2pdIC0gdGhpcy54VmFsW2ogLSAxXSkgLyBzaXplO1xuICAgICAgICB9O1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0TmVhcmJ5U3RlcHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBqID0gZ2V0Sih2YWx1ZSwgdGhpcy54UGN0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RlcEJlZm9yZToge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlOiB0aGlzLnhWYWxbaiAtIDJdLFxuICAgICAgICAgICAgICAgICAgICBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqIC0gMl0sXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2ogLSAyXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRoaXNTdGVwOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2ogLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaiAtIDFdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RlcEFmdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqXSxcbiAgICAgICAgICAgICAgICAgICAgc3RlcDogdGhpcy54TnVtU3RlcHNbal0sXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2pdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuY291bnRTdGVwRGVjaW1hbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RlcERlY2ltYWxzID0gdGhpcy54TnVtU3RlcHMubWFwKGNvdW50RGVjaW1hbHMpO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHN0ZXBEZWNpbWFscyk7XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5oYXNOb1NpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54VmFsWzBdID09PSB0aGlzLnhWYWxbdGhpcy54VmFsLmxlbmd0aCAtIDFdO1xuICAgICAgICB9O1xuICAgICAgICAvLyBPdXRzaWRlIHRlc3RpbmdcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0ZXAodGhpcy50b1N0ZXBwaW5nKHZhbHVlKSk7XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5oYW5kbGVFbnRyeVBvaW50ID0gZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2U7XG4gICAgICAgICAgICAvLyBDb3ZlcnQgbWluL21heCBzeW50YXggdG8gMCBhbmQgMTAwLlxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbmRleCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSAxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlID0gcGFyc2VGbG9hdChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgY29ycmVjdCBpbnB1dC5cbiAgICAgICAgICAgIGlmICghaXNOdW1lcmljKHBlcmNlbnRhZ2UpIHx8ICFpc051bWVyaWModmFsdWVbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3JhbmdlJyB2YWx1ZSBpc24ndCBudW1lcmljLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0b3JlIHZhbHVlcy5cbiAgICAgICAgICAgIHRoaXMueFBjdC5wdXNoKHBlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgdGhpcy54VmFsLnB1c2godmFsdWVbMF0pO1xuICAgICAgICAgICAgdmFyIHZhbHVlMSA9IE51bWJlcih2YWx1ZVsxXSk7XG4gICAgICAgICAgICAvLyBOYU4gd2lsbCBldmFsdWF0ZSB0byBmYWxzZSB0b28sIGJ1dCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb2dnaW5nIGNsZWFyLCBzZXQgc3RlcCBleHBsaWNpdGx5LiBNYWtlIHN1cmVcbiAgICAgICAgICAgIC8vIG5vdCB0byBvdmVycmlkZSB0aGUgJ3N0ZXAnIHNldHRpbmcgd2l0aCBmYWxzZS5cbiAgICAgICAgICAgIGlmICghcGVyY2VudGFnZSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUxKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnhTdGVwc1swXSA9IHZhbHVlMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhTdGVwcy5wdXNoKGlzTmFOKHZhbHVlMSkgPyBmYWxzZSA6IHZhbHVlMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwLnB1c2goMCk7XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5oYW5kbGVTdGVwUG9pbnQgPSBmdW5jdGlvbiAoaSwgbikge1xuICAgICAgICAgICAgLy8gSWdub3JlICdmYWxzZScgc3RlcHBpbmcuXG4gICAgICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGVwIG92ZXIgemVyby1sZW5ndGggcmFuZ2VzICgjOTQ4KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnhWYWxbaV0gPT09IHRoaXMueFZhbFtpICsgMV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhTdGVwc1tpXSA9IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaV0gPSB0aGlzLnhWYWxbaV07XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmFjdG9yIHRvIHJhbmdlIHJhdGlvXG4gICAgICAgICAgICB0aGlzLnhTdGVwc1tpXSA9XG4gICAgICAgICAgICAgICAgZnJvbVBlcmNlbnRhZ2UoW3RoaXMueFZhbFtpXSwgdGhpcy54VmFsW2kgKyAxXV0sIG4sIDApIC8gc3ViUmFuZ2VSYXRpbyh0aGlzLnhQY3RbaV0sIHRoaXMueFBjdFtpICsgMV0pO1xuICAgICAgICAgICAgdmFyIHRvdGFsU3RlcHMgPSAodGhpcy54VmFsW2kgKyAxXSAtIHRoaXMueFZhbFtpXSkgLyB0aGlzLnhOdW1TdGVwc1tpXTtcbiAgICAgICAgICAgIHZhciBoaWdoZXN0U3RlcCA9IE1hdGguY2VpbChOdW1iZXIodG90YWxTdGVwcy50b0ZpeGVkKDMpKSAtIDEpO1xuICAgICAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLnhWYWxbaV0gKyB0aGlzLnhOdW1TdGVwc1tpXSAqIGhpZ2hlc3RTdGVwO1xuICAgICAgICAgICAgdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtpXSA9IHN0ZXA7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBTcGVjdHJ1bTtcbiAgICB9KCkpO1xuICAgIC8vZW5kcmVnaW9uXG4gICAgLy9yZWdpb24gT3B0aW9uc1xuICAgIC8qXHRFdmVyeSBpbnB1dCBvcHRpb24gaXMgdGVzdGVkIGFuZCBwYXJzZWQuIFRoaXMgd2lsbCBwcmV2ZW50XG4gICAgICAgIGVuZGxlc3MgdmFsaWRhdGlvbiBpbiBpbnRlcm5hbCBtZXRob2RzLiBUaGVzZSB0ZXN0cyBhcmVcbiAgICAgICAgc3RydWN0dXJlZCB3aXRoIGFuIGl0ZW0gZm9yIGV2ZXJ5IG9wdGlvbiBhdmFpbGFibGUuIEFuXG4gICAgICAgIG9wdGlvbiBjYW4gYmUgbWFya2VkIGFzIHJlcXVpcmVkIGJ5IHNldHRpbmcgdGhlICdyJyBmbGFnLlxuICAgICAgICBUaGUgdGVzdGluZyBmdW5jdGlvbiBpcyBwcm92aWRlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgICAgICAgIC0gVGhlIHByb3ZpZGVkIHZhbHVlIGZvciB0aGUgb3B0aW9uO1xuICAgICAgICAgICAgLSBBIHJlZmVyZW5jZSB0byB0aGUgb3B0aW9ucyBvYmplY3Q7XG4gICAgICAgICAgICAtIFRoZSBuYW1lIGZvciB0aGUgb3B0aW9uO1xuXG4gICAgICAgIFRoZSB0ZXN0aW5nIGZ1bmN0aW9uIHJldHVybnMgZmFsc2Ugd2hlbiBhbiBlcnJvciBpcyBkZXRlY3RlZCxcbiAgICAgICAgb3IgdHJ1ZSB3aGVuIGV2ZXJ5dGhpbmcgaXMgT0suIEl0IGNhbiBhbHNvIG1vZGlmeSB0aGUgb3B0aW9uXG4gICAgICAgIG9iamVjdCwgdG8gbWFrZSBzdXJlIGFsbCB2YWx1ZXMgY2FuIGJlIGNvcnJlY3RseSBsb29wZWQgZWxzZXdoZXJlLiAqL1xuICAgIC8vcmVnaW9uIERlZmF1bHRzXG4gICAgdmFyIGRlZmF1bHRGb3JtYXR0ZXIgPSB7XG4gICAgICAgIHRvOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHZhbHVlLnRvRml4ZWQoMik7XG4gICAgICAgIH0sXG4gICAgICAgIGZyb206IE51bWJlcixcbiAgICB9O1xuICAgIHZhciBjc3NDbGFzc2VzID0ge1xuICAgICAgICB0YXJnZXQ6IFwidGFyZ2V0XCIsXG4gICAgICAgIGJhc2U6IFwiYmFzZVwiLFxuICAgICAgICBvcmlnaW46IFwib3JpZ2luXCIsXG4gICAgICAgIGhhbmRsZTogXCJoYW5kbGVcIixcbiAgICAgICAgaGFuZGxlTG93ZXI6IFwiaGFuZGxlLWxvd2VyXCIsXG4gICAgICAgIGhhbmRsZVVwcGVyOiBcImhhbmRsZS11cHBlclwiLFxuICAgICAgICB0b3VjaEFyZWE6IFwidG91Y2gtYXJlYVwiLFxuICAgICAgICBob3Jpem9udGFsOiBcImhvcml6b250YWxcIixcbiAgICAgICAgdmVydGljYWw6IFwidmVydGljYWxcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJiYWNrZ3JvdW5kXCIsXG4gICAgICAgIGNvbm5lY3Q6IFwiY29ubmVjdFwiLFxuICAgICAgICBjb25uZWN0czogXCJjb25uZWN0c1wiLFxuICAgICAgICBsdHI6IFwibHRyXCIsXG4gICAgICAgIHJ0bDogXCJydGxcIixcbiAgICAgICAgdGV4dERpcmVjdGlvbkx0cjogXCJ0eHQtZGlyLWx0clwiLFxuICAgICAgICB0ZXh0RGlyZWN0aW9uUnRsOiBcInR4dC1kaXItcnRsXCIsXG4gICAgICAgIGRyYWdnYWJsZTogXCJkcmFnZ2FibGVcIixcbiAgICAgICAgZHJhZzogXCJzdGF0ZS1kcmFnXCIsXG4gICAgICAgIHRhcDogXCJzdGF0ZS10YXBcIixcbiAgICAgICAgYWN0aXZlOiBcImFjdGl2ZVwiLFxuICAgICAgICB0b29sdGlwOiBcInRvb2x0aXBcIixcbiAgICAgICAgcGlwczogXCJwaXBzXCIsXG4gICAgICAgIHBpcHNIb3Jpem9udGFsOiBcInBpcHMtaG9yaXpvbnRhbFwiLFxuICAgICAgICBwaXBzVmVydGljYWw6IFwicGlwcy12ZXJ0aWNhbFwiLFxuICAgICAgICBtYXJrZXI6IFwibWFya2VyXCIsXG4gICAgICAgIG1hcmtlckhvcml6b250YWw6IFwibWFya2VyLWhvcml6b250YWxcIixcbiAgICAgICAgbWFya2VyVmVydGljYWw6IFwibWFya2VyLXZlcnRpY2FsXCIsXG4gICAgICAgIG1hcmtlck5vcm1hbDogXCJtYXJrZXItbm9ybWFsXCIsXG4gICAgICAgIG1hcmtlckxhcmdlOiBcIm1hcmtlci1sYXJnZVwiLFxuICAgICAgICBtYXJrZXJTdWI6IFwibWFya2VyLXN1YlwiLFxuICAgICAgICB2YWx1ZTogXCJ2YWx1ZVwiLFxuICAgICAgICB2YWx1ZUhvcml6b250YWw6IFwidmFsdWUtaG9yaXpvbnRhbFwiLFxuICAgICAgICB2YWx1ZVZlcnRpY2FsOiBcInZhbHVlLXZlcnRpY2FsXCIsXG4gICAgICAgIHZhbHVlTm9ybWFsOiBcInZhbHVlLW5vcm1hbFwiLFxuICAgICAgICB2YWx1ZUxhcmdlOiBcInZhbHVlLWxhcmdlXCIsXG4gICAgICAgIHZhbHVlU3ViOiBcInZhbHVlLXN1YlwiLFxuICAgIH07XG4gICAgLy8gTmFtZXNwYWNlcyBvZiBpbnRlcm5hbCBldmVudCBsaXN0ZW5lcnNcbiAgICB2YXIgSU5URVJOQUxfRVZFTlRfTlMgPSB7XG4gICAgICAgIHRvb2x0aXBzOiBcIi5fX3Rvb2x0aXBzXCIsXG4gICAgICAgIGFyaWE6IFwiLl9fYXJpYVwiLFxuICAgIH07XG4gICAgLy9lbmRyZWdpb25cbiAgICBmdW5jdGlvbiB0ZXN0U3RlcChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3N0ZXAnIGlzIG5vdCBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgc3RlcCBvcHRpb24gY2FuIHN0aWxsIGJlIHVzZWQgdG8gc2V0IHN0ZXBwaW5nXG4gICAgICAgIC8vIGZvciBsaW5lYXIgc2xpZGVycy4gT3ZlcndyaXR0ZW4gaWYgc2V0IGluICdyYW5nZScuXG4gICAgICAgIHBhcnNlZC5zaW5nbGVTdGVwID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RLZXlib2FyZFBhZ2VNdWx0aXBsaWVyKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAna2V5Ym9hcmRQYWdlTXVsdGlwbGllcicgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5rZXlib2FyZFBhZ2VNdWx0aXBsaWVyID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RLZXlib2FyZE11bHRpcGxpZXIocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdrZXlib2FyZE11bHRpcGxpZXInIGlzIG5vdCBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQua2V5Ym9hcmRNdWx0aXBsaWVyID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RLZXlib2FyZERlZmF1bHRTdGVwKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAna2V5Ym9hcmREZWZhdWx0U3RlcCcgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5rZXlib2FyZERlZmF1bHRTdGVwID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RSYW5nZShwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIEZpbHRlciBpbmNvcnJlY3QgaW5wdXQuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdyYW5nZScgaXMgbm90IGFuIG9iamVjdC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2F0Y2ggbWlzc2luZyBzdGFydCBvciBlbmQuXG4gICAgICAgIGlmIChlbnRyeS5taW4gPT09IHVuZGVmaW5lZCB8fCBlbnRyeS5tYXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogTWlzc2luZyAnbWluJyBvciAnbWF4JyBpbiAncmFuZ2UnLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuc3BlY3RydW0gPSBuZXcgU3BlY3RydW0oZW50cnksIHBhcnNlZC5zbmFwIHx8IGZhbHNlLCBwYXJzZWQuc2luZ2xlU3RlcCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdGFydChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGVudHJ5ID0gYXNBcnJheShlbnRyeSk7XG4gICAgICAgIC8vIFZhbGlkYXRlIGlucHV0LiBWYWx1ZXMgYXJlbid0IHRlc3RlZCwgYXMgdGhlIHB1YmxpYyAudmFsIG1ldGhvZFxuICAgICAgICAvLyB3aWxsIGFsd2F5cyBwcm92aWRlIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyeSkgfHwgIWVudHJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3N0YXJ0JyBvcHRpb24gaXMgaW5jb3JyZWN0LlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdG9yZSB0aGUgbnVtYmVyIG9mIGhhbmRsZXMuXG4gICAgICAgIHBhcnNlZC5oYW5kbGVzID0gZW50cnkubGVuZ3RoO1xuICAgICAgICAvLyBXaGVuIHRoZSBzbGlkZXIgaXMgaW5pdGlhbGl6ZWQsIHRoZSAudmFsIG1ldGhvZCB3aWxsXG4gICAgICAgIC8vIGJlIGNhbGxlZCB3aXRoIHRoZSBzdGFydCBvcHRpb25zLlxuICAgICAgICBwYXJzZWQuc3RhcnQgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFNuYXAocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3NuYXAnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5mb3JjZSAxMDAlIHN0ZXBwaW5nIHdpdGhpbiBzdWJyYW5nZXMuXG4gICAgICAgIHBhcnNlZC5zbmFwID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RBbmltYXRlKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdhbmltYXRlJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLlxuICAgICAgICBwYXJzZWQuYW5pbWF0ZSA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24ocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnYW5pbWF0aW9uRHVyYXRpb24nIG9wdGlvbiBtdXN0IGJlIGEgbnVtYmVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuYW5pbWF0aW9uRHVyYXRpb24gPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdENvbm5lY3QocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICB2YXIgY29ubmVjdCA9IFtmYWxzZV07XG4gICAgICAgIHZhciBpO1xuICAgICAgICAvLyBNYXAgbGVnYWN5IG9wdGlvbnNcbiAgICAgICAgaWYgKGVudHJ5ID09PSBcImxvd2VyXCIpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW3RydWUsIGZhbHNlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbnRyeSA9PT0gXCJ1cHBlclwiKSB7XG4gICAgICAgICAgICBlbnRyeSA9IFtmYWxzZSwgdHJ1ZV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGJvb2xlYW4gb3B0aW9uc1xuICAgICAgICBpZiAoZW50cnkgPT09IHRydWUgfHwgZW50cnkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbm5lY3QucHVzaChlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0LnB1c2goZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlamVjdCBpbnZhbGlkIGlucHV0XG4gICAgICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGVudHJ5KSB8fCAhZW50cnkubGVuZ3RoIHx8IGVudHJ5Lmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMgKyAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnY29ubmVjdCcgb3B0aW9uIGRvZXNuJ3QgbWF0Y2ggaGFuZGxlIGNvdW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbm5lY3QgPSBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuY29ubmVjdCA9IGNvbm5lY3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RPcmllbnRhdGlvbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIFNldCBvcmllbnRhdGlvbiB0byBhbiBhIG51bWVyaWNhbCB2YWx1ZSBmb3IgZWFzeVxuICAgICAgICAvLyBhcnJheSBzZWxlY3Rpb24uXG4gICAgICAgIHN3aXRjaCAoZW50cnkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJob3Jpem9udGFsXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VkLm9ydCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidmVydGljYWxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQub3J0ID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ29yaWVudGF0aW9uJyBvcHRpb24gaXMgaW52YWxpZC5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdE1hcmdpbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ21hcmdpbicgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSXNzdWUgIzU4MlxuICAgICAgICBpZiAoZW50cnkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQubWFyZ2luID0gcGFyc2VkLnNwZWN0cnVtLmdldERpc3RhbmNlKGVudHJ5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdExpbWl0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnbGltaXQnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5saW1pdCA9IHBhcnNlZC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlbnRyeSk7XG4gICAgICAgIGlmICghcGFyc2VkLmxpbWl0IHx8IHBhcnNlZC5oYW5kbGVzIDwgMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2xpbWl0JyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMgd2l0aCAyIG9yIG1vcmUgaGFuZGxlcy5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFBhZGRpbmcocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSAmJiAhQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBudW1lcmljIG9yIGFycmF5IG9mIGV4YWN0bHkgMiBudW1iZXJzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlbnRyeSkgJiYgIShlbnRyeS5sZW5ndGggPT09IDIgfHwgaXNOdW1lcmljKGVudHJ5WzBdKSB8fCBpc051bWVyaWMoZW50cnlbMV0pKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMgb3IgYXJyYXkgb2YgZXhhY3RseSAyIG51bWJlcnMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW2VudHJ5LCBlbnRyeV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gJ2dldERpc3RhbmNlJyByZXR1cm5zIGZhbHNlIGZvciBpbnZhbGlkIHZhbHVlcy5cbiAgICAgICAgcGFyc2VkLnBhZGRpbmcgPSBbcGFyc2VkLnNwZWN0cnVtLmdldERpc3RhbmNlKGVudHJ5WzBdKSwgcGFyc2VkLnNwZWN0cnVtLmdldERpc3RhbmNlKGVudHJ5WzFdKV07XG4gICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHBhcnNlZC5zcGVjdHJ1bS54TnVtU3RlcHMubGVuZ3RoIC0gMTsgaW5kZXgrKykge1xuICAgICAgICAgICAgLy8gbGFzdCBcInJhbmdlXCIgY2FuJ3QgY29udGFpbiBzdGVwIHNpemUgYXMgaXQgaXMgcHVyZWx5IGFuIGVuZHBvaW50LlxuICAgICAgICAgICAgaWYgKHBhcnNlZC5wYWRkaW5nWzBdW2luZGV4XSA8IDAgfHwgcGFyc2VkLnBhZGRpbmdbMV1baW5kZXhdIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcihzKS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdGFsUGFkZGluZyA9IGVudHJ5WzBdICsgZW50cnlbMV07XG4gICAgICAgIHZhciBmaXJzdFZhbHVlID0gcGFyc2VkLnNwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSBwYXJzZWQuc3BlY3RydW0ueFZhbFtwYXJzZWQuc3BlY3RydW0ueFZhbC5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKHRvdGFsUGFkZGluZyAvIChsYXN0VmFsdWUgLSBmaXJzdFZhbHVlKSA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBub3QgZXhjZWVkIDEwMCUgb2YgdGhlIHJhbmdlLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0RGlyZWN0aW9uKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gU2V0IGRpcmVjdGlvbiBhcyBhIG51bWVyaWNhbCB2YWx1ZSBmb3IgZWFzeSBwYXJzaW5nLlxuICAgICAgICAvLyBJbnZlcnQgY29ubmVjdGlvbiBmb3IgUlRMIHNsaWRlcnMsIHNvIHRoYXQgdGhlIHByb3BlclxuICAgICAgICAvLyBoYW5kbGVzIGdldCB0aGUgY29ubmVjdC9iYWNrZ3JvdW5kIGNsYXNzZXMuXG4gICAgICAgIHN3aXRjaCAoZW50cnkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsdHJcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQuZGlyID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJydGxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQuZGlyID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2RpcmVjdGlvbicgb3B0aW9uIHdhcyBub3QgcmVjb2duaXplZC5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEJlaGF2aW91cihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaW5wdXQgaXMgYSBzdHJpbmcuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdiZWhhdmlvdXInIG11c3QgYmUgYSBzdHJpbmcgY29udGFpbmluZyBvcHRpb25zLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc3RyaW5nIGNvbnRhaW5zIGFueSBrZXl3b3Jkcy5cbiAgICAgICAgLy8gTm9uZSBhcmUgcmVxdWlyZWQuXG4gICAgICAgIHZhciB0YXAgPSBlbnRyeS5pbmRleE9mKFwidGFwXCIpID49IDA7XG4gICAgICAgIHZhciBkcmFnID0gZW50cnkuaW5kZXhPZihcImRyYWdcIikgPj0gMDtcbiAgICAgICAgdmFyIGZpeGVkID0gZW50cnkuaW5kZXhPZihcImZpeGVkXCIpID49IDA7XG4gICAgICAgIHZhciBzbmFwID0gZW50cnkuaW5kZXhPZihcInNuYXBcIikgPj0gMDtcbiAgICAgICAgdmFyIGhvdmVyID0gZW50cnkuaW5kZXhPZihcImhvdmVyXCIpID49IDA7XG4gICAgICAgIHZhciB1bmNvbnN0cmFpbmVkID0gZW50cnkuaW5kZXhPZihcInVuY29uc3RyYWluZWRcIikgPj0gMDtcbiAgICAgICAgdmFyIGRyYWdBbGwgPSBlbnRyeS5pbmRleE9mKFwiZHJhZy1hbGxcIikgPj0gMDtcbiAgICAgICAgdmFyIHNtb290aFN0ZXBzID0gZW50cnkuaW5kZXhPZihcInNtb290aC1zdGVwc1wiKSA+PSAwO1xuICAgICAgICBpZiAoZml4ZWQpIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWQuaGFuZGxlcyAhPT0gMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdmaXhlZCcgYmVoYXZpb3VyIG11c3QgYmUgdXNlZCB3aXRoIDIgaGFuZGxlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVzZSBtYXJnaW4gdG8gZW5mb3JjZSBmaXhlZCBzdGF0ZVxuICAgICAgICAgICAgdGVzdE1hcmdpbihwYXJzZWQsIHBhcnNlZC5zdGFydFsxXSAtIHBhcnNlZC5zdGFydFswXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuY29uc3RyYWluZWQgJiYgKHBhcnNlZC5tYXJnaW4gfHwgcGFyc2VkLmxpbWl0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3VuY29uc3RyYWluZWQnIGJlaGF2aW91ciBjYW5ub3QgYmUgdXNlZCB3aXRoIG1hcmdpbiBvciBsaW1pdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuZXZlbnRzID0ge1xuICAgICAgICAgICAgdGFwOiB0YXAgfHwgc25hcCxcbiAgICAgICAgICAgIGRyYWc6IGRyYWcsXG4gICAgICAgICAgICBkcmFnQWxsOiBkcmFnQWxsLFxuICAgICAgICAgICAgc21vb3RoU3RlcHM6IHNtb290aFN0ZXBzLFxuICAgICAgICAgICAgZml4ZWQ6IGZpeGVkLFxuICAgICAgICAgICAgc25hcDogc25hcCxcbiAgICAgICAgICAgIGhvdmVyOiBob3ZlcixcbiAgICAgICAgICAgIHVuY29uc3RyYWluZWQ6IHVuY29uc3RyYWluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RUb29sdGlwcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkgPT09IHRydWUgfHwgaXNWYWxpZFBhcnRpYWxGb3JtYXR0ZXIoZW50cnkpKSB7XG4gICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVudHJ5ID0gYXNBcnJheShlbnRyeSk7XG4gICAgICAgICAgICBpZiAoZW50cnkubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6IG11c3QgcGFzcyBhIGZvcm1hdHRlciBmb3IgYWxsIGhhbmRsZXMuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cnkuZm9yRWFjaChmdW5jdGlvbiAoZm9ybWF0dGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXR0ZXIgIT09IFwiYm9vbGVhblwiICYmICFpc1ZhbGlkUGFydGlhbEZvcm1hdHRlcihmb3JtYXR0ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICd0b29sdGlwcycgbXVzdCBiZSBwYXNzZWQgYSBmb3JtYXR0ZXIgb3IgJ2ZhbHNlJy5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXJzZWQudG9vbHRpcHMgPSBlbnRyeTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0SGFuZGxlQXR0cmlidXRlcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeS5sZW5ndGggIT09IHBhcnNlZC5oYW5kbGVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBtdXN0IHBhc3MgYSBhdHRyaWJ1dGVzIGZvciBhbGwgaGFuZGxlcy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmhhbmRsZUF0dHJpYnV0ZXMgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEFyaWFGb3JtYXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzVmFsaWRQYXJ0aWFsRm9ybWF0dGVyKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2FyaWFGb3JtYXQnIHJlcXVpcmVzICd0bycgbWV0aG9kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuYXJpYUZvcm1hdCA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0Rm9ybWF0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkRm9ybWF0dGVyKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2Zvcm1hdCcgcmVxdWlyZXMgJ3RvJyBhbmQgJ2Zyb20nIG1ldGhvZHMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5mb3JtYXQgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEtleWJvYXJkU3VwcG9ydChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAna2V5Ym9hcmRTdXBwb3J0JyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5rZXlib2FyZFN1cHBvcnQgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdERvY3VtZW50RWxlbWVudChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYW4gYWR2YW5jZWQgb3B0aW9uLiBQYXNzZWQgdmFsdWVzIGFyZSB1c2VkIHdpdGhvdXQgdmFsaWRhdGlvbi5cbiAgICAgICAgcGFyc2VkLmRvY3VtZW50RWxlbWVudCA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzUHJlZml4KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJzdHJpbmdcIiAmJiBlbnRyeSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdjc3NQcmVmaXgnIG11c3QgYmUgYSBzdHJpbmcgb3IgYGZhbHNlYC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmNzc1ByZWZpeCA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzQ2xhc3NlcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdjc3NDbGFzc2VzJyBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWQuY3NzUHJlZml4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBwYXJzZWQuY3NzQ2xhc3NlcyA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZW50cnkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzW2tleV0gPSBwYXJzZWQuY3NzUHJlZml4ICsgZW50cnlba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VkLmNzc0NsYXNzZXMgPSBlbnRyeTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUZXN0IGFsbCBkZXZlbG9wZXIgc2V0dGluZ3MgYW5kIHBhcnNlIHRvIGFzc3VtcHRpb24tc2FmZSB2YWx1ZXMuXG4gICAgZnVuY3Rpb24gdGVzdE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAvLyBUbyBwcm92ZSBhIGZpeCBmb3IgIzUzNywgZnJlZXplIG9wdGlvbnMgaGVyZS5cbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpcyBtb2RpZmllZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gICAgICAgIC8vIE9iamVjdC5mcmVlemUob3B0aW9ucyk7XG4gICAgICAgIHZhciBwYXJzZWQgPSB7XG4gICAgICAgICAgICBtYXJnaW46IG51bGwsXG4gICAgICAgICAgICBsaW1pdDogbnVsbCxcbiAgICAgICAgICAgIHBhZGRpbmc6IG51bGwsXG4gICAgICAgICAgICBhbmltYXRlOiB0cnVlLFxuICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IDMwMCxcbiAgICAgICAgICAgIGFyaWFGb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXIsXG4gICAgICAgICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXIsXG4gICAgICAgIH07XG4gICAgICAgIC8vIFRlc3RzIGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJlc2VudGVkIGhlcmUuXG4gICAgICAgIHZhciB0ZXN0cyA9IHtcbiAgICAgICAgICAgIHN0ZXA6IHsgcjogZmFsc2UsIHQ6IHRlc3RTdGVwIH0sXG4gICAgICAgICAgICBrZXlib2FyZFBhZ2VNdWx0aXBsaWVyOiB7IHI6IGZhbHNlLCB0OiB0ZXN0S2V5Ym9hcmRQYWdlTXVsdGlwbGllciB9LFxuICAgICAgICAgICAga2V5Ym9hcmRNdWx0aXBsaWVyOiB7IHI6IGZhbHNlLCB0OiB0ZXN0S2V5Ym9hcmRNdWx0aXBsaWVyIH0sXG4gICAgICAgICAgICBrZXlib2FyZERlZmF1bHRTdGVwOiB7IHI6IGZhbHNlLCB0OiB0ZXN0S2V5Ym9hcmREZWZhdWx0U3RlcCB9LFxuICAgICAgICAgICAgc3RhcnQ6IHsgcjogdHJ1ZSwgdDogdGVzdFN0YXJ0IH0sXG4gICAgICAgICAgICBjb25uZWN0OiB7IHI6IHRydWUsIHQ6IHRlc3RDb25uZWN0IH0sXG4gICAgICAgICAgICBkaXJlY3Rpb246IHsgcjogdHJ1ZSwgdDogdGVzdERpcmVjdGlvbiB9LFxuICAgICAgICAgICAgc25hcDogeyByOiBmYWxzZSwgdDogdGVzdFNuYXAgfSxcbiAgICAgICAgICAgIGFuaW1hdGU6IHsgcjogZmFsc2UsIHQ6IHRlc3RBbmltYXRlIH0sXG4gICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogeyByOiBmYWxzZSwgdDogdGVzdEFuaW1hdGlvbkR1cmF0aW9uIH0sXG4gICAgICAgICAgICByYW5nZTogeyByOiB0cnVlLCB0OiB0ZXN0UmFuZ2UgfSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7IHI6IGZhbHNlLCB0OiB0ZXN0T3JpZW50YXRpb24gfSxcbiAgICAgICAgICAgIG1hcmdpbjogeyByOiBmYWxzZSwgdDogdGVzdE1hcmdpbiB9LFxuICAgICAgICAgICAgbGltaXQ6IHsgcjogZmFsc2UsIHQ6IHRlc3RMaW1pdCB9LFxuICAgICAgICAgICAgcGFkZGluZzogeyByOiBmYWxzZSwgdDogdGVzdFBhZGRpbmcgfSxcbiAgICAgICAgICAgIGJlaGF2aW91cjogeyByOiB0cnVlLCB0OiB0ZXN0QmVoYXZpb3VyIH0sXG4gICAgICAgICAgICBhcmlhRm9ybWF0OiB7IHI6IGZhbHNlLCB0OiB0ZXN0QXJpYUZvcm1hdCB9LFxuICAgICAgICAgICAgZm9ybWF0OiB7IHI6IGZhbHNlLCB0OiB0ZXN0Rm9ybWF0IH0sXG4gICAgICAgICAgICB0b29sdGlwczogeyByOiBmYWxzZSwgdDogdGVzdFRvb2x0aXBzIH0sXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6IHsgcjogdHJ1ZSwgdDogdGVzdEtleWJvYXJkU3VwcG9ydCB9LFxuICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50OiB7IHI6IGZhbHNlLCB0OiB0ZXN0RG9jdW1lbnRFbGVtZW50IH0sXG4gICAgICAgICAgICBjc3NQcmVmaXg6IHsgcjogdHJ1ZSwgdDogdGVzdENzc1ByZWZpeCB9LFxuICAgICAgICAgICAgY3NzQ2xhc3NlczogeyByOiB0cnVlLCB0OiB0ZXN0Q3NzQ2xhc3NlcyB9LFxuICAgICAgICAgICAgaGFuZGxlQXR0cmlidXRlczogeyByOiBmYWxzZSwgdDogdGVzdEhhbmRsZUF0dHJpYnV0ZXMgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgY29ubmVjdDogZmFsc2UsXG4gICAgICAgICAgICBkaXJlY3Rpb246IFwibHRyXCIsXG4gICAgICAgICAgICBiZWhhdmlvdXI6IFwidGFwXCIsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6IHRydWUsXG4gICAgICAgICAgICBjc3NQcmVmaXg6IFwibm9VaS1cIixcbiAgICAgICAgICAgIGNzc0NsYXNzZXM6IGNzc0NsYXNzZXMsXG4gICAgICAgICAgICBrZXlib2FyZFBhZ2VNdWx0aXBsaWVyOiA1LFxuICAgICAgICAgICAga2V5Ym9hcmRNdWx0aXBsaWVyOiAxLFxuICAgICAgICAgICAga2V5Ym9hcmREZWZhdWx0U3RlcDogMTAsXG4gICAgICAgIH07XG4gICAgICAgIC8vIEFyaWFGb3JtYXQgZGVmYXVsdHMgdG8gcmVndWxhciBmb3JtYXQsIGlmIGFueS5cbiAgICAgICAgaWYgKG9wdGlvbnMuZm9ybWF0ICYmICFvcHRpb25zLmFyaWFGb3JtYXQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYXJpYUZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biBhbGwgb3B0aW9ucyB0aHJvdWdoIGEgdGVzdGluZyBtZWNoYW5pc20gdG8gZW5zdXJlIGNvcnJlY3RcbiAgICAgICAgLy8gaW5wdXQuIEl0IHNob3VsZCBiZSBub3RlZCB0aGF0IG9wdGlvbnMgbWlnaHQgZ2V0IG1vZGlmaWVkIHRvXG4gICAgICAgIC8vIGJlIGhhbmRsZWQgcHJvcGVybHkuIEUuZy4gd3JhcHBpbmcgaW50ZWdlcnMgaW4gYXJyYXlzLlxuICAgICAgICBPYmplY3Qua2V5cyh0ZXN0cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIG9wdGlvbiBpc24ndCBzZXQsIGJ1dCBpdCBpcyByZXF1aXJlZCwgdGhyb3cgYW4gZXJyb3IuXG4gICAgICAgICAgICBpZiAoIWlzU2V0KG9wdGlvbnNbbmFtZV0pICYmIGRlZmF1bHRzW25hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGVzdHNbbmFtZV0ucikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnXCIgKyBuYW1lICsgXCInIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVzdHNbbmFtZV0udChwYXJzZWQsICFpc1NldChvcHRpb25zW25hbWVdKSA/IGRlZmF1bHRzW25hbWVdIDogb3B0aW9uc1tuYW1lXSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBGb3J3YXJkIHBpcHMgb3B0aW9uc1xuICAgICAgICBwYXJzZWQucGlwcyA9IG9wdGlvbnMucGlwcztcbiAgICAgICAgLy8gQWxsIHJlY2VudCBicm93c2VycyBhY2NlcHQgdW5wcmVmaXhlZCB0cmFuc2Zvcm0uXG4gICAgICAgIC8vIFdlIG5lZWQgLW1zLSBmb3IgSUU5IGFuZCAtd2Via2l0LSBmb3Igb2xkZXIgQW5kcm9pZDtcbiAgICAgICAgLy8gQXNzdW1lIHVzZSBvZiAtd2Via2l0LSBpZiB1bnByZWZpeGVkIGFuZCAtbXMtIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgICAgICAvLyBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PXRyYW5zZm9ybXMyZFxuICAgICAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZhciBtc1ByZWZpeCA9IGQuc3R5bGUubXNUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIG5vUHJlZml4ID0gZC5zdHlsZS50cmFuc2Zvcm0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgcGFyc2VkLnRyYW5zZm9ybVJ1bGUgPSBub1ByZWZpeCA/IFwidHJhbnNmb3JtXCIgOiBtc1ByZWZpeCA/IFwibXNUcmFuc2Zvcm1cIiA6IFwid2Via2l0VHJhbnNmb3JtXCI7XG4gICAgICAgIC8vIFBpcHMgZG9uJ3QgbW92ZSwgc28gd2UgY2FuIHBsYWNlIHRoZW0gdXNpbmcgbGVmdC90b3AuXG4gICAgICAgIHZhciBzdHlsZXMgPSBbXG4gICAgICAgICAgICBbXCJsZWZ0XCIsIFwidG9wXCJdLFxuICAgICAgICAgICAgW1wicmlnaHRcIiwgXCJib3R0b21cIl0sXG4gICAgICAgIF07XG4gICAgICAgIHBhcnNlZC5zdHlsZSA9IHN0eWxlc1twYXJzZWQuZGlyXVtwYXJzZWQub3J0XTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICB9XG4gICAgLy9lbmRyZWdpb25cbiAgICBmdW5jdGlvbiBzY29wZSh0YXJnZXQsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucykge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IGdldEFjdGlvbnMoKTtcbiAgICAgICAgdmFyIHN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lID0gZ2V0U3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUoKTtcbiAgICAgICAgdmFyIHN1cHBvcnRzUGFzc2l2ZSA9IHN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lICYmIGdldFN1cHBvcnRzUGFzc2l2ZSgpO1xuICAgICAgICAvLyBBbGwgdmFyaWFibGVzIGxvY2FsIHRvICdzY29wZScgYXJlIHByZWZpeGVkIHdpdGggJ3Njb3BlXydcbiAgICAgICAgLy8gU2xpZGVyIERPTSBOb2Rlc1xuICAgICAgICB2YXIgc2NvcGVfVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB2YXIgc2NvcGVfQmFzZTtcbiAgICAgICAgdmFyIHNjb3BlX0hhbmRsZXM7XG4gICAgICAgIHZhciBzY29wZV9Db25uZWN0cztcbiAgICAgICAgdmFyIHNjb3BlX1BpcHM7XG4gICAgICAgIHZhciBzY29wZV9Ub29sdGlwcztcbiAgICAgICAgLy8gU2xpZGVyIHN0YXRlIHZhbHVlc1xuICAgICAgICB2YXIgc2NvcGVfU3BlY3RydW0gPSBvcHRpb25zLnNwZWN0cnVtO1xuICAgICAgICB2YXIgc2NvcGVfVmFsdWVzID0gW107XG4gICAgICAgIHZhciBzY29wZV9Mb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgdmFyIHNjb3BlX0hhbmRsZU51bWJlcnMgPSBbXTtcbiAgICAgICAgdmFyIHNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCA9IDA7XG4gICAgICAgIHZhciBzY29wZV9FdmVudHMgPSB7fTtcbiAgICAgICAgLy8gRG9jdW1lbnQgTm9kZXNcbiAgICAgICAgdmFyIHNjb3BlX0RvY3VtZW50ID0gdGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIHZhciBzY29wZV9Eb2N1bWVudEVsZW1lbnQgPSBvcHRpb25zLmRvY3VtZW50RWxlbWVudCB8fCBzY29wZV9Eb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBzY29wZV9Cb2R5ID0gc2NvcGVfRG9jdW1lbnQuYm9keTtcbiAgICAgICAgLy8gRm9yIGhvcml6b250YWwgc2xpZGVycyBpbiBzdGFuZGFyZCBsdHIgZG9jdW1lbnRzLFxuICAgICAgICAvLyBtYWtlIC5ub1VpLW9yaWdpbiBvdmVyZmxvdyB0byB0aGUgbGVmdCBzbyB0aGUgZG9jdW1lbnQgZG9lc24ndCBzY3JvbGwuXG4gICAgICAgIHZhciBzY29wZV9EaXJPZmZzZXQgPSBzY29wZV9Eb2N1bWVudC5kaXIgPT09IFwicnRsXCIgfHwgb3B0aW9ucy5vcnQgPT09IDEgPyAwIDogMTAwO1xuICAgICAgICAvLyBDcmVhdGVzIGEgbm9kZSwgYWRkcyBpdCB0byB0YXJnZXQsIHJldHVybnMgdGhlIG5ldyBub2RlLlxuICAgICAgICBmdW5jdGlvbiBhZGROb2RlVG8oYWRkVGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGRpdiwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFRhcmdldC5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgICAgICAgcmV0dXJuIGRpdjtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBlbmQgYSBvcmlnaW4gdG8gdGhlIGJhc2VcbiAgICAgICAgZnVuY3Rpb24gYWRkT3JpZ2luKGJhc2UsIGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIG9yaWdpbiA9IGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMub3JpZ2luKTtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBhZGROb2RlVG8ob3JpZ2luLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlKTtcbiAgICAgICAgICAgIGFkZE5vZGVUbyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50b3VjaEFyZWEpO1xuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcImRhdGEtaGFuZGxlXCIsIFN0cmluZyhoYW5kbGVOdW1iZXIpKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmtleWJvYXJkU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXhcbiAgICAgICAgICAgICAgICAvLyAwID0gZm9jdXNhYmxlIGFuZCByZWFjaGFibGVcbiAgICAgICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgIGhhbmRsZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50S2V5ZG93bihldmVudCwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhbmRsZUF0dHJpYnV0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVzXzEgPSBvcHRpb25zLmhhbmRsZUF0dHJpYnV0ZXNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzXzEpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgYXR0cmlidXRlc18xW2F0dHJpYnV0ZV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJzbGlkZXJcIik7XG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwiYXJpYS1vcmllbnRhdGlvblwiLCBvcHRpb25zLm9ydCA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwiKTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVMb3dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYW5kbGVOdW1iZXIgPT09IG9wdGlvbnMuaGFuZGxlcyAtIDEpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVVcHBlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluc2VydCBub2RlcyBmb3IgY29ubmVjdCBlbGVtZW50c1xuICAgICAgICBmdW5jdGlvbiBhZGRDb25uZWN0KGJhc2UsIGFkZCkge1xuICAgICAgICAgICAgaWYgKCFhZGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5jb25uZWN0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgaGFuZGxlcyB0byB0aGUgc2xpZGVyIGJhc2UuXG4gICAgICAgIGZ1bmN0aW9uIGFkZEVsZW1lbnRzKGNvbm5lY3RPcHRpb25zLCBiYXNlKSB7XG4gICAgICAgICAgICB2YXIgY29ubmVjdEJhc2UgPSBhZGROb2RlVG8oYmFzZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmNvbm5lY3RzKTtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMgPSBbXTtcbiAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzID0gW107XG4gICAgICAgICAgICBzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoY29ubmVjdEJhc2UsIGNvbm5lY3RPcHRpb25zWzBdKSk7XG4gICAgICAgICAgICAvLyBbOjo6Ok89PT09Tz09PT1PPT09PV1cbiAgICAgICAgICAgIC8vIGNvbm5lY3RPcHRpb25zID0gWzAsIDEsIDEsIDFdXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMuaGFuZGxlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gS2VlcCBhIGxpc3Qgb2YgYWxsIGFkZGVkIGhhbmRsZXMuXG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlcy5wdXNoKGFkZE9yaWdpbihiYXNlLCBpKSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVyc1tpXSA9IGk7XG4gICAgICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMucHVzaChhZGRDb25uZWN0KGNvbm5lY3RCYXNlLCBjb25uZWN0T3B0aW9uc1tpICsgMV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJbml0aWFsaXplIGEgc2luZ2xlIHNsaWRlci5cbiAgICAgICAgZnVuY3Rpb24gYWRkU2xpZGVyKGFkZFRhcmdldCkge1xuICAgICAgICAgICAgLy8gQXBwbHkgY2xhc3NlcyBhbmQgZGF0YSB0byB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmx0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5ydGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMub3J0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuaG9yaXpvbnRhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy52ZXJ0aWNhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGV4dERpcmVjdGlvbiA9IGdldENvbXB1dGVkU3R5bGUoYWRkVGFyZ2V0KS5kaXJlY3Rpb247XG4gICAgICAgICAgICBpZiAodGV4dERpcmVjdGlvbiA9PT0gXCJydGxcIikge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRleHREaXJlY3Rpb25SdGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGV4dERpcmVjdGlvbkx0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWRkTm9kZVRvKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmJhc2UpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZFRvb2x0aXAoaGFuZGxlLCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy50b29sdGlwcyB8fCAhb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhoYW5kbGUuZmlyc3RDaGlsZCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRvb2x0aXApO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGlzU2xpZGVyRGlzYWJsZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NvcGVfVGFyZ2V0Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERpc2FibGUgdGhlIHNsaWRlciBkcmFnZ2luZyBpZiBhbnkgaGFuZGxlIGlzIGRpc2FibGVkXG4gICAgICAgIGZ1bmN0aW9uIGlzSGFuZGxlRGlzYWJsZWQoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlT3JpZ2luID0gc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZU9yaWdpbi5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZW1vdmVUb29sdGlwcygpIHtcbiAgICAgICAgICAgIGlmIChzY29wZV9Ub29sdGlwcykge1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KFwidXBkYXRlXCIgKyBJTlRFUk5BTF9FVkVOVF9OUy50b29sdGlwcyk7XG4gICAgICAgICAgICAgICAgc2NvcGVfVG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudCh0b29sdGlwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNjb3BlX1Rvb2x0aXBzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgdG9vbHRpcHMgb3B0aW9uIGlzIGEgc2hvcnRoYW5kIGZvciB1c2luZyB0aGUgJ3VwZGF0ZScgZXZlbnQuXG4gICAgICAgIGZ1bmN0aW9uIHRvb2x0aXBzKCkge1xuICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcHMoKTtcbiAgICAgICAgICAgIC8vIFRvb2x0aXBzIGFyZSBhZGRlZCB3aXRoIG9wdGlvbnMudG9vbHRpcHMgaW4gb3JpZ2luYWwgb3JkZXIuXG4gICAgICAgICAgICBzY29wZV9Ub29sdGlwcyA9IHNjb3BlX0hhbmRsZXMubWFwKGFkZFRvb2x0aXApO1xuICAgICAgICAgICAgYmluZEV2ZW50KFwidXBkYXRlXCIgKyBJTlRFUk5BTF9FVkVOVF9OUy50b29sdGlwcywgZnVuY3Rpb24gKHZhbHVlcywgaGFuZGxlTnVtYmVyLCB1bmVuY29kZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNjb3BlX1Rvb2x0aXBzIHx8ICFvcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlX1Rvb2x0aXBzW2hhbmRsZU51bWJlcl0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWVzW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRWYWx1ZSA9IG9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXS50byh1bmVuY29kZWRbaGFuZGxlTnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjb3BlX1Rvb2x0aXBzW2hhbmRsZU51bWJlcl0uaW5uZXJIVE1MID0gZm9ybWF0dGVkVmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhcmlhKCkge1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQoXCJ1cGRhdGVcIiArIElOVEVSTkFMX0VWRU5UX05TLmFyaWEpO1xuICAgICAgICAgICAgYmluZEV2ZW50KFwidXBkYXRlXCIgKyBJTlRFUk5BTF9FVkVOVF9OUy5hcmlhLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGVOdW1iZXIsIHVuZW5jb2RlZCwgdGFwLCBwb3NpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQXJpYSBWYWx1ZXMgZm9yIGFsbCBoYW5kbGVzLCBhcyBhIGNoYW5nZSBpbiBvbmUgY2hhbmdlcyBtaW4gYW5kIG1heCB2YWx1ZXMgZm9yIHRoZSBuZXh0LlxuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZSA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWluID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGluZGV4LCAwLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heCA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBpbmRleCwgMTAwLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdyA9IHBvc2l0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdHRlZCB2YWx1ZSBmb3IgZGlzcGxheVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IFN0cmluZyhvcHRpb25zLmFyaWFGb3JtYXQudG8odW5lbmNvZGVkW2luZGV4XSkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBNYXAgdG8gc2xpZGVyIHJhbmdlIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBtaW4gPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWluKS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobWF4KS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBub3cgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcobm93KS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW1pblwiLCBtaW4pO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW1heFwiLCBtYXgpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZW5vd1wiLCBub3cpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZXRleHRcIiwgdGV4dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRHcm91cChwaXBzKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHJhbmdlLlxuICAgICAgICAgICAgaWYgKHBpcHMubW9kZSA9PT0gZXhwb3J0cy5QaXBzTW9kZS5SYW5nZSB8fCBwaXBzLm1vZGUgPT09IGV4cG9ydHMuUGlwc01vZGUuU3RlcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfU3BlY3RydW0ueFZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaXBzLm1vZGUgPT09IGV4cG9ydHMuUGlwc01vZGUuQ291bnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGlwcy52YWx1ZXMgPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICd2YWx1ZXMnICg+PSAyKSByZXF1aXJlZCBmb3IgbW9kZSAnY291bnQnLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRGl2aWRlIDAgLSAxMDAgaW4gJ2NvdW50JyBwYXJ0cy5cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBwaXBzLnZhbHVlcyAtIDE7XG4gICAgICAgICAgICAgICAgdmFyIHNwcmVhZCA9IDEwMCAvIGludGVydmFsO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0IHRoZXNlIHBhcnRzIGFuZCBoYXZlIHRoZW0gaGFuZGxlZCBhcyAncG9zaXRpb25zJy5cbiAgICAgICAgICAgICAgICB3aGlsZSAoaW50ZXJ2YWwtLSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbaW50ZXJ2YWxdID0gaW50ZXJ2YWwgKiBzcHJlYWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKDEwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcFRvUmFuZ2UodmFsdWVzLCBwaXBzLnN0ZXBwZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBpcHMubW9kZSA9PT0gZXhwb3J0cy5QaXBzTW9kZS5Qb3NpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBNYXAgYWxsIHBlcmNlbnRhZ2VzIHRvIG9uLXJhbmdlIHZhbHVlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwVG9SYW5nZShwaXBzLnZhbHVlcywgcGlwcy5zdGVwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaXBzLm1vZGUgPT09IGV4cG9ydHMuUGlwc01vZGUuVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIG11c3QgYmUgc3RlcHBlZCwgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgcGVyY2VudGFnZSBmaXJzdC5cbiAgICAgICAgICAgICAgICBpZiAocGlwcy5zdGVwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwaXBzLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRvIHBlcmNlbnRhZ2UsIGFwcGx5IHN0ZXAsIHJldHVybiB0byB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcoc2NvcGVfU3BlY3RydW0uZ2V0U3RlcChzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKHZhbHVlKSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBjYW4gc2ltcGx5IHVzZSB0aGUgdmFsdWVzLlxuICAgICAgICAgICAgICAgIHJldHVybiBwaXBzLnZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbXTsgLy8gcGlwcy5tb2RlID0gbmV2ZXJcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYXBUb1JhbmdlKHZhbHVlcywgc3RlcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhzdGVwcGVkID8gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVNwcmVhZChwaXBzKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBzYWZlSW5jcmVtZW50KHZhbHVlLCBpbmNyZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCBmbG9hdGluZyBwb2ludCB2YXJpYW5jZSBieSBkcm9wcGluZyB0aGUgc21hbGxlc3QgZGVjaW1hbCBwbGFjZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcigodmFsdWUgKyBpbmNyZW1lbnQpLnRvRml4ZWQoNykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGdyb3VwID0gZ2V0R3JvdXAocGlwcyk7XG4gICAgICAgICAgICB2YXIgaW5kZXhlcyA9IHt9O1xuICAgICAgICAgICAgdmFyIGZpcnN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbMF07XG4gICAgICAgICAgICB2YXIgbGFzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsW3Njb3BlX1NwZWN0cnVtLnhWYWwubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgaWdub3JlRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpZ25vcmVMYXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcHJldlBjdCA9IDA7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBncm91cCwgc29ydCBpdCBhbmQgZmlsdGVyIGF3YXkgYWxsIGR1cGxpY2F0ZXMuXG4gICAgICAgICAgICBncm91cCA9IHVuaXF1ZShncm91cC5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHJhbmdlIHN0YXJ0cyB3aXRoIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgICAgICAgICAgaWYgKGdyb3VwWzBdICE9PSBmaXJzdEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBncm91cC51bnNoaWZ0KGZpcnN0SW5SYW5nZSk7XG4gICAgICAgICAgICAgICAgaWdub3JlRmlyc3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTGlrZXdpc2UgZm9yIHRoZSBsYXN0IG9uZS5cbiAgICAgICAgICAgIGlmIChncm91cFtncm91cC5sZW5ndGggLSAxXSAhPT0gbGFzdEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKGxhc3RJblJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZ25vcmVMYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyb3VwLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgYW5kIHRoZSBsb3dlciArIHVwcGVyIHBvc2l0aW9ucy5cbiAgICAgICAgICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgcTtcbiAgICAgICAgICAgICAgICB2YXIgbG93ID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICB2YXIgaGlnaCA9IGdyb3VwW2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgdmFyIG5ld1BjdDtcbiAgICAgICAgICAgICAgICB2YXIgcGN0RGlmZmVyZW5jZTtcbiAgICAgICAgICAgICAgICB2YXIgcGN0UG9zO1xuICAgICAgICAgICAgICAgIHZhciB0eXBlO1xuICAgICAgICAgICAgICAgIHZhciBzdGVwcztcbiAgICAgICAgICAgICAgICB2YXIgcmVhbFN0ZXBzO1xuICAgICAgICAgICAgICAgIHZhciBzdGVwU2l6ZTtcbiAgICAgICAgICAgICAgICB2YXIgaXNTdGVwcyA9IHBpcHMubW9kZSA9PT0gZXhwb3J0cy5QaXBzTW9kZS5TdGVwcztcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVzaW5nICdzdGVwcycgbW9kZSwgdXNlIHRoZSBwcm92aWRlZCBzdGVwcy5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlJ2xsIHN0ZXAgb24gdG8gdGhlIG5leHQgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgaWYgKGlzU3RlcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IHNjb3BlX1NwZWN0cnVtLnhOdW1TdGVwc1tpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gYSAnZnVsbCcgc3RlcC5cbiAgICAgICAgICAgICAgICBpZiAoIXN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IGhpZ2ggLSBsb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGhpZ2ggaXMgdW5kZWZpbmVkIHdlIGFyZSBhdCB0aGUgbGFzdCBzdWJyYW5nZS4gTWFrZSBzdXJlIGl0IGl0ZXJhdGVzIG9uY2UgKCMxMDg4KVxuICAgICAgICAgICAgICAgIGlmIChoaWdoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGlnaCA9IGxvdztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHN0ZXAgaXNuJ3QgMCwgd2hpY2ggd291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcCAoIzY1NClcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5tYXgoc3RlcCwgMC4wMDAwMDAxKTtcbiAgICAgICAgICAgICAgICAvLyBGaW5kIGFsbCBzdGVwcyBpbiB0aGUgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gbG93OyBpIDw9IGhpZ2g7IGkgPSBzYWZlSW5jcmVtZW50KGksIHN0ZXApKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgc3RlcCxcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBzaXplIGZvciB0aGUgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgICAgIG5ld1BjdCA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcoaSk7XG4gICAgICAgICAgICAgICAgICAgIHBjdERpZmZlcmVuY2UgPSBuZXdQY3QgLSBwcmV2UGN0O1xuICAgICAgICAgICAgICAgICAgICBzdGVwcyA9IHBjdERpZmZlcmVuY2UgLyAocGlwcy5kZW5zaXR5IHx8IDEpO1xuICAgICAgICAgICAgICAgICAgICByZWFsU3RlcHMgPSBNYXRoLnJvdW5kKHN0ZXBzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyByYXRpbyByZXByZXNlbnRzIHRoZSBhbW91bnQgb2YgcGVyY2VudGFnZS1zcGFjZSBhIHBvaW50IGluZGljYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGEgZGVuc2l0eSAxIHRoZSBwb2ludHMvcGVyY2VudGFnZSA9IDEuIEZvciBkZW5zaXR5IDIsIHRoYXQgcGVyY2VudGFnZSBuZWVkcyB0byBiZSByZS1kaXZpZGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBSb3VuZCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgdG8gYW4gZXZlbiBudW1iZXIsIHRoZW4gZGl2aWRlIGJ5IHR3b1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBzcHJlYWQgdGhlIG9mZnNldCBvbiBib3RoIHNpZGVzIG9mIHRoZSByYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgc3RlcFNpemUgPSBwY3REaWZmZXJlbmNlIC8gcmVhbFN0ZXBzO1xuICAgICAgICAgICAgICAgICAgICAvLyBEaXZpZGUgYWxsIHBvaW50cyBldmVubHksIGFkZGluZyB0aGUgY29ycmVjdCBudW1iZXIgdG8gdGhpcyBzdWJyYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gUnVuIHVwIHRvIDw9IHNvIHRoYXQgMTAwJSBnZXRzIGEgcG9pbnQsIGV2ZW50IGlmIGlnbm9yZUxhc3QgaXMgc2V0LlxuICAgICAgICAgICAgICAgICAgICBmb3IgKHEgPSAxOyBxIDw9IHJlYWxTdGVwczsgcSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcmF0aW8gYmV0d2VlbiB0aGUgcm91bmRlZCB2YWx1ZSBhbmQgdGhlIGFjdHVhbCBzaXplIG1pZ2h0IGJlIH4xJSBvZmYuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3JyZWN0IHRoZSBwZXJjZW50YWdlIG9mZnNldCBieSB0aGUgbnVtYmVyIG9mIHBvaW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGVyIHN1YnJhbmdlLiBkZW5zaXR5ID0gMSB3aWxsIHJlc3VsdCBpbiAxMDAgcG9pbnRzIG9uIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVsbCByYW5nZSwgMiBmb3IgNTAsIDQgZm9yIDI1LCBldGMuXG4gICAgICAgICAgICAgICAgICAgICAgICBwY3RQb3MgPSBwcmV2UGN0ICsgcSAqIHN0ZXBTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1twY3RQb3MudG9GaXhlZCg1KV0gPSBbc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHBjdFBvcyksIDBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgcG9pbnQgdHlwZS5cbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGdyb3VwLmluZGV4T2YoaSkgPiAtMSA/IGV4cG9ydHMuUGlwc1R5cGUuTGFyZ2VWYWx1ZSA6IGlzU3RlcHMgPyBleHBvcnRzLlBpcHNUeXBlLlNtYWxsVmFsdWUgOiBleHBvcnRzLlBpcHNUeXBlLk5vVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuZm9yY2UgdGhlICdpZ25vcmVGaXJzdCcgb3B0aW9uIGJ5IG92ZXJ3cml0aW5nIHRoZSB0eXBlIGZvciAwLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4ICYmIGlnbm9yZUZpcnN0ICYmIGkgIT09IGhpZ2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGkgPT09IGhpZ2ggJiYgaWdub3JlTGFzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlICd0eXBlJyBvZiB0aGlzIHBvaW50LiAwID0gcGxhaW4sIDEgPSByZWFsIHZhbHVlLCAyID0gc3RlcCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ZXNbbmV3UGN0LnRvRml4ZWQoNSldID0gW2ksIHR5cGVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcGVyY2VudGFnZSBjb3VudC5cbiAgICAgICAgICAgICAgICAgICAgcHJldlBjdCA9IG5ld1BjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpbmRleGVzO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZE1hcmtpbmcoc3ByZWFkLCBmaWx0ZXJGdW5jLCBmb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHNjb3BlX0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB2YXIgdmFsdWVTaXplQ2xhc3NlcyA9IChfYSA9IHt9LFxuICAgICAgICAgICAgICAgIF9hW2V4cG9ydHMuUGlwc1R5cGUuTm9uZV0gPSBcIlwiLFxuICAgICAgICAgICAgICAgIF9hW2V4cG9ydHMuUGlwc1R5cGUuTm9WYWx1ZV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVOb3JtYWwsXG4gICAgICAgICAgICAgICAgX2FbZXhwb3J0cy5QaXBzVHlwZS5MYXJnZVZhbHVlXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZUxhcmdlLFxuICAgICAgICAgICAgICAgIF9hW2V4cG9ydHMuUGlwc1R5cGUuU21hbGxWYWx1ZV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVTdWIsXG4gICAgICAgICAgICAgICAgX2EpO1xuICAgICAgICAgICAgdmFyIG1hcmtlclNpemVDbGFzc2VzID0gKF9iID0ge30sXG4gICAgICAgICAgICAgICAgX2JbZXhwb3J0cy5QaXBzVHlwZS5Ob25lXSA9IFwiXCIsXG4gICAgICAgICAgICAgICAgX2JbZXhwb3J0cy5QaXBzVHlwZS5Ob1ZhbHVlXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJOb3JtYWwsXG4gICAgICAgICAgICAgICAgX2JbZXhwb3J0cy5QaXBzVHlwZS5MYXJnZVZhbHVlXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJMYXJnZSxcbiAgICAgICAgICAgICAgICBfYltleHBvcnRzLlBpcHNUeXBlLlNtYWxsVmFsdWVdID0gb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlclN1YixcbiAgICAgICAgICAgICAgICBfYik7XG4gICAgICAgICAgICB2YXIgdmFsdWVPcmllbnRhdGlvbkNsYXNzZXMgPSBbb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlSG9yaXpvbnRhbCwgb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlVmVydGljYWxdO1xuICAgICAgICAgICAgdmFyIG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcyA9IFtvcHRpb25zLmNzc0NsYXNzZXMubWFya2VySG9yaXpvbnRhbCwgb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlclZlcnRpY2FsXTtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzKTtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIG9wdGlvbnMub3J0ID09PSAwID8gb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHNIb3Jpem9udGFsIDogb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHNWZXJ0aWNhbCk7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRDbGFzc2VzKHR5cGUsIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gc291cmNlID09PSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWVudGF0aW9uQ2xhc3NlcyA9IGEgPyB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA6IG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcztcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZUNsYXNzZXMgPSBhID8gdmFsdWVTaXplQ2xhc3NlcyA6IG1hcmtlclNpemVDbGFzc2VzO1xuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2UgKyBcIiBcIiArIG9yaWVudGF0aW9uQ2xhc3Nlc1tvcHRpb25zLm9ydF0gKyBcIiBcIiArIHNpemVDbGFzc2VzW3R5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gYWRkU3ByZWFkKG9mZnNldCwgdmFsdWUsIHR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSB0aGUgZmlsdGVyIGZ1bmN0aW9uLCBpZiBpdCBpcyBzZXQuXG4gICAgICAgICAgICAgICAgdHlwZSA9IGZpbHRlckZ1bmMgPyBmaWx0ZXJGdW5jKHZhbHVlLCB0eXBlKSA6IHR5cGU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IGV4cG9ydHMuUGlwc1R5cGUuTm9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFkZCBhIG1hcmtlciBmb3IgZXZlcnkgcG9pbnRcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGFkZE5vZGVUbyhlbGVtZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBnZXRDbGFzc2VzKHR5cGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXIpO1xuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSBvZmZzZXQgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICAvLyBWYWx1ZXMgYXJlIG9ubHkgYXBwZW5kZWQgZm9yIHBvaW50cyBtYXJrZWQgJzEnIG9yICcyJy5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA+IGV4cG9ydHMuUGlwc1R5cGUuTm9WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBnZXRDbGFzc2VzKHR5cGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS12YWx1ZVwiLCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArIFwiJVwiO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IFN0cmluZyhmb3JtYXR0ZXIudG8odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBcHBlbmQgYWxsIHBvaW50cy5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNwcmVhZCkuZm9yRWFjaChmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgYWRkU3ByZWFkKG9mZnNldCwgc3ByZWFkW29mZnNldF1bMF0sIHNwcmVhZFtvZmZzZXRdWzFdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUGlwcygpIHtcbiAgICAgICAgICAgIGlmIChzY29wZV9QaXBzKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudChzY29wZV9QaXBzKTtcbiAgICAgICAgICAgICAgICBzY29wZV9QaXBzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwaXBzKHBpcHMpIHtcbiAgICAgICAgICAgIC8vIEZpeCAjNjY5XG4gICAgICAgICAgICByZW1vdmVQaXBzKCk7XG4gICAgICAgICAgICB2YXIgc3ByZWFkID0gZ2VuZXJhdGVTcHJlYWQocGlwcyk7XG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gcGlwcy5maWx0ZXI7XG4gICAgICAgICAgICB2YXIgZm9ybWF0ID0gcGlwcy5mb3JtYXQgfHwge1xuICAgICAgICAgICAgICAgIHRvOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhNYXRoLnJvdW5kKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY29wZV9QaXBzID0gc2NvcGVfVGFyZ2V0LmFwcGVuZENoaWxkKGFkZE1hcmtpbmcoc3ByZWFkLCBmaWx0ZXIsIGZvcm1hdCkpO1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1BpcHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvcnRoYW5kIGZvciBiYXNlIGRpbWVuc2lvbnMuXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VTaXplKCkge1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBzY29wZV9CYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGFsdCA9IChcIm9mZnNldFwiICsgW1wiV2lkdGhcIiwgXCJIZWlnaHRcIl1bb3B0aW9ucy5vcnRdKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm9ydCA9PT0gMCA/IHJlY3Qud2lkdGggfHwgc2NvcGVfQmFzZVthbHRdIDogcmVjdC5oZWlnaHQgfHwgc2NvcGVfQmFzZVthbHRdO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZXIgZm9yIGF0dGFjaGluZyBldmVudHMgdHJvdWdoIGEgcHJveHkuXG4gICAgICAgIGZ1bmN0aW9uIGF0dGFjaEV2ZW50KGV2ZW50cywgZWxlbWVudCwgY2FsbGJhY2ssIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gJ2ZpbHRlcicgZXZlbnRzIHRvIHRoZSBzbGlkZXIuXG4gICAgICAgICAgICAvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3RcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGZpeEV2ZW50KGV2ZW50LCBkYXRhLnBhZ2VPZmZzZXQsIGRhdGEudGFyZ2V0IHx8IGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIC8vIGZpeEV2ZW50IHJldHVybnMgZmFsc2UgaWYgdGhpcyBldmVudCBoYXMgYSBkaWZmZXJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBoYW5kbGluZyAobXVsdGktKSB0b3VjaCBldmVudHM7XG4gICAgICAgICAgICAgICAgaWYgKCFlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG9Ob3RSZWplY3QgaXMgcGFzc2VkIGJ5IGFsbCBlbmQgZXZlbnRzIHRvIG1ha2Ugc3VyZSByZWxlYXNlZCB0b3VjaGVzXG4gICAgICAgICAgICAgICAgLy8gYXJlIG5vdCByZWplY3RlZCwgbGVhdmluZyB0aGUgc2xpZGVyIFwic3R1Y2tcIiB0byB0aGUgY3Vyc29yO1xuICAgICAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgJiYgIWRhdGEuZG9Ob3RSZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdG9wIGlmIGFuIGFjdGl2ZSAndGFwJyB0cmFuc2l0aW9uIGlzIHRha2luZyBwbGFjZS5cbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwKSAmJiAhZGF0YS5kb05vdFJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzID09PSBhY3Rpb25zLnN0YXJ0ICYmIGUuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9ucyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgcmlnaHQgb3IgbWlkZGxlIGNsaWNrcyBvbiBzdGFydCAjNDU0XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaG92ZXIgJiYgZS5idXR0b25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gJ3N1cHBvcnRzUGFzc2l2ZScgaXMgb25seSB0cnVlIGlmIGEgYnJvd3NlciBhbHNvIHN1cHBvcnRzIHRvdWNoLWFjdGlvbjogbm9uZSBpbiBDU1MuXG4gICAgICAgICAgICAgICAgLy8gaU9TIHNhZmFyaSBkb2VzIG5vdCwgc28gaXQgZG9lc24ndCBnZXQgdG8gYmVuZWZpdCBmcm9tIHBhc3NpdmUgc2Nyb2xsaW5nLiBpT1MgZG9lcyBzdXBwb3J0XG4gICAgICAgICAgICAgICAgLy8gdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb24sIGJ1dCB0aGF0IGFsbG93cyBwYW5uaW5nLCB3aGljaCBicmVha3NcbiAgICAgICAgICAgICAgICAvLyBzbGlkZXJzIGFmdGVyIHpvb21pbmcvb24gbm9uLXJlc3BvbnNpdmUgcGFnZXMuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTMzMTEyXG4gICAgICAgICAgICAgICAgaWYgKCFzdXBwb3J0c1Bhc3NpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlLmNhbGNQb2ludCA9IGUucG9pbnRzW29wdGlvbnMub3J0XTtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBldmVudCBoYW5kbGVyIHdpdGggdGhlIGV2ZW50IFsgYW5kIGFkZGl0aW9uYWwgZGF0YSBdLlxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbWV0aG9kcyA9IFtdO1xuICAgICAgICAgICAgLy8gQmluZCBhIGNsb3N1cmUgb24gdGhlIHRhcmdldCBmb3IgZXZlcnkgZXZlbnQgdHlwZS5cbiAgICAgICAgICAgIGV2ZW50cy5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbWV0aG9kLCBzdXBwb3J0c1Bhc3NpdmUgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2goW2V2ZW50TmFtZSwgbWV0aG9kXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2RzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb3ZpZGUgYSBjbGVhbiBldmVudCB3aXRoIHN0YW5kYXJkaXplZCBvZmZzZXQgdmFsdWVzLlxuICAgICAgICBmdW5jdGlvbiBmaXhFdmVudChlLCBwYWdlT2Zmc2V0LCBldmVudFRhcmdldCkge1xuICAgICAgICAgICAgLy8gRmlsdGVyIHRoZSBldmVudCB0byByZWdpc3RlciB0aGUgdHlwZSwgd2hpY2ggY2FuIGJlXG4gICAgICAgICAgICAvLyB0b3VjaCwgbW91c2Ugb3IgcG9pbnRlci4gT2Zmc2V0IGNoYW5nZXMgbmVlZCB0byBiZVxuICAgICAgICAgICAgLy8gbWFkZSBvbiBhbiBldmVudCBzcGVjaWZpYyBiYXNpcy5cbiAgICAgICAgICAgIHZhciB0b3VjaCA9IGUudHlwZS5pbmRleE9mKFwidG91Y2hcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgbW91c2UgPSBlLnR5cGUuaW5kZXhPZihcIm1vdXNlXCIpID09PSAwO1xuICAgICAgICAgICAgdmFyIHBvaW50ZXIgPSBlLnR5cGUuaW5kZXhPZihcInBvaW50ZXJcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgeCA9IDA7XG4gICAgICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgICAgICAvLyBJRTEwIGltcGxlbWVudGVkIHBvaW50ZXIgZXZlbnRzIHdpdGggYSBwcmVmaXg7XG4gICAgICAgICAgICBpZiAoZS50eXBlLmluZGV4T2YoXCJNU1BvaW50ZXJcIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICBwb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEVycm9uZW91cyBldmVudHMgc2VlbSB0byBiZSBwYXNzZWQgaW4gb2NjYXNpb25hbGx5IG9uIGlPUy9pUGFkT1MgYWZ0ZXIgdXNlciBmaW5pc2hlcyBpbnRlcmFjdGluZyB3aXRoXG4gICAgICAgICAgICAvLyB0aGUgc2xpZGVyLiBUaGV5IGFwcGVhciB0byBiZSBvZiB0eXBlIE1vdXNlRXZlbnQsIHlldCB0aGV5IGRvbid0IGhhdmUgdXN1YWwgcHJvcGVydGllcyBzZXQuIElnbm9yZVxuICAgICAgICAgICAgLy8gZXZlbnRzIHRoYXQgaGF2ZSBubyB0b3VjaGVzIG9yIGJ1dHRvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZW0uICgjMTA1NywgIzEwNzksICMxMDk1KVxuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJtb3VzZWRvd25cIiAmJiAhZS5idXR0b25zICYmICFlLnRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgb25seSB0aGluZyBvbmUgaGFuZGxlIHNob3VsZCBiZSBjb25jZXJuZWQgYWJvdXQgaXMgdGhlIHRvdWNoZXMgdGhhdCBvcmlnaW5hdGVkIG9uIHRvcCBvZiBpdC5cbiAgICAgICAgICAgIGlmICh0b3VjaCkge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybnMgdHJ1ZSBpZiBhIHRvdWNoIG9yaWdpbmF0ZWQgb24gdGhlIHRhcmdldC5cbiAgICAgICAgICAgICAgICB2YXIgaXNUb3VjaE9uVGFyZ2V0ID0gZnVuY3Rpb24gKGNoZWNrVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNoZWNrVG91Y2gudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRhcmdldCA9PT0gZXZlbnRUYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmNvbnRhaW5zKHRhcmdldCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChlLmNvbXBvc2VkICYmIGUuY29tcG9zZWRQYXRoKCkuc2hpZnQoKSA9PT0gZXZlbnRUYXJnZXQpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIHRvdWNoc3RhcnQgZXZlbnRzLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGVyZSBpcyBzdGlsbCBubyBtb3JlIHRoYW4gb25lXG4gICAgICAgICAgICAgICAgLy8gdG91Y2ggb24gdGhlIHRhcmdldCBzbyB3ZSBsb29rIGFtb25nc3QgYWxsIHRvdWNoZXMuXG4gICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFRvdWNoZXMgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gb25lIHRvdWNoIHBlciBoYW5kbGUuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB4ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGUgb3RoZXIgY2FzZXMsIGZpbmQgb24gY2hhbmdlZFRvdWNoZXMgaXMgZW5vdWdoLlxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VG91Y2ggPSBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKGUuY2hhbmdlZFRvdWNoZXMsIGlzVG91Y2hPblRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbmNlbCBpZiB0aGUgdGFyZ2V0IHRvdWNoIGhhcyBub3QgbW92ZWQuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0VG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB4ID0gdGFyZ2V0VG91Y2gucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdlT2Zmc2V0ID0gcGFnZU9mZnNldCB8fCBnZXRQYWdlT2Zmc2V0KHNjb3BlX0RvY3VtZW50KTtcbiAgICAgICAgICAgIGlmIChtb3VzZSB8fCBwb2ludGVyKSB7XG4gICAgICAgICAgICAgICAgeCA9IGUuY2xpZW50WCArIHBhZ2VPZmZzZXQueDtcbiAgICAgICAgICAgICAgICB5ID0gZS5jbGllbnRZICsgcGFnZU9mZnNldC55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5wYWdlT2Zmc2V0ID0gcGFnZU9mZnNldDtcbiAgICAgICAgICAgIGUucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgZS5jdXJzb3IgPSBtb3VzZSB8fCBwb2ludGVyOyAvLyBGaXggIzQzNVxuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJhbnNsYXRlIGEgY29vcmRpbmF0ZSBpbiB0aGUgZG9jdW1lbnQgdG8gYSBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcbiAgICAgICAgZnVuY3Rpb24gY2FsY1BvaW50VG9QZXJjZW50YWdlKGNhbGNQb2ludCkge1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gY2FsY1BvaW50IC0gb2Zmc2V0KHNjb3BlX0Jhc2UsIG9wdGlvbnMub3J0KTtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IChsb2NhdGlvbiAqIDEwMCkgLyBiYXNlU2l6ZSgpO1xuICAgICAgICAgICAgLy8gQ2xhbXAgcHJvcG9zYWwgYmV0d2VlbiAwJSBhbmQgMTAwJVxuICAgICAgICAgICAgLy8gT3V0LW9mLWJvdW5kIGNvb3JkaW5hdGVzIG1heSBvY2N1ciB3aGVuIC5ub1VpLWJhc2UgcHNldWRvLWVsZW1lbnRzXG4gICAgICAgICAgICAvLyBhcmUgdXNlZCAoZS5nLiBjb250YWluZWQgaGFuZGxlcyBmZWF0dXJlKVxuICAgICAgICAgICAgcHJvcG9zYWwgPSBsaW1pdChwcm9wb3NhbCk7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kaXIgPyAxMDAgLSBwcm9wb3NhbCA6IHByb3Bvc2FsO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmQgaGFuZGxlIGNsb3Nlc3QgdG8gYSBjZXJ0YWluIHBlcmNlbnRhZ2Ugb24gdGhlIHNsaWRlclxuICAgICAgICBmdW5jdGlvbiBnZXRDbG9zZXN0SGFuZGxlKGNsaWNrZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgdmFyIHNtYWxsZXN0RGlmZmVyZW5jZSA9IDEwMDtcbiAgICAgICAgICAgIHZhciBoYW5kbGVOdW1iZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIERpc2FibGVkIGhhbmRsZXMgYXJlIGlnbm9yZWRcbiAgICAgICAgICAgICAgICBpZiAoaXNIYW5kbGVEaXNhYmxlZChpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlUG9zaXRpb24gPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPSBNYXRoLmFicyhoYW5kbGVQb3NpdGlvbiAtIGNsaWNrZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICAgICAgICAgIHZhciBjbGlja0F0RWRnZSA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA9PT0gMTAwICYmIHNtYWxsZXN0RGlmZmVyZW5jZSA9PT0gMTAwO1xuICAgICAgICAgICAgICAgIC8vIERpZmZlcmVuY2Ugd2l0aCB0aGlzIGhhbmRsZSBpcyBzbWFsbGVyIHRoYW4gdGhlIHByZXZpb3VzbHkgY2hlY2tlZCBoYW5kbGVcbiAgICAgICAgICAgICAgICB2YXIgaXNDbG9zZXIgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPCBzbWFsbGVzdERpZmZlcmVuY2U7XG4gICAgICAgICAgICAgICAgdmFyIGlzQ2xvc2VyQWZ0ZXIgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPD0gc21hbGxlc3REaWZmZXJlbmNlICYmIGNsaWNrZWRQb3NpdGlvbiA+IGhhbmRsZVBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChpc0Nsb3NlciB8fCBpc0Nsb3NlckFmdGVyIHx8IGNsaWNrQXRFZGdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICBzbWFsbGVzdERpZmZlcmVuY2UgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlTnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpcmUgJ2VuZCcgd2hlbiBhIG1vdXNlIG9yIHBlbiBsZWF2ZXMgdGhlIGRvY3VtZW50LlxuICAgICAgICBmdW5jdGlvbiBkb2N1bWVudExlYXZlKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJtb3VzZW91dFwiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIG1vdmVtZW50IG9uIGRvY3VtZW50IGZvciBoYW5kbGUgYW5kIHJhbmdlIGRyYWcuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50TW92ZShldmVudCwgZGF0YSkge1xuICAgICAgICAgICAgLy8gRml4ICM0OThcbiAgICAgICAgICAgIC8vIENoZWNrIHZhbHVlIG9mIC5idXR0b25zIGluICdzdGFydCcgdG8gd29yayBhcm91bmQgYSBidWcgaW4gSUUxMCBtb2JpbGUgKGRhdGEuYnV0dG9uc1Byb3BlcnR5KS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvOTI3MDA1L21vYmlsZS1pZTEwLXdpbmRvd3MtcGhvbmUtYnV0dG9ucy1wcm9wZXJ0eS1vZi1wb2ludGVybW92ZS1ldmVudC1hbHdheXMtemVyb1xuICAgICAgICAgICAgLy8gSUU5IGhhcyAuYnV0dG9ucyBhbmQgLndoaWNoIHplcm8gb24gbW91c2Vtb3ZlLlxuICAgICAgICAgICAgLy8gRmlyZWZveCBicmVha3MgdGhlIHNwZWMgTUROIGRlZmluZXMuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKSA9PT0gLTEgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCAmJiBkYXRhLmJ1dHRvbnNQcm9wZXJ0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgbW92aW5nIHVwIG9yIGRvd25cbiAgICAgICAgICAgIHZhciBtb3ZlbWVudCA9IChvcHRpb25zLmRpciA/IC0xIDogMSkgKiAoZXZlbnQuY2FsY1BvaW50IC0gZGF0YS5zdGFydENhbGNQb2ludCk7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBtb3ZlbWVudCBpbnRvIGEgcGVyY2VudGFnZSBvZiB0aGUgc2xpZGVyIHdpZHRoL2hlaWdodFxuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gKG1vdmVtZW50ICogMTAwKSAvIGRhdGEuYmFzZVNpemU7XG4gICAgICAgICAgICBtb3ZlSGFuZGxlcyhtb3ZlbWVudCA+IDAsIHByb3Bvc2FsLCBkYXRhLmxvY2F0aW9ucywgZGF0YS5oYW5kbGVOdW1iZXJzLCBkYXRhLmNvbm5lY3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVuYmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudCwgY2FsbCBjYWxsYmFja3MuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50RW5kKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBUaGUgaGFuZGxlIGlzIG5vIGxvbmdlciBhY3RpdmUsIHNvIHJlbW92ZSB0aGUgY2xhc3MuXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGUpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkYXRhLmhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVbmJpbmQgdGhlIG1vdmUgYW5kIGVuZCBldmVudHMsIHdoaWNoIGFyZSBhZGRlZCBvbiAnc3RhcnQnLlxuICAgICAgICAgICAgZGF0YS5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIHNjb3BlX0RvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGNbMF0sIGNbMV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIHNldFppbmRleCgpO1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBjdXJzb3Igc3R5bGVzIGFuZCB0ZXh0LXNlbGVjdGlvbiBldmVudHMgYm91bmQgdG8gdGhlIGJvZHkuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICBzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ldmVudHMuc21vb3RoU3RlcHMpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdLCB0cnVlLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRhdGEuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiZW5kXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LlxuICAgICAgICBmdW5jdGlvbiBldmVudFN0YXJ0KGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXZlbnQgaWYgYW55IGhhbmRsZSBpcyBkaXNhYmxlZFxuICAgICAgICAgICAgaWYgKGRhdGEuaGFuZGxlTnVtYmVycy5zb21lKGlzSGFuZGxlRGlzYWJsZWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhbmRsZTtcbiAgICAgICAgICAgIGlmIChkYXRhLmhhbmRsZU51bWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbZGF0YS5oYW5kbGVOdW1iZXJzWzBdXTtcbiAgICAgICAgICAgICAgICBoYW5kbGUgPSBoYW5kbGVPcmlnaW4uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgaGFuZGxlIGFzICdhY3RpdmUnIHNvIGl0IGNhbiBiZSBzdHlsZWQuXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuYWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEEgZHJhZyBzaG91bGQgbmV2ZXIgcHJvcGFnYXRlIHVwIHRvIHRoZSAndGFwJyBldmVudC5cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgLy8gUmVjb3JkIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICAvLyBBdHRhY2ggdGhlIG1vdmUgYW5kIGVuZCBldmVudHMuXG4gICAgICAgICAgICB2YXIgbW92ZUV2ZW50ID0gYXR0YWNoRXZlbnQoYWN0aW9ucy5tb3ZlLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGV2ZW50TW92ZSwge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBldmVudCB0YXJnZXQgaGFzIGNoYW5nZWQgc28gd2UgbmVlZCB0byBwcm9wYWdhdGUgdGhlIG9yaWdpbmFsIG9uZSBzbyB0aGF0IHdlIGtlZXBcbiAgICAgICAgICAgICAgICAvLyByZWx5aW5nIG9uIGl0IHRvIGV4dHJhY3QgdGFyZ2V0IHRvdWNoZXMuXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBoYW5kbGUsXG4gICAgICAgICAgICAgICAgY29ubmVjdDogZGF0YS5jb25uZWN0LFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q2FsY1BvaW50OiBldmVudC5jYWxjUG9pbnQsXG4gICAgICAgICAgICAgICAgYmFzZVNpemU6IGJhc2VTaXplKCksXG4gICAgICAgICAgICAgICAgcGFnZU9mZnNldDogZXZlbnQucGFnZU9mZnNldCxcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnMsXG4gICAgICAgICAgICAgICAgYnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uczogc2NvcGVfTG9jYXRpb25zLnNsaWNlKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBlbmRFdmVudCA9IGF0dGFjaEV2ZW50KGFjdGlvbnMuZW5kLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGV2ZW50RW5kLCB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBoYW5kbGUsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgZG9Ob3RSZWplY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgb3V0RXZlbnQgPSBhdHRhY2hFdmVudChcIm1vdXNlb3V0XCIsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZG9jdW1lbnRMZWF2ZSwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIGRvTm90UmVqZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgcHVzaGVkIHRoZSBsaXN0ZW5lcnMgaW4gdGhlIGxpc3RlbmVyIGxpc3QgcmF0aGVyIHRoYW4gY3JlYXRpbmdcbiAgICAgICAgICAgIC8vIGEgbmV3IG9uZSBhcyBpdCBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlcnMuXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIG1vdmVFdmVudC5jb25jYXQoZW5kRXZlbnQsIG91dEV2ZW50KSk7XG4gICAgICAgICAgICAvLyBUZXh0IHNlbGVjdGlvbiBpc24ndCBhbiBpc3N1ZSBvbiB0b3VjaCBkZXZpY2VzLFxuICAgICAgICAgICAgLy8gc28gYWRkaW5nIGN1cnNvciBzdHlsZXMgY2FuIGJlIHNraXBwZWQuXG4gICAgICAgICAgICBpZiAoZXZlbnQuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCB0aGUgJ0knIGN1cnNvciBhbmQgZXh0ZW5kIHRoZSByYW5nZS1kcmFnIGN1cnNvci5cbiAgICAgICAgICAgICAgICBzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9IGdldENvbXB1dGVkU3R5bGUoZXZlbnQudGFyZ2V0KS5jdXJzb3I7XG4gICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgdGFyZ2V0IHdpdGggYSBkcmFnZ2luZyBzdGF0ZS5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoZW4gZHJhZ2dpbmcgdGhlIGhhbmRsZXMuXG4gICAgICAgICAgICAgICAgLy8gSW4gbm9VaVNsaWRlciA8PSA5LjIuMCwgdGhpcyB3YXMgaGFuZGxlZCBieSBjYWxsaW5nIHByZXZlbnREZWZhdWx0IG9uIG1vdXNlL3RvdWNoIHN0YXJ0L21vdmUsXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggaXMgc2Nyb2xsIGJsb2NraW5nLiBUaGUgc2VsZWN0c3RhcnQgZXZlbnQgaXMgc3VwcG9ydGVkIGJ5IEZpcmVGb3ggc3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDUyLFxuICAgICAgICAgICAgICAgIC8vIG1lYW5pbmcgdGhlIG9ubHkgaG9sZG91dCBpcyBpT1MgU2FmYXJpLiBUaGlzIGRvZXNuJ3QgbWF0dGVyOiB0ZXh0IHNlbGVjdGlvbiBpc24ndCB0cmlnZ2VyZWQgdGhlcmUuXG4gICAgICAgICAgICAgICAgLy8gVGhlICdjdXJzb3InIGZsYWcgaXMgZmFsc2UuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1zZWxlY3RzdGFydFxuICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic3RhcnRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1vdmUgY2xvc2VzdCBoYW5kbGUgdG8gdGFwcGVkIGxvY2F0aW9uLlxuICAgICAgICBmdW5jdGlvbiBldmVudFRhcChldmVudCkge1xuICAgICAgICAgICAgLy8gVGhlIHRhcCBldmVudCBzaG91bGRuJ3QgcHJvcGFnYXRlIHVwXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IGNhbGNQb2ludFRvUGVyY2VudGFnZShldmVudC5jYWxjUG9pbnQpO1xuICAgICAgICAgICAgdmFyIGhhbmRsZU51bWJlciA9IGdldENsb3Nlc3RIYW5kbGUocHJvcG9zYWwpO1xuICAgICAgICAgICAgLy8gVGFja2xlIHRoZSBjYXNlIHRoYXQgYWxsIGhhbmRsZXMgYXJlICdkaXNhYmxlZCcuXG4gICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZsYWcgdGhlIHNsaWRlciBhcyBpdCBpcyBub3cgaW4gYSB0cmFuc2l0aW9uYWwgc3RhdGUuXG4gICAgICAgICAgICAvLyBUcmFuc2l0aW9uIHRha2VzIGEgY29uZmlndXJhYmxlIGFtb3VudCBvZiBtcyAoZGVmYXVsdCAzMDApLiBSZS1lbmFibGUgdGhlIHNsaWRlciBhZnRlciB0aGF0LlxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmV2ZW50cy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NGb3Ioc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwLCBvcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHByb3Bvc2FsLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHNldFppbmRleCgpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmV2ZW50cy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBldmVudFN0YXJ0KGV2ZW50LCB7IGhhbmRsZU51bWJlcnM6IFtoYW5kbGVOdW1iZXJdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZpcmVzIGEgJ2hvdmVyJyBldmVudCBmb3IgYSBob3ZlcmVkIG1vdXNlL3BlbiBwb3NpdGlvbi5cbiAgICAgICAgZnVuY3Rpb24gZXZlbnRIb3ZlcihldmVudCkge1xuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XG4gICAgICAgICAgICB2YXIgdG8gPSBzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKHByb3Bvc2FsKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiaG92ZXJcIiA9PT0gdGFyZ2V0RXZlbnQuc3BsaXQoXCIuXCIpWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoc2NvcGVfU2VsZiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGVzIGtleWRvd24gb24gZm9jdXNlZCBoYW5kbGVzXG4gICAgICAgIC8vIERvbid0IG1vdmUgdGhlIGRvY3VtZW50IHdoZW4gcHJlc3NpbmcgYXJyb3cga2V5cyBvbiBmb2N1c2VkIGhhbmRsZXNcbiAgICAgICAgZnVuY3Rpb24gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgfHwgaXNIYW5kbGVEaXNhYmxlZChoYW5kbGVOdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhvcml6b250YWxLZXlzID0gW1wiTGVmdFwiLCBcIlJpZ2h0XCJdO1xuICAgICAgICAgICAgdmFyIHZlcnRpY2FsS2V5cyA9IFtcIkRvd25cIiwgXCJVcFwiXTtcbiAgICAgICAgICAgIHZhciBsYXJnZVN0ZXBLZXlzID0gW1wiUGFnZURvd25cIiwgXCJQYWdlVXBcIl07XG4gICAgICAgICAgICB2YXIgZWRnZUtleXMgPSBbXCJIb21lXCIsIFwiRW5kXCJdO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyICYmICFvcHRpb25zLm9ydCkge1xuICAgICAgICAgICAgICAgIC8vIE9uIGFuIHJpZ2h0LXRvLWxlZnQgc2xpZGVyLCB0aGUgbGVmdCBhbmQgcmlnaHQga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsS2V5cy5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLm9ydCAmJiAhb3B0aW9ucy5kaXIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhIHRvcC10by1ib3R0b20gc2xpZGVyLCB0aGUgdXAgYW5kIGRvd24ga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIGxhcmdlU3RlcEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RyaXAgXCJBcnJvd1wiIGZvciBJRSBjb21wYXRpYmlsaXR5LiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9rZXlcbiAgICAgICAgICAgIHZhciBrZXkgPSBldmVudC5rZXkucmVwbGFjZShcIkFycm93XCIsIFwiXCIpO1xuICAgICAgICAgICAgdmFyIGlzTGFyZ2VEb3duID0ga2V5ID09PSBsYXJnZVN0ZXBLZXlzWzBdO1xuICAgICAgICAgICAgdmFyIGlzTGFyZ2VVcCA9IGtleSA9PT0gbGFyZ2VTdGVwS2V5c1sxXTtcbiAgICAgICAgICAgIHZhciBpc0Rvd24gPSBrZXkgPT09IHZlcnRpY2FsS2V5c1swXSB8fCBrZXkgPT09IGhvcml6b250YWxLZXlzWzBdIHx8IGlzTGFyZ2VEb3duO1xuICAgICAgICAgICAgdmFyIGlzVXAgPSBrZXkgPT09IHZlcnRpY2FsS2V5c1sxXSB8fCBrZXkgPT09IGhvcml6b250YWxLZXlzWzFdIHx8IGlzTGFyZ2VVcDtcbiAgICAgICAgICAgIHZhciBpc01pbiA9IGtleSA9PT0gZWRnZUtleXNbMF07XG4gICAgICAgICAgICB2YXIgaXNNYXggPSBrZXkgPT09IGVkZ2VLZXlzWzFdO1xuICAgICAgICAgICAgaWYgKCFpc0Rvd24gJiYgIWlzVXAgJiYgIWlzTWluICYmICFpc01heCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB0bztcbiAgICAgICAgICAgIGlmIChpc1VwIHx8IGlzRG93bikge1xuICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpc0Rvd24gPyAwIDogMTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcHMgPSBnZXROZXh0U3RlcHNGb3JIYW5kbGUoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IHN0ZXBzW2RpcmVjdGlvbl07XG4gICAgICAgICAgICAgICAgLy8gQXQgdGhlIGVkZ2Ugb2YgYSBzbGlkZXIsIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE5vIHN0ZXAgc2V0LCB1c2UgdGhlIGRlZmF1bHQgb2YgMTAlIG9mIHRoZSBzdWItcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IHNjb3BlX1NwZWN0cnVtLmdldERlZmF1bHRTdGVwKHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdLCBpc0Rvd24sIG9wdGlvbnMua2V5Ym9hcmREZWZhdWx0U3RlcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0xhcmdlVXAgfHwgaXNMYXJnZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCAqPSBvcHRpb25zLmtleWJvYXJkUGFnZU11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGVwICo9IG9wdGlvbnMua2V5Ym9hcmRNdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdGVwIG92ZXIgemVyby1sZW5ndGggcmFuZ2VzICgjOTQ4KTtcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5tYXgoc3RlcCwgMC4wMDAwMDAxKTtcbiAgICAgICAgICAgICAgICAvLyBEZWNyZW1lbnQgZm9yIGRvd24gc3RlcHNcbiAgICAgICAgICAgICAgICBzdGVwID0gKGlzRG93biA/IC0xIDogMSkgKiBzdGVwO1xuICAgICAgICAgICAgICAgIHRvID0gc2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gKyBzdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNNYXgpIHtcbiAgICAgICAgICAgICAgICAvLyBFbmQga2V5XG4gICAgICAgICAgICAgICAgdG8gPSBvcHRpb25zLnNwZWN0cnVtLnhWYWxbb3B0aW9ucy5zcGVjdHJ1bS54VmFsLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSG9tZSBrZXlcbiAgICAgICAgICAgICAgICB0byA9IG9wdGlvbnMuc3BlY3RydW0ueFZhbFswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInNsaWRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcImNoYW5nZVwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0YWNoIGV2ZW50cyB0byBzZXZlcmFsIHNsaWRlciBwYXJ0cy5cbiAgICAgICAgZnVuY3Rpb24gYmluZFNsaWRlckV2ZW50cyhiZWhhdmlvdXIpIHtcbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgc3RhbmRhcmQgZHJhZyBldmVudCB0byB0aGUgaGFuZGxlcy5cbiAgICAgICAgICAgIGlmICghYmVoYXZpb3VyLmZpeGVkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIGV2ZW50cyBhcmUgb25seSBib3VuZCB0byB0aGUgdmlzdWFsIGhhbmRsZVxuICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50LCBub3QgdGhlICdyZWFsJyBvcmlnaW4gZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgaGFuZGxlLmNoaWxkcmVuWzBdLCBldmVudFN0YXJ0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBbaW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgdGFwIGV2ZW50IHRvIHRoZSBzbGlkZXIgYmFzZS5cbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIudGFwKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgc2NvcGVfQmFzZSwgZXZlbnRUYXAsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpcmUgaG92ZXIgZXZlbnRzXG4gICAgICAgICAgICBpZiAoYmVoYXZpb3VyLmhvdmVyKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5tb3ZlLCBzY29wZV9CYXNlLCBldmVudEhvdmVyLCB7XG4gICAgICAgICAgICAgICAgICAgIGhvdmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFrZSB0aGUgcmFuZ2UgZHJhZ2dhYmxlLlxuICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5kcmFnKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMuZm9yRWFjaChmdW5jdGlvbiAoY29ubmVjdCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3QgPT09IGZhbHNlIHx8IGluZGV4ID09PSAwIHx8IGluZGV4ID09PSBzY29wZV9Db25uZWN0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZUJlZm9yZSA9IHNjb3BlX0hhbmRsZXNbaW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZUFmdGVyID0gc2NvcGVfSGFuZGxlc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhvbGRlcnMgPSBbY29ubmVjdF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVzVG9EcmFnID0gW2hhbmRsZUJlZm9yZSwgaGFuZGxlQWZ0ZXJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlTnVtYmVyc1RvRHJhZyA9IFtpbmRleCAtIDEsIGluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoY29ubmVjdCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWdnYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHJhbmdlIGlzIGZpeGVkLCB0aGUgZW50aXJlIHJhbmdlIGNhblxuICAgICAgICAgICAgICAgICAgICAvLyBiZSBkcmFnZ2VkIGJ5IHRoZSBoYW5kbGVzLiBUaGUgaGFuZGxlIGluIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAvLyBvcmlnaW4gd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXJ0IGV2ZW50IHVwd2FyZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IGl0IG5lZWRzIHRvIGJlIGJvdW5kIG1hbnVhbGx5IG9uIHRoZSBvdGhlci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5maXhlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRIb2xkZXJzLnB1c2goaGFuZGxlQmVmb3JlLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUFmdGVyLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYmVoYXZpb3VyLmRyYWdBbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXNUb0RyYWcgPSBzY29wZV9IYW5kbGVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyc1RvRHJhZyA9IHNjb3BlX0hhbmRsZU51bWJlcnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXZlbnRIb2xkZXJzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50SG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBldmVudEhvbGRlciwgZXZlbnRTdGFydCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXM6IGhhbmRsZXNUb0RyYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyczogaGFuZGxlTnVtYmVyc1RvRHJhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0OiBjb25uZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEF0dGFjaCBhbiBldmVudCB0byB0aGlzIHNsaWRlciwgcG9zc2libHkgaW5jbHVkaW5nIGEgbmFtZXNwYWNlXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudChuYW1lc3BhY2VkRXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XSA9IHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZXZlbnQgYm91bmQgaXMgJ3VwZGF0ZSwnIGZpcmUgaXQgaW1tZWRpYXRlbHkgZm9yIGFsbCBoYW5kbGVzLlxuICAgICAgICAgICAgaWYgKG5hbWVzcGFjZWRFdmVudC5zcGxpdChcIi5cIilbMF0gPT09IFwidXBkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaXNJbnRlcm5hbE5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lc3BhY2UgPT09IElOVEVSTkFMX0VWRU5UX05TLmFyaWEgfHwgbmFtZXNwYWNlID09PSBJTlRFUk5BTF9FVkVOVF9OUy50b29sdGlwcztcbiAgICAgICAgfVxuICAgICAgICAvLyBVbmRvIGF0dGFjaG1lbnQgb2YgZXZlbnRcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRXZlbnQobmFtZXNwYWNlZEV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuYW1lc3BhY2VkRXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBldmVudCA/IG5hbWVzcGFjZWRFdmVudC5zdWJzdHJpbmcoZXZlbnQubGVuZ3RoKSA6IG5hbWVzcGFjZWRFdmVudDtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoYmluZCkge1xuICAgICAgICAgICAgICAgIHZhciB0RXZlbnQgPSBiaW5kLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdE5hbWVzcGFjZSA9IGJpbmQuc3Vic3RyaW5nKHRFdmVudC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICgoIWV2ZW50IHx8IGV2ZW50ID09PSB0RXZlbnQpICYmICghbmFtZXNwYWNlIHx8IG5hbWVzcGFjZSA9PT0gdE5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBkZWxldGUgcHJvdGVjdGVkIGludGVybmFsIGV2ZW50IGlmIGludGVudGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNJbnRlcm5hbE5hbWVzcGFjZSh0TmFtZXNwYWNlKSB8fCBuYW1lc3BhY2UgPT09IHROYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY29wZV9FdmVudHNbYmluZF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeHRlcm5hbCBldmVudCBoYW5kbGluZ1xuICAgICAgICBmdW5jdGlvbiBmaXJlRXZlbnQoZXZlbnROYW1lLCBoYW5kbGVOdW1iZXIsIHRhcCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXRFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSB0YXJnZXRFdmVudC5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIHNsaWRlciBwdWJsaWMgQVBJIGFzIHRoZSBzY29wZSAoJ3RoaXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfU2VsZiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdmFsdWVzIGFzIGFycmF5LCBzbyBhcmdfMVthcmdfMl0gaXMgYWx3YXlzIHZhbGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byksIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGluZGV4LCAwIG9yIDFcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVbi1mb3JtYXR0ZWQgc2xpZGVyIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLnNsaWNlKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbnQgaXMgZmlyZWQgYnkgdGFwLCB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXAgfHwgZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBvZmZzZXQgb2YgdGhlIGhhbmRsZSwgaW4gcmVsYXRpb24gdG8gdGhlIHNsaWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfTG9jYXRpb25zLnNsaWNlKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBzbGlkZXIgcHVibGljIEFQSSB0byBhbiBhY2Nlc3NpYmxlIHBhcmFtZXRlciB3aGVuIHRoaXMgaXMgdW5hdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1NlbGYpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTcGxpdCBvdXQgdGhlIGhhbmRsZSBwb3NpdGlvbmluZyBsb2dpYyBzbyB0aGUgTW92ZSBldmVudCBjYW4gdXNlIGl0LCB0b29cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tIYW5kbGVQb3NpdGlvbihyZWZlcmVuY2UsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGdldFZhbHVlLCBzbW9vdGhTdGVwcykge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlO1xuICAgICAgICAgICAgLy8gRm9yIHNsaWRlcnMgd2l0aCBtdWx0aXBsZSBoYW5kbGVzLCBsaW1pdCBtb3ZlbWVudCB0byB0aGUgb3RoZXIgaGFuZGxlLlxuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIG1hcmdpbiBvcHRpb24gYnkgYWRkaW5nIGl0IHRvIHRoZSBoYW5kbGUgcG9zaXRpb25zLlxuICAgICAgICAgICAgaWYgKHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSAmJiAhb3B0aW9ucy5ldmVudHMudW5jb25zdHJhaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UocmVmZXJlbmNlW2hhbmRsZU51bWJlciAtIDFdLCBvcHRpb25zLm1hcmdpbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWF4KHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5tYXJnaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlIGxpbWl0IG9wdGlvbiBoYXMgdGhlIG9wcG9zaXRlIGVmZmVjdCwgbGltaXRpbmcgaGFuZGxlcyB0byBhXG4gICAgICAgICAgICAvLyBtYXhpbXVtIGRpc3RhbmNlIGZyb20gYW5vdGhlci4gTGltaXQgbXVzdCBiZSA+IDAsIGFzIG90aGVyd2lzZVxuICAgICAgICAgICAgLy8gaGFuZGxlcyB3b3VsZCBiZSB1bm1vdmFibGUuXG4gICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICYmIG9wdGlvbnMubGltaXQpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9va0JhY2t3YXJkICYmIGhhbmRsZU51bWJlciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgLSAxXSwgb3B0aW9ucy5saW1pdCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5saW1pdCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgcGFkZGluZyBvcHRpb24ga2VlcHMgdGhlIGhhbmRsZXMgYSBjZXJ0YWluIGRpc3RhbmNlIGZyb20gdGhlXG4gICAgICAgICAgICAvLyBlZGdlcyBvZiB0aGUgc2xpZGVyLiBQYWRkaW5nIG11c3QgYmUgPiAwLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFkZGluZykge1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKDAsIG9wdGlvbnMucGFkZGluZ1swXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWF4KHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgPT09IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UoMTAwLCBvcHRpb25zLnBhZGRpbmdbMV0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzbW9vdGhTdGVwcykge1xuICAgICAgICAgICAgICAgIHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh0byk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMaW1pdCBwZXJjZW50YWdlIHRvIHRoZSAwIC0gMTAwIHJhbmdlXG4gICAgICAgICAgICB0byA9IGxpbWl0KHRvKTtcbiAgICAgICAgICAgIC8vIFJldHVybiBmYWxzZSBpZiBoYW5kbGUgY2FuJ3QgbW92ZVxuICAgICAgICAgICAgaWYgKHRvID09PSByZWZlcmVuY2VbaGFuZGxlTnVtYmVyXSAmJiAhZ2V0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXNlcyBzbGlkZXIgb3JpZW50YXRpb24gdG8gY3JlYXRlIENTUyBydWxlcy4gYSA9IGJhc2UgdmFsdWU7XG4gICAgICAgIGZ1bmN0aW9uIGluUnVsZU9yZGVyKHYsIGEpIHtcbiAgICAgICAgICAgIHZhciBvID0gb3B0aW9ucy5vcnQ7XG4gICAgICAgICAgICByZXR1cm4gKG8gPyBhIDogdikgKyBcIiwgXCIgKyAobyA/IHYgOiBhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNb3ZlcyBoYW5kbGUocykgYnkgYSBwZXJjZW50YWdlXG4gICAgICAgIC8vIChib29sLCAlIHRvIG1vdmUsIFslIHdoZXJlIGhhbmRsZSBzdGFydGVkLCAuLi5dLCBbaW5kZXggaW4gc2NvcGVfSGFuZGxlcywgLi4uXSlcbiAgICAgICAgZnVuY3Rpb24gbW92ZUhhbmRsZXModXB3YXJkLCBwcm9wb3NhbCwgbG9jYXRpb25zLCBoYW5kbGVOdW1iZXJzLCBjb25uZWN0KSB7XG4gICAgICAgICAgICB2YXIgcHJvcG9zYWxzID0gbG9jYXRpb25zLnNsaWNlKCk7XG4gICAgICAgICAgICAvLyBTdG9yZSBmaXJzdCBoYW5kbGUgbm93LCBzbyB3ZSBzdGlsbCBoYXZlIGl0IGluIGNhc2UgaGFuZGxlTnVtYmVycyBpcyByZXZlcnNlZFxuICAgICAgICAgICAgdmFyIGZpcnN0SGFuZGxlID0gaGFuZGxlTnVtYmVyc1swXTtcbiAgICAgICAgICAgIHZhciBzbW9vdGhTdGVwcyA9IG9wdGlvbnMuZXZlbnRzLnNtb290aFN0ZXBzO1xuICAgICAgICAgICAgdmFyIGIgPSBbIXVwd2FyZCwgdXB3YXJkXTtcbiAgICAgICAgICAgIHZhciBmID0gW3Vwd2FyZCwgIXVwd2FyZF07XG4gICAgICAgICAgICAvLyBDb3B5IGhhbmRsZU51bWJlcnMgc28gd2UgZG9uJ3QgY2hhbmdlIHRoZSBkYXRhc2V0XG4gICAgICAgICAgICBoYW5kbGVOdW1iZXJzID0gaGFuZGxlTnVtYmVycy5zbGljZSgpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIHdoaWNoIGhhbmRsZSBpcyAnbGVhZGluZycuXG4gICAgICAgICAgICAvLyBJZiB0aGF0IG9uZSBjYW4ndCBtb3ZlIHRoZSBzZWNvbmQgY2FuJ3QgZWl0aGVyLlxuICAgICAgICAgICAgaWYgKHVwd2FyZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RlcCAxOiBnZXQgdGhlIG1heGltdW0gcGVyY2VudGFnZSB0aGF0IGFueSBvZiB0aGUgaGFuZGxlcyBjYW4gbW92ZVxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlcnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyLCBvKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0byA9IGNoZWNrSGFuZGxlUG9zaXRpb24ocHJvcG9zYWxzLCBoYW5kbGVOdW1iZXIsIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdICsgcHJvcG9zYWwsIGJbb10sIGZbb10sIGZhbHNlLCBzbW9vdGhTdGVwcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0b3AgaWYgb25lIG9mIHRoZSBoYW5kbGVzIGNhbid0IG1vdmUuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0byA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsID0gdG8gLSBwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdID0gdG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHVzaW5nIG9uZSBoYW5kbGUsIGNoZWNrIGJhY2t3YXJkIEFORCBmb3J3YXJkXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBiID0gZiA9IFt0cnVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gU3RlcCAyOiBUcnkgdG8gc2V0IHRoZSBoYW5kbGVzIHdpdGggdGhlIGZvdW5kIHBlcmNlbnRhZ2VcbiAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyLCBvKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPVxuICAgICAgICAgICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBsb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSArIHByb3Bvc2FsLCBiW29dLCBmW29dLCBmYWxzZSwgc21vb3RoU3RlcHMpIHx8IHN0YXRlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBTdGVwIDM6IElmIGEgaGFuZGxlIG1vdmVkLCBmaXJlIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInNsaWRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGFyZ2V0IGlzIGEgY29ubmVjdCwgdGhlbiBmaXJlIGRyYWcgZXZlbnRcbiAgICAgICAgICAgICAgICBpZiAoY29ubmVjdCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiZHJhZ1wiLCBmaXJzdEhhbmRsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRha2VzIGEgYmFzZSB2YWx1ZSBhbmQgYW4gb2Zmc2V0LiBUaGlzIG9mZnNldCBpcyB1c2VkIGZvciB0aGUgY29ubmVjdCBiYXIgc2l6ZS5cbiAgICAgICAgLy8gSW4gdGhlIGluaXRpYWwgZGVzaWduIGZvciB0aGlzIGZlYXR1cmUsIHRoZSBvcmlnaW4gZWxlbWVudCB3YXMgMSUgd2lkZS5cbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgYSByb3VuZGluZyBidWcgaW4gQ2hyb21lIG1ha2VzIGl0IGltcG9zc2libGUgdG8gaW1wbGVtZW50IHRoaXMgZmVhdHVyZVxuICAgICAgICAvLyBpbiB0aGlzIG1hbm5lcjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Nzk4MjIzXG4gICAgICAgIGZ1bmN0aW9uIHRyYW5zZm9ybURpcmVjdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kaXIgPyAxMDAgLSBhIC0gYiA6IGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlcyBzY29wZV9Mb2NhdGlvbnMgYW5kIHNjb3BlX1ZhbHVlcywgdXBkYXRlcyB2aXN1YWwgc3RhdGVcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0bykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2F0aW9ucy5cbiAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID0gdG87XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSB2YWx1ZSB0byB0aGUgc2xpZGVyIHN0ZXBwaW5nL3JhbmdlLlxuICAgICAgICAgICAgc2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcodG8pO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKHRvLCAwKSAtIHNjb3BlX0Rpck9mZnNldDtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVSdWxlID0gXCJ0cmFuc2xhdGUoXCIgKyBpblJ1bGVPcmRlcih0cmFuc2xhdGlvbiArIFwiJVwiLCBcIjBcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXS5zdHlsZVtvcHRpb25zLnRyYW5zZm9ybVJ1bGVdID0gdHJhbnNsYXRlUnVsZTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlcyBiZWZvcmUgdGhlIHNsaWRlciBtaWRkbGUgYXJlIHN0YWNrZWQgbGF0ZXIgPSBoaWdoZXIsXG4gICAgICAgIC8vIEhhbmRsZXMgYWZ0ZXIgdGhlIG1pZGRsZSBsYXRlciBpcyBsb3dlclxuICAgICAgICAvLyBbWzddIFs4XSAuLi4uLi4uLi4uIHwgLi4uLi4uLi4uLiBbNV0gWzRdXG4gICAgICAgIGZ1bmN0aW9uIHNldFppbmRleCgpIHtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpciA9IHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID4gNTAgPyAtMSA6IDE7XG4gICAgICAgICAgICAgICAgdmFyIHpJbmRleCA9IDMgKyAoc2NvcGVfSGFuZGxlcy5sZW5ndGggKyBkaXIgKiBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXS5zdHlsZS56SW5kZXggPSBTdHJpbmcoekluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRlc3Qgc3VnZ2VzdGVkIHZhbHVlcyBhbmQgYXBwbHkgbWFyZ2luLCBzdGVwLlxuICAgICAgICAvLyBpZiBleGFjdElucHV0IGlzIHRydWUsIGRvbid0IHJ1biBjaGVja0hhbmRsZVBvc2l0aW9uLCB0aGVuIHRoZSBoYW5kbGUgY2FuIGJlIHBsYWNlZCBpbiBiZXR3ZWVuIHN0ZXBzICgjNDM2KVxuICAgICAgICBmdW5jdGlvbiBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCB0bywgbG9va0JhY2t3YXJkLCBsb29rRm9yd2FyZCwgZXhhY3RJbnB1dCwgc21vb3RoU3RlcHMpIHtcbiAgICAgICAgICAgIGlmICghZXhhY3RJbnB1dCkge1xuICAgICAgICAgICAgICAgIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGZhbHNlLCBzbW9vdGhTdGVwcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG8gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0byk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGVzIHN0eWxlIGF0dHJpYnV0ZSBmb3IgY29ubmVjdCBub2Rlc1xuICAgICAgICBmdW5jdGlvbiB1cGRhdGVDb25uZWN0KGluZGV4KSB7XG4gICAgICAgICAgICAvLyBTa2lwIGNvbm5lY3RzIHNldCB0byBmYWxzZVxuICAgICAgICAgICAgaWYgKCFzY29wZV9Db25uZWN0c1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbCA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDEwMDtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGwgPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXggLSAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gc2NvcGVfQ29ubmVjdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGggPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgdXNlIHR3byBydWxlczpcbiAgICAgICAgICAgIC8vICd0cmFuc2xhdGUnIHRvIGNoYW5nZSB0aGUgbGVmdC90b3Agb2Zmc2V0O1xuICAgICAgICAgICAgLy8gJ3NjYWxlJyB0byBjaGFuZ2UgdGhlIHdpZHRoIG9mIHRoZSBlbGVtZW50O1xuICAgICAgICAgICAgLy8gQXMgdGhlIGVsZW1lbnQgaGFzIGEgd2lkdGggb2YgMTAwJSwgYSB0cmFuc2xhdGlvbiBvZiAxMDAlIGlzIGVxdWFsIHRvIDEwMCUgb2YgdGhlIHBhcmVudCAoLm5vVWktYmFzZSlcbiAgICAgICAgICAgIHZhciBjb25uZWN0V2lkdGggPSBoIC0gbDtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVSdWxlID0gXCJ0cmFuc2xhdGUoXCIgKyBpblJ1bGVPcmRlcih0cmFuc2Zvcm1EaXJlY3Rpb24obCwgY29ubmVjdFdpZHRoKSArIFwiJVwiLCBcIjBcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHZhciBzY2FsZVJ1bGUgPSBcInNjYWxlKFwiICsgaW5SdWxlT3JkZXIoY29ubmVjdFdpZHRoIC8gMTAwLCBcIjFcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzW2luZGV4XS5zdHlsZVtvcHRpb25zLnRyYW5zZm9ybVJ1bGVdID1cbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVSdWxlICsgXCIgXCIgKyBzY2FsZVJ1bGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2VzIHZhbHVlIHBhc3NlZCB0byAuc2V0IG1ldGhvZC4gUmV0dXJucyBjdXJyZW50IHZhbHVlIGlmIG5vdCBwYXJzZS1hYmxlLlxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlVG9WYWx1ZSh0bywgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAvLyBTZXR0aW5nIHdpdGggbnVsbCBpbmRpY2F0ZXMgYW4gJ2lnbm9yZScuXG4gICAgICAgICAgICAvLyBJbnB1dHRpbmcgJ2ZhbHNlJyBpcyBpbnZhbGlkLlxuICAgICAgICAgICAgaWYgKHRvID09PSBudWxsIHx8IHRvID09PSBmYWxzZSB8fCB0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgYSBmb3JtYXR0ZWQgbnVtYmVyIHdhcyBwYXNzZWQsIGF0dGVtcHQgdG8gZGVjb2RlIGl0LlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHRvID0gU3RyaW5nKHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSh0byk7XG4gICAgICAgICAgICBpZiAodG8gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdG8gPSBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHBhcnNpbmcgdGhlIG51bWJlciBmYWlsZWQsIHVzZSB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgICAgICAgIGlmICh0byA9PT0gZmFsc2UgfHwgaXNOYU4odG8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgc2xpZGVyIHZhbHVlLlxuICAgICAgICBmdW5jdGlvbiB2YWx1ZVNldChpbnB1dCwgZmlyZVNldEV2ZW50LCBleGFjdElucHV0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gYXNBcnJheShpbnB1dCk7XG4gICAgICAgICAgICB2YXIgaXNJbml0ID0gc2NvcGVfTG9jYXRpb25zWzBdID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBFdmVudCBmaXJlcyBieSBkZWZhdWx0XG4gICAgICAgICAgICBmaXJlU2V0RXZlbnQgPSBmaXJlU2V0RXZlbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBmaXJlU2V0RXZlbnQ7XG4gICAgICAgICAgICAvLyBBbmltYXRpb24gaXMgb3B0aW9uYWwuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGluaXRpYWwgdmFsdWVzIHdlcmUgc2V0IGJlZm9yZSB1c2luZyBhbmltYXRlZCBwbGFjZW1lbnQuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRlICYmICFpc0luaXQpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzc0ZvcihzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXAsIG9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmlyc3QgcGFzcywgd2l0aG91dCBsb29rQWhlYWQgYnV0IHdpdGggbG9va0JhY2t3YXJkLiBWYWx1ZXMgYXJlIHNldCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlc1toYW5kbGVOdW1iZXJdLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCBmYWxzZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBpID0gc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGggPT09IDEgPyAwIDogMTtcbiAgICAgICAgICAgIC8vIFNwcmVhZCBoYW5kbGVzIGV2ZW5seSBhY3Jvc3MgdGhlIHNsaWRlciBpZiB0aGUgcmFuZ2UgaGFzIG5vIHNpemUgKG1pbj1tYXgpXG4gICAgICAgICAgICBpZiAoaXNJbml0ICYmIHNjb3BlX1NwZWN0cnVtLmhhc05vU2l6ZSgpKSB7XG4gICAgICAgICAgICAgICAgZXhhY3RJbnB1dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2NvcGVfTG9jYXRpb25zWzBdID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZV8xID0gMTAwIC8gKHNjb3BlX0hhbmRsZU51bWJlcnMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSA9IGhhbmRsZU51bWJlciAqIHNwYWNlXzE7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlY29uZGFyeSBwYXNzZXMuIE5vdyB0aGF0IGFsbCBiYXNlIHZhbHVlcyBhcmUgc2V0LCBhcHBseSBjb25zdHJhaW50cy5cbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgYWxsIGhhbmRsZXMgdG8gZW5zdXJlIGNvbnN0cmFpbnRzIGFyZSBhcHBsaWVkIGZvciB0aGUgZW50aXJlIHNsaWRlciAoSXNzdWUgIzEwMDkpXG4gICAgICAgICAgICBmb3IgKDsgaSA8IHNjb3BlX0hhbmRsZU51bWJlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSwgdHJ1ZSwgdHJ1ZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRaaW5kZXgoKTtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgLy8gRmlyZSB0aGUgZXZlbnQgb25seSBmb3IgaGFuZGxlcyB0aGF0IHJlY2VpdmVkIGEgbmV3IHZhbHVlLCBhcyBwZXIgIzU3OVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaGFuZGxlTnVtYmVyXSAhPT0gbnVsbCAmJiBmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgc2xpZGVyIHRvIGluaXRpYWwgdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlUmVzZXQoZmlyZVNldEV2ZW50KSB7XG4gICAgICAgICAgICB2YWx1ZVNldChvcHRpb25zLnN0YXJ0LCBmaXJlU2V0RXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB2YWx1ZSBmb3IgYSBzaW5nbGUgaGFuZGxlXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlU2V0SGFuZGxlKGhhbmRsZU51bWJlciwgdmFsdWUsIGZpcmVTZXRFdmVudCwgZXhhY3RJbnB1dCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIG51bWVyaWMgaW5wdXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IE51bWJlcihoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgaWYgKCEoaGFuZGxlTnVtYmVyID49IDAgJiYgaGFuZGxlTnVtYmVyIDwgc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogaW52YWxpZCBoYW5kbGUgbnVtYmVyLCBnb3Q6IFwiICsgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExvb2sgYm90aCBiYWNrd2FyZCBhbmQgZm9yd2FyZCwgc2luY2Ugd2UgZG9uJ3Qgd2FudCB0aGlzIGhhbmRsZSB0byBcInB1c2hcIiBvdGhlciBoYW5kbGVzICgjOTYwKTtcbiAgICAgICAgICAgIC8vIFRoZSBleGFjdElucHV0IGFyZ3VtZW50IGNhbiBiZSB1c2VkIHRvIGlnbm9yZSBzbGlkZXIgc3RlcHBpbmcgKCM0MzYpXG4gICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCByZXNvbHZlVG9WYWx1ZSh2YWx1ZSwgaGFuZGxlTnVtYmVyKSwgdHJ1ZSwgdHJ1ZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIHNsaWRlciB2YWx1ZS5cbiAgICAgICAgZnVuY3Rpb24gdmFsdWVHZXQodW5lbmNvZGVkKSB7XG4gICAgICAgICAgICBpZiAodW5lbmNvZGVkID09PSB2b2lkIDApIHsgdW5lbmNvZGVkID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmICh1bmVuY29kZWQpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gYSBjb3B5IG9mIHRoZSByYXcgdmFsdWVzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1ZhbHVlcy5sZW5ndGggPT09IDEgPyBzY29wZV9WYWx1ZXNbMF0gOiBzY29wZV9WYWx1ZXMuc2xpY2UoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gc2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byk7XG4gICAgICAgICAgICAvLyBJZiBvbmx5IG9uZSBoYW5kbGUgaXMgdXNlZCwgcmV0dXJuIGEgc2luZ2xlIHZhbHVlLlxuICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmVzIGNsYXNzZXMgZnJvbSB0aGUgcm9vdCBhbmQgZW1wdGllcyBpdC5cbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBwcm90ZWN0ZWQgaW50ZXJuYWwgbGlzdGVuZXJzXG4gICAgICAgICAgICByZW1vdmVFdmVudChJTlRFUk5BTF9FVkVOVF9OUy5hcmlhKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KElOVEVSTkFMX0VWRU5UX05TLnRvb2x0aXBzKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMuY3NzQ2xhc3NlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXNba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdoaWxlIChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHNjb3BlX1RhcmdldC5yZW1vdmVDaGlsZChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXI7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICB2YXIgbmVhcmJ5U3RlcHMgPSBzY29wZV9TcGVjdHJ1bS5nZXROZWFyYnlTdGVwcyhsb2NhdGlvbik7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGVwO1xuICAgICAgICAgICAgdmFyIGRlY3JlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBJZiBzbmFwcGVkLCBkaXJlY3RseSB1c2UgZGVmaW5lZCBzdGVwIHZhbHVlXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLSBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLnN0YXJ0VmFsdWUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZSB8fCBudWxsLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUgbmV4dCB2YWx1ZSBpbiB0aGlzIHN0ZXAgbW92ZXMgaW50byB0aGUgbmV4dCBzdGVwLFxuICAgICAgICAgICAgLy8gdGhlIGluY3JlbWVudCBpcyB0aGUgc3RhcnQgb2YgdGhlIG5leHQgc3RlcCAtIHRoZSBjdXJyZW50IHZhbHVlXG4gICAgICAgICAgICBpZiAoaW5jcmVtZW50ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSArIGluY3JlbWVudCA+IG5lYXJieVN0ZXBzLnN0ZXBBZnRlci5zdGFydFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IG5lYXJieVN0ZXBzLnN0ZXBBZnRlci5zdGFydFZhbHVlIC0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGJleW9uZCB0aGUgc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0YXJ0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5zdGVwID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgYSBoYW5kbGUgaXMgYXQgdGhlIHN0YXJ0IG9mIGEgc3RlcCwgaXQgYWx3YXlzIHN0ZXBzIGJhY2sgaW50byB0aGUgcHJldmlvdXMgc3RlcCBmaXJzdFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gdmFsdWUgLSBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLmhpZ2hlc3RTdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm93LCBpZiBhdCB0aGUgc2xpZGVyIGVkZ2VzLCB0aGVyZSBpcyBubyBpbi9kZWNyZW1lbnRcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbiA9PT0gMTAwKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxvY2F0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFzIHBlciAjMzkxLCB0aGUgY29tcGFyaXNvbiBmb3IgdGhlIGRlY3JlbWVudCBzdGVwIGNhbiBoYXZlIHNvbWUgcm91bmRpbmcgaXNzdWVzLlxuICAgICAgICAgICAgdmFyIHN0ZXBEZWNpbWFscyA9IHNjb3BlX1NwZWN0cnVtLmNvdW50U3RlcERlY2ltYWxzKCk7XG4gICAgICAgICAgICAvLyBSb3VuZCBwZXIgIzM5MVxuICAgICAgICAgICAgaWYgKGluY3JlbWVudCAhPT0gbnVsbCAmJiBpbmNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gTnVtYmVyKGluY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlY3JlbWVudCAhPT0gbnVsbCAmJiBkZWNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gTnVtYmVyKGRlY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtkZWNyZW1lbnQsIGluY3JlbWVudF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgc2l6ZSBmb3IgdGhlIHNsaWRlci5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TmV4dFN0ZXBzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0hhbmRsZU51bWJlcnMubWFwKGdldE5leHRTdGVwc0ZvckhhbmRsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRhYmxlOiBtYXJnaW4sIGxpbWl0LCBwYWRkaW5nLCBzdGVwLCByYW5nZSwgYW5pbWF0ZSwgc25hcFxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKG9wdGlvbnNUb1VwZGF0ZSwgZmlyZVNldEV2ZW50KSB7XG4gICAgICAgICAgICAvLyBTcGVjdHJ1bSBpcyBjcmVhdGVkIHVzaW5nIHRoZSByYW5nZSwgc25hcCwgZGlyZWN0aW9uIGFuZCBzdGVwIG9wdGlvbnMuXG4gICAgICAgICAgICAvLyAnc25hcCcgYW5kICdzdGVwJyBjYW4gYmUgdXBkYXRlZC5cbiAgICAgICAgICAgIC8vIElmICdzbmFwJyBhbmQgJ3N0ZXAnIGFyZSBub3QgcGFzc2VkLCB0aGV5IHNob3VsZCByZW1haW4gdW5jaGFuZ2VkLlxuICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZUdldCgpO1xuICAgICAgICAgICAgdmFyIHVwZGF0ZUFibGUgPSBbXG4gICAgICAgICAgICAgICAgXCJtYXJnaW5cIixcbiAgICAgICAgICAgICAgICBcImxpbWl0XCIsXG4gICAgICAgICAgICAgICAgXCJwYWRkaW5nXCIsXG4gICAgICAgICAgICAgICAgXCJyYW5nZVwiLFxuICAgICAgICAgICAgICAgIFwiYW5pbWF0ZVwiLFxuICAgICAgICAgICAgICAgIFwic25hcFwiLFxuICAgICAgICAgICAgICAgIFwic3RlcFwiLFxuICAgICAgICAgICAgICAgIFwiZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgXCJwaXBzXCIsXG4gICAgICAgICAgICAgICAgXCJ0b29sdGlwc1wiLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIC8vIE9ubHkgY2hhbmdlIG9wdGlvbnMgdGhhdCB3ZSdyZSBhY3R1YWxseSBwYXNzZWQgdG8gdXBkYXRlLlxuICAgICAgICAgICAgdXBkYXRlQWJsZS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHVuZGVmaW5lZC4gbnVsbCByZW1vdmVzIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxPcHRpb25zW25hbWVdID0gb3B0aW9uc1RvVXBkYXRlW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG5ld09wdGlvbnMgPSB0ZXN0T3B0aW9ucyhvcmlnaW5hbE9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gTG9hZCBuZXcgb3B0aW9ucyBpbnRvIHRoZSBzbGlkZXIgc3RhdGVcbiAgICAgICAgICAgIHVwZGF0ZUFibGUuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zVG9VcGRhdGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW25hbWVdID0gbmV3T3B0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNjb3BlX1NwZWN0cnVtID0gbmV3T3B0aW9ucy5zcGVjdHJ1bTtcbiAgICAgICAgICAgIC8vIExpbWl0LCBtYXJnaW4gYW5kIHBhZGRpbmcgZGVwZW5kIG9uIHRoZSBzcGVjdHJ1bSBidXQgYXJlIHN0b3JlZCBvdXRzaWRlIG9mIGl0LiAoIzY3NylcbiAgICAgICAgICAgIG9wdGlvbnMubWFyZ2luID0gbmV3T3B0aW9ucy5tYXJnaW47XG4gICAgICAgICAgICBvcHRpb25zLmxpbWl0ID0gbmV3T3B0aW9ucy5saW1pdDtcbiAgICAgICAgICAgIG9wdGlvbnMucGFkZGluZyA9IG5ld09wdGlvbnMucGFkZGluZztcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwaXBzLCByZW1vdmVzIGV4aXN0aW5nLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVBpcHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0b29sdGlwcywgcmVtb3ZlcyBleGlzdGluZy5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIHRoZSBjdXJyZW50IHBvc2l0aW9uaW5nIHNvIHZhbHVlU2V0IGZvcmNlcyBhbiB1cGRhdGUuXG4gICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIHZhbHVlU2V0KGlzU2V0KG9wdGlvbnNUb1VwZGF0ZS5zdGFydCkgPyBvcHRpb25zVG9VcGRhdGUuc3RhcnQgOiB2LCBmaXJlU2V0RXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaXRpYWxpemF0aW9uIHN0ZXBzXG4gICAgICAgIGZ1bmN0aW9uIHNldHVwU2xpZGVyKCkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBiYXNlIGVsZW1lbnQsIGluaXRpYWxpemUgSFRNTCBhbmQgc2V0IGNsYXNzZXMuXG4gICAgICAgICAgICAvLyBBZGQgaGFuZGxlcyBhbmQgY29ubmVjdCBlbGVtZW50cy5cbiAgICAgICAgICAgIHNjb3BlX0Jhc2UgPSBhZGRTbGlkZXIoc2NvcGVfVGFyZ2V0KTtcbiAgICAgICAgICAgIGFkZEVsZW1lbnRzKG9wdGlvbnMuY29ubmVjdCwgc2NvcGVfQmFzZSk7XG4gICAgICAgICAgICAvLyBBdHRhY2ggdXNlciBldmVudHMuXG4gICAgICAgICAgICBiaW5kU2xpZGVyRXZlbnRzKG9wdGlvbnMuZXZlbnRzKTtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgcHVibGljIHZhbHVlIG1ldGhvZCB0byBzZXQgdGhlIHN0YXJ0IHZhbHVlcy5cbiAgICAgICAgICAgIHZhbHVlU2V0KG9wdGlvbnMuc3RhcnQpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGlwcykge1xuICAgICAgICAgICAgICAgIHBpcHMob3B0aW9ucy5waXBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyaWEoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXR1cFNsaWRlcigpO1xuICAgICAgICB2YXIgc2NvcGVfU2VsZiA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgICAgICAgICBzdGVwczogZ2V0TmV4dFN0ZXBzLFxuICAgICAgICAgICAgb246IGJpbmRFdmVudCxcbiAgICAgICAgICAgIG9mZjogcmVtb3ZlRXZlbnQsXG4gICAgICAgICAgICBnZXQ6IHZhbHVlR2V0LFxuICAgICAgICAgICAgc2V0OiB2YWx1ZVNldCxcbiAgICAgICAgICAgIHNldEhhbmRsZTogdmFsdWVTZXRIYW5kbGUsXG4gICAgICAgICAgICByZXNldDogdmFsdWVSZXNldCxcbiAgICAgICAgICAgIC8vIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZywgZG9uJ3QgdXNlIHRoaXMgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAgICAgICAgICAgIF9fbW92ZUhhbmRsZXM6IGZ1bmN0aW9uICh1cHdhcmQsIHByb3Bvc2FsLCBoYW5kbGVOdW1iZXJzKSB7XG4gICAgICAgICAgICAgICAgbW92ZUhhbmRsZXModXB3YXJkLCBwcm9wb3NhbCwgc2NvcGVfTG9jYXRpb25zLCBoYW5kbGVOdW1iZXJzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zOiBvcmlnaW5hbE9wdGlvbnMsXG4gICAgICAgICAgICB1cGRhdGVPcHRpb25zOiB1cGRhdGVPcHRpb25zLFxuICAgICAgICAgICAgdGFyZ2V0OiBzY29wZV9UYXJnZXQsXG4gICAgICAgICAgICByZW1vdmVQaXBzOiByZW1vdmVQaXBzLFxuICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcHM6IHJlbW92ZVRvb2x0aXBzLFxuICAgICAgICAgICAgZ2V0UG9zaXRpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0xvY2F0aW9ucy5zbGljZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFRvb2x0aXBzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1Rvb2x0aXBzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE9yaWdpbnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfSGFuZGxlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwaXBzOiBwaXBzLCAvLyBJc3N1ZSAjNTk0XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzY29wZV9TZWxmO1xuICAgIH1cbiAgICAvLyBSdW4gdGhlIHN0YW5kYXJkIGluaXRpYWxpemVyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSh0YXJnZXQsIG9yaWdpbmFsT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5vZGVOYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiBcIiArIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgdGhlIHNsaWRlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC5cbiAgICAgICAgaWYgKHRhcmdldC5ub1VpU2xpZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBTbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRlc3QgdGhlIG9wdGlvbnMgYW5kIGNyZWF0ZSB0aGUgc2xpZGVyIGVudmlyb25tZW50O1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucyk7XG4gICAgICAgIHZhciBhcGkgPSBzY29wZSh0YXJnZXQsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucyk7XG4gICAgICAgIHRhcmdldC5ub1VpU2xpZGVyID0gYXBpO1xuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH1cbiAgICB2YXIgbm91aXNsaWRlciA9IHtcbiAgICAgICAgLy8gRXhwb3NlZCBmb3IgdW5pdCB0ZXN0aW5nLCBkb24ndCB1c2UgdGhpcyBpbiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgICAgICBfX3NwZWN0cnVtOiBTcGVjdHJ1bSxcbiAgICAgICAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIGRlZmF1bHQgY2xhc3NlcywgYWxsb3dzIGdsb2JhbCBjaGFuZ2VzLlxuICAgICAgICAvLyBVc2UgdGhlIGNzc0NsYXNzZXMgb3B0aW9uIGZvciBjaGFuZ2VzIHRvIG9uZSBzbGlkZXIuXG4gICAgICAgIGNzc0NsYXNzZXM6IGNzc0NsYXNzZXMsXG4gICAgICAgIGNyZWF0ZTogaW5pdGlhbGl6ZSxcbiAgICB9O1xuXG4gICAgZXhwb3J0cy5jcmVhdGUgPSBpbml0aWFsaXplO1xuICAgIGV4cG9ydHMuY3NzQ2xhc3NlcyA9IGNzc0NsYXNzZXM7XG4gICAgZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBub3Vpc2xpZGVyO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpO1xuIixudWxsLCJleHBvcnQgZnVuY3Rpb24gcmV2ZWFsKCkge1xyXG4gIGNvbnN0IHJldmVhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJldmVhbFwiKTtcclxuICBcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJldmVhbHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBsZXQgZWxlbWVudFRvcCA9IHJldmVhbHNbaV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgbGV0IGVsZW1lbnRWaXNpYmxlID0gMTUwO1xyXG5cclxuICAgIGlmIChlbGVtZW50VG9wIDwgd2luZG93SGVpZ2h0IC0gZWxlbWVudFZpc2libGUpIHtcclxuICAgICAgcmV2ZWFsc1tpXS5jbGFzc0xpc3QuYWRkKFwic2xpZGUtdXBcIik7XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiY29uc3QgbWVudUJ1cmdlciAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudUJ1cmdlcicpO1xyXG5jb25zdCBtZW51T3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51T3ZlcmxheScpO1xyXG5jb25zdCBuYXZiYXJNZW51ICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXZiYXJNZW51Jyk7XHJcblxyXG4vLyB0b2dnbGVNZW51XHJcbmV4cG9ydCBjb25zdCB0b2dnbGVNZW51ID0gKCkgPT4ge1xyXG4gIG1lbnVCdXJnZXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgbWVudU92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgbmF2YmFyTWVudS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC50b2dnbGUoJ292ZXJmbG93LWhpZGRlbicpO1xyXG59XHJcblxyXG4vLyBjbG9zZU1lbnVcclxuZXhwb3J0IGNvbnN0IGNsb3NlTWVudSA9ICgpID0+IHtcclxuICBtZW51QnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIG1lbnVPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIG5hdmJhck1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxufSIsImNvbnN0IHR5cGluZ05vdGVUZW1wbGF0ZSA9IGBcclxuICAgIDxsaSBjbGFzcz1cInAtMiB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICDYp9mD2KrYqCDYp9iz2YUg2KfZhNmF2YPYp9mGINmE2KjYr9ihINin2YTYqNit2KtcclxuICAgIDwvbGk+XHJcbiAgYDtcclxuXHJcbi8vIHRvZ2dsZSByZXN1bHRzIG1lbnVcclxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVJlc3VsdHNNZW51KGVsZW1lbnQsIHN0YXR1cykge1xyXG4gIGlmKHN0YXR1cykge1xyXG4gICAgJCgkKGVsZW1lbnQpLnBhcmVudCgpLm5leHQoJy5zZWFyY2gtZm9ybV9fcmVzdWx0cycpKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAvLyAkKCdib2R5JykuYWRkQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgJChlbGVtZW50KS52YWwoJycpO1xyXG4gICQoJChlbGVtZW50KS5wYXJlbnQoKS5uZXh0KCcuc2VhcmNoLWZvcm1fX3Jlc3VsdHMnKSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICQoJy5zZWFyY2gtZm9ybV9fcmVzdWx0cycpLmh0bWwodHlwaW5nTm90ZVRlbXBsYXRlKTtcclxuICAvLyAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWF1dG8nKTtcclxufVxyXG5cclxuY29uc3QgcmVzdWx0cyA9IFtcclxuICB7XHJcbiAgICB0aXRsZTogJ9in2LPZhSDYp9mE2YXZg9in2YYnLFxyXG4gICAgaW1nOiAnYXNzZXRzL2ltZ3MvaGVyby5qcGcnLFxyXG4gICAgdXJsOiAnL3BsYWNlLWRldGFpbHMuaHRtbCcsXHJcbiAgICBkZXNjOiAn2YfYsNinINin2YTZhti1INmK2YXZg9mGINij2YYg2YrYqtmFINiq2LHZg9mK2KjZhyDYudmE2Ykg2KPZiiDYqti12YXZitmFINiv2YjZhiDZhdi02YPZhNipINmB2YTZhiDZitio2K/ZiCDZiNmD2KPZhtmHINmG2LUg2YXZhtiz2YjYrtiMINi62YrYsSDZhdmG2LjZhdiMINi62YrYsSDZhdmG2LPZgtiMINij2Ygg2K3YqtmJINi62YrYsSDZhdmB2YfZiNmFLiDZhNij2YbZhyDZhdin2LLYp9mEINmG2LXYp9mLINio2K/ZitmE2KfZiyDZiNmF2KTZgtiq2KfZiydcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiAn2KfYs9mFINin2YTZhdmD2KfZhicsXHJcbiAgICBpbWc6ICdhc3NldHMvaW1ncy9oZXJvLmpwZycsXHJcbiAgICB1cmw6ICcvcGxhY2UtZGV0YWlscy5odG1sJyxcclxuICAgIGRlc2M6ICfZh9iw2Kcg2KfZhNmG2LUg2YrZhdmD2YYg2KPZhiDZitiq2YUg2KrYsdmD2YrYqNmHINi52YTZiSDYo9mKINiq2LXZhdmK2YUg2K/ZiNmGINmF2LTZg9mE2Kkg2YHZhNmGINmK2KjYr9mIINmI2YPYo9mG2Ycg2YbYtSDZhdmG2LPZiNiu2Iwg2LrZitixINmF2YbYuNmF2Iwg2LrZitixINmF2YbYs9mC2Iwg2KPZiCDYrdiq2Ykg2LrZitixINmF2YHZh9mI2YUuINmE2KPZhtmHINmF2KfYstin2YQg2YbYtdin2Ysg2KjYr9mK2YTYp9mLINmI2YXYpNmC2KrYp9mLJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6ICfYp9iz2YUg2KfZhNmF2YPYp9mGJyxcclxuICAgIGltZzogJ2Fzc2V0cy9pbWdzL2hlcm8uanBnJyxcclxuICAgIHVybDogJy9wbGFjZS1kZXRhaWxzLmh0bWwnLFxyXG4gICAgZGVzYzogJ9mH2LDYpyDYp9mE2YbYtSDZitmF2YPZhiDYo9mGINmK2KrZhSDYqtix2YPZitio2Ycg2LnZhNmJINij2Yog2KrYtdmF2YrZhSDYr9mI2YYg2YXYtNmD2YTYqSDZgdmE2YYg2YrYqNiv2Ygg2YjZg9ij2YbZhyDZhti1INmF2YbYs9mI2K7YjCDYutmK2LEg2YXZhti42YXYjCDYutmK2LEg2YXZhtiz2YLYjCDYo9mIINit2KrZiSDYutmK2LEg2YXZgdmH2YjZhS4g2YTYo9mG2Ycg2YXYp9iy2KfZhCDZhti12KfZiyDYqNiv2YrZhNin2Ysg2YjZhdik2YLYqtin2YsnXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogJ9in2LPZhSDYp9mE2YXZg9in2YYnLFxyXG4gICAgaW1nOiAnYXNzZXRzL2ltZ3MvaGVyby5qcGcnLFxyXG4gICAgdXJsOiAnL3BsYWNlLWRldGFpbHMuaHRtbCcsXHJcbiAgICBkZXNjOiAn2YfYsNinINin2YTZhti1INmK2YXZg9mGINij2YYg2YrYqtmFINiq2LHZg9mK2KjZhyDYudmE2Ykg2KPZiiDYqti12YXZitmFINiv2YjZhiDZhdi02YPZhNipINmB2YTZhiDZitio2K/ZiCDZiNmD2KPZhtmHINmG2LUg2YXZhtiz2YjYrtiMINi62YrYsSDZhdmG2LjZhdiMINi62YrYsSDZhdmG2LPZgtiMINij2Ygg2K3YqtmJINi62YrYsSDZhdmB2YfZiNmFLiDZhNij2YbZhyDZhdin2LLYp9mEINmG2LXYp9mLINio2K/ZitmE2KfZiyDZiNmF2KTZgtiq2KfZiydcclxuICB9XHJcbl1cclxuXHJcbi8vIGdldCByZXN1bHQgdGVtcGxhdGVcclxuY29uc3QgZ2V0UmVzdWx0VGVtcGxhdGUgPSAocmVzdWx0KSA9PiB7XHJcbiAgcmV0dXJuIGBcclxuICA8bGkgY2xhc3M9XCJzZWFyY2gtZm9ybV9fcmVzdWx0cy1jYXJkXCI+XHJcbiAgICA8YSBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIiBocmVmPVwiJHsgcmVzdWx0LnVybCB9XCI+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cIiR7IHJlc3VsdC5pbWcgfVwiIGFsdD1cIiR7IHJlc3VsdC50aXRsZSB9XCI+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGg0IGNsYXNzPVwiaGVhZFwiPiR7IHJlc3VsdC50aXRsZSB9PC9oND5cclxuICAgICAgICAgIDxwIGNsYXNzPVwibWItMFwiPlxyXG4gICAgICAgICAgICAgICR7IHJlc3VsdC5kZXNjIH1cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2E+XHJcbiAgPC9saT5cclxuICBgO1xyXG59XHJcblxyXG5jb25zdCBnZXRMb2FkaW5nVGVtcGxhdGUgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGBcclxuICA8bGkgY2xhc3M9XCJzZWFyY2gtZm9ybV9fcmVzdWx0cy1jYXJkIHNlYXJjaC1mb3JtX19yZXN1bHRzLWxvYWRpbmdcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtZm9ybV9fcmVzdWx0cy1sb2FkaW5nLWltZyBib2FkaW5nLXN0eWxlXCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidy0xMDBcIj5cclxuICAgICAgICAgIDxoNCBjbGFzcz1cInNlYXJjaC1mb3JtX19yZXN1bHRzLWxvYWRpbmctaGVhZCBib2FkaW5nLXN0eWxlXCI+PC9oND5cclxuICAgICAgICAgIDxwIGNsYXNzPVwic2VhcmNoLWZvcm1fX3Jlc3VsdHMtbG9hZGluZy1kZXNjIGJvYWRpbmctc3R5bGUgbWItMFwiPjwvcD5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2xpPlxyXG4gIGA7XHJcbn0gXHJcblxyXG4vLyBzdHJhdCBzZWFyY2hpbmdcclxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaCgpIHtcclxuICBsZXQga2V5d29yZCA9ICQodGhpcykudmFsKCk7XHJcblxyXG4gIGlmKGtleXdvcmQpIHtcclxuICAgIGtleXdvcmQgPSBrZXl3b3JkLnRyaW0oKTtcclxuICB9XHJcbiAgXHJcbiAgaWYoIWtleXdvcmQpIHtcclxuICAgICQoJy5zZWFyY2gtZm9ybV9fcmVzdWx0cycpLmh0bWwodHlwaW5nTm90ZVRlbXBsYXRlKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gICQoJy5zZWFyY2gtZm9ybV9fcmVzdWx0cycpLmh0bWwoJycpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAkKCcuc2VhcmNoLWZvcm1fX3Jlc3VsdHMnKS5hcHBlbmQoZ2V0TG9hZGluZ1RlbXBsYXRlKCkpO1xyXG4gIH1cclxuXHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAkKCcuc2VhcmNoLWZvcm1fX3Jlc3VsdHMnKS5odG1sKCcnKTtcclxuICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xyXG4gICAgICBsZXQgdGVtcGxhdGUgPSBnZXRSZXN1bHRUZW1wbGF0ZShyZXN1bHQpO1xyXG5cclxuICAgICAgJCgnLnNlYXJjaC1mb3JtX19yZXN1bHRzJykuYXBwZW5kKHRlbXBsYXRlKTtcclxuICAgIH0pO1xyXG4gIH0sIDIwMDApO1xyXG59IiwiY29uc3QgaXNSVEwgPSB0cnVlO1xyXG5cclxuLy8gaW5pdCBoZWFkZXIgc2xpZGVyXHJcbmV4cG9ydCBjb25zdCBpbml0SGVhZGVyU2xpZGVyID0gKGVsZW1lbnQpID0+IHtcclxuICAkKGVsZW1lbnQpLnNsaWNrKHtcclxuICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgcnRsOiBpc1JUTCxcclxuICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgYXJyb3dzOiBmYWxzZSxcclxuICAgIGluZmluaXRlOiB0cnVlLFxyXG4gICAgLy8gZm9jdXNPblNlbGVjdDogdHJ1ZSxcclxuICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNTc2LFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNDgwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIF1cclxuICB9KTtcclxufVxyXG5cclxuLy8gc2VydmljZXMgY2FyZHMgc2xpZGVyXHJcbmV4cG9ydCBjb25zdCBpbml0U2VydmljZXNDYXJkU2xpZGVyID0gKGVsZW1lbnQpID0+IHtcclxuICAkKGVsZW1lbnQpLnNsaWNrKHtcclxuICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgcnRsOiBpc1JUTCxcclxuICAgIGluZmluaXRlOiB0cnVlLFxyXG4gICAgLy8gYXV0b3BsYXk6IHRydWUsXHJcbiAgICBhcnJvd3M6IGZhbHNlLFxyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBuYXZpZ2F0ZSB0byBuZXh0IHNsaWRlXHJcbmV4cG9ydCBjb25zdCBuYXZpZ2F0ZVRvTmV4dFNsaWRlID0gKHNsaWRlckVsZW1lbnQpID0+IHtcclxuICAkKHNsaWRlckVsZW1lbnQpLnNsaWNrKCdzbGlja05leHQnKTtcclxufVxyXG5cclxuLy8gbmF2aWdhdGUgdG8gcHJldiBzbGlkZVxyXG5leHBvcnQgY29uc3QgbmF2aWdhdGVUb1ByZXZTbGlkZSA9IChzbGlkZXJFbGVtZW50KSA9PiB7XHJcbiAgJChzbGlkZXJFbGVtZW50KS5zbGljaygnc2xpY2tQcmV2Jyk7XHJcbn1cclxuXHJcbi8vIHVwZGF0ZSBzaWRlIG51bWJlclxyXG5leHBvcnQgY29uc3QgdXBkYXRlSGVhZGVyU2xpZGVOdW1iZXIgPSAoY3VyclNsaWRlKSA9PiB7XHJcbiAgbGV0IGNvdW50ID0gKCBjdXJyU2xpZGUgKyAxICkgPCA5ID8gYDAke2N1cnJTbGlkZSArIDF9YCA6ICggY3VyclNsaWRlICsgMSApO1xyXG5cclxuICAkKCcjaGVhZGVyU2xpZGVyQ291bnQnKS50ZXh0KGNvdW50KTtcclxufVxyXG5cclxuLy8gaW5pdCBlemJhIHNsaWRlciBuYXZpZ2F0b3JcclxuZXhwb3J0IGNvbnN0IGluaXRFemJhU2xpZGVyTmF2aWdhdG9yID0gKGVsZW1lbnQpID0+IHtcclxuICAkKGVsZW1lbnQpLnNsaWNrKHtcclxuICAgIHNsaWRlc1RvU2hvdzogNSxcclxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgcnRsOiBpc1JUTCxcclxuICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgYXJyb3dzOiBmYWxzZSxcclxuICAgIGluZmluaXRlOiB0cnVlLFxyXG4gICAgZm9jdXNPblNlbGVjdDogdHJ1ZSxcclxuICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMTEwMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDkwMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDc2NyxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDU3NixcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDQ4MCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIF1cclxuICB9KTtcclxufVxyXG5cclxuLy8gdXBkYXRlIEV6YmEgU2xpZGVcclxuZXhwb3J0IGNvbnN0IHVwZGF0ZUV6YmFTbGlkZSA9IChldmVudCwgc2xpY2ssIGN1cnJTbGlkZSkgPT4ge1xyXG4gICQoJyNlemJhU2xpZGVyJykuY2Fyb3VzZWwoY3VyclNsaWRlKTtcclxufVxyXG5cclxuLy8gaW5pdCBzd2FsaWYgc2xpZGVyXHJcbmV4cG9ydCBjb25zdCBpbml0U3dhbGlmU2xpZGVyID0gKGVsZW1lbnQpID0+IHtcclxuICAkKGVsZW1lbnQpLnNsaWNrKHtcclxuICAgIHNsaWRlc1RvU2hvdzogNCxcclxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgcnRsOiBpc1JUTCxcclxuICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMjAwMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgICAgaW5maW5pdGU6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiAxNTAwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgICBpbmZpbml0ZTogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICBicmVha3BvaW50OiA3NjcsXHJcbiAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgIGluZmluaXRlOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0sIFxyXG4gICAge1xyXG5cclxuICAgICAgYnJlYWtwb2ludDogNjAwLFxyXG4gICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICBkb3RzOiB0cnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICB9XVxyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBwbGFjZSBDYXRlZ29yaWVzIHNsaWRlclxyXG5leHBvcnQgY29uc3QgaW5pdFBsY2FlQ2F0ZWdvcmllc1NsaWRlciA9IChlbGVtZW50KSA9PiB7XHJcbiAgJChlbGVtZW50KS5zbGljayh7XHJcbiAgICBzbGlkZXNUb1Nob3c6IDUsXHJcbiAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgIHJ0bDogaXNSVEwsXHJcbiAgICBpbmZpbml0ZTogdHJ1ZSxcclxuICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgYXJyb3dzOiBmYWxzZSxcclxuICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDEyODAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogNCxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA5OTEsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogM1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA3MDAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA0ODAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDM1MCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICB9XHJcbiAgICAgIH0sIFxyXG4gICAgXVxyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBtYXphZGF0IHNsaWRlclxyXG5leHBvcnQgY29uc3QgaW5pdE1hemFkYXRTbGlkZXIgPSAoZWxlbWVudCkgPT4ge1xyXG4gICQoZWxlbWVudCkuc2xpY2soe1xyXG4gICAgc2xpZGVzVG9TaG93OiA1LFxyXG4gICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICBydGw6IGlzUlRMLFxyXG4gICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgIGFycm93czogZmFsc2UsXHJcbiAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiAxNDAwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMTIwMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICB9XHJcbiAgICAgIH0sIFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogOTkxLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDU4MCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICB9XHJcbiAgICAgIH0sIFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMzUwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgIH1cclxuICAgICAgfSwgXHJcbiAgICBdXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIGluaXQgcGxhY2Ugc2tpZGVyIG5hdmlnYXRpb25cclxuZXhwb3J0IGNvbnN0IGluaXRQbGFjZVNsaWRlck5hdmlnYXRvciA9IChlbGVtZW50KSA9PiB7XHJcbiAgbGV0IHNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG4gICQoZWxlbWVudCkuc2xpY2soe1xyXG4gICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICBydGw6IHNjcmVlbldpZHRoIDw9IDU3NixcclxuICAgIHZlcnRpY2FsOiBzY3JlZW5XaWR0aCA+IDU3NixcclxuICAgIGFycm93czogZmFsc2UsXHJcbiAgICAvLyByZXNwb25zaXZlOiBbXHJcbiAgICAvLyAgIHtcclxuICAgIC8vICAgICBicmVha3BvaW50OiAyMDAwLFxyXG4gICAgLy8gICAgIHNldHRpbmdzOiB7XHJcbiAgICAvLyAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAvLyAgICAgICBpbmZpbml0ZTogdHJ1ZVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSxcclxuICAgIC8vICAge1xyXG4gICAgLy8gICAgIGJyZWFrcG9pbnQ6IDE1MDAsXHJcbiAgICAvLyAgICAgc2V0dGluZ3M6IHtcclxuICAgIC8vICAgICAgIHNsaWRlc1RvU2hvdzogMixcclxuICAgIC8vICAgICAgIGluZmluaXRlOiB0cnVlXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9LFxyXG4gICAgLy8gICB7XHJcbiAgICAvLyAgIGJyZWFrcG9pbnQ6IDc2NyxcclxuICAgIC8vICAgc2V0dGluZ3M6IHtcclxuICAgIC8vICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAvLyAgICAgaW5maW5pdGU6IHRydWVcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfSwgXHJcbiAgICAvLyB7XHJcblxyXG4gICAgLy8gICBicmVha3BvaW50OiA2MDAsXHJcbiAgICAvLyAgIHNldHRpbmdzOiB7XHJcbiAgICAvLyAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgLy8gICAgIGRvdHM6IHRydWVcclxuICAgIC8vICAgfVxyXG5cclxuICAgIC8vIH1dXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIHVwZGF0ZSBQbGFjZSBTbGlkZVxyXG5leHBvcnQgY29uc3QgdXBkYXRlUGxhY2VTbGlkZSA9IChldmVudCwgc2xpY2ssIGN1cnJTbGlkZSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGN1cnJTbGlkZSk7XHJcbiAgJCgnI3BsYWNlU2xpZGVyJykuY2Fyb3VzZWwoY3VyclNsaWRlKTtcclxufVxyXG5cclxuLy8gbWFwIGZ1bGxzY3JlZW4gc2xpZGVyXHJcbmV4cG9ydCBjb25zdCBpbml0TW9zdFBvcHVsYXJTbGlkZXIgPSAoZWxlbWVudCkgPT4ge1xyXG4gICQoZWxlbWVudCkuc2xpY2soe1xyXG4gICAgc2xpZGVzVG9TaG93OiA1LFxyXG4gICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICBydGw6IGlzUlRMLFxyXG4gICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICBhcnJvd3M6IHRydWUsXHJcbiAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiAxNDk5LFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMTI4MCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDkwMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAyXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDYwMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMzUwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICAgIH0sIFxyXG4gICAgXVxyXG4gIH0pO1xyXG59IiwiaW1wb3J0IHsgdG9nZ2xlTWVudSwgY2xvc2VNZW51IH0gZnJvbSAnLi9mdW5jdGlvbnMvbWVudSc7XHJcbmltcG9ydCB7IHJldmVhbCB9IGZyb20gJy4vZnVuY3Rpb25zL2FuaW1hdGlvbic7XHJcbmltcG9ydCB7IFxyXG4gIGluaXRIZWFkZXJTbGlkZXIsXHJcbiAgbmF2aWdhdGVUb05leHRTbGlkZSxcclxuICBuYXZpZ2F0ZVRvUHJldlNsaWRlLFxyXG4gIHVwZGF0ZUhlYWRlclNsaWRlTnVtYmVyLFxyXG4gIGluaXRFemJhU2xpZGVyTmF2aWdhdG9yLFxyXG4gIHVwZGF0ZUV6YmFTbGlkZSxcclxuICBpbml0TWF6YWRhdFNsaWRlcixcclxuICBpbml0U3dhbGlmU2xpZGVyLFxyXG4gIGluaXRQbGNhZUNhdGVnb3JpZXNTbGlkZXIsXHJcbiAgaW5pdFBsYWNlU2xpZGVyTmF2aWdhdG9yLFxyXG4gIHVwZGF0ZVBsYWNlU2xpZGVcclxufSBmcm9tICcuL2Z1bmN0aW9ucy9zbGlkZXJzJztcclxuaW1wb3J0IHtcclxuICB0b2dnbGVSZXN1bHRzTWVudSxcclxuICBzZWFyY2hcclxufSBmcm9tICcuL2Z1bmN0aW9ucy9zZWFyY2hGb3JtJztcclxuXHJcbmltcG9ydCAqIGFzIG5vVWlTbGlkZXIgZnJvbSAnbm91aXNsaWRlcic7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG5cclxuICAvLyB0b2dnbGUgfCBjbG9zZSBCdXJnZXIgTWVudVxyXG4gIG1lbnVCdXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVNZW51KTtcclxuICBtZW51T3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTWVudSk7XHJcblxyXG4gIC8vIGluaXQgcmV2ZWFsIGFuaW1hdGlvblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHJldmVhbCk7XHJcblxyXG4gIC8vIGhlYWRlciBzbGlkZXJcclxuICBpZigkKCcuaGVhZGVyX19zbGlkZXInKS5sZW5ndGgpIHtcclxuICAgIGluaXRIZWFkZXJTbGlkZXIoJy5oZWFkZXJfX3NsaWRlcicpO1xyXG4gIH1cclxuXHJcbiAgLy8gaGVhZGVyIHNsaWRlciBuYXZpZ2F0b3JcclxuICAkKCcjaGVhZGVyU2xpZGVyTmV4dCcpLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgIG5hdmlnYXRlVG9OZXh0U2xpZGUoJy5oZWFkZXJfX3NsaWRlcicpO1xyXG4gIH0pO1xyXG4gICQoJyNoZWFkZXJTbGlkZXJQcmV2Jykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgbmF2aWdhdGVUb1ByZXZTbGlkZSgnLmhlYWRlcl9fc2xpZGVyJyk7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEhlYWRlciBzbGlkZXJzXHJcbiAgICovXHJcbiAgbGV0IGhlYWRlckJnU2xpZGVyO1xyXG4gIGlmKCQoJy5oZWFkZXJfX2JnLXNsaWRlcicpLmxlbmd0aCkge1xyXG4gICAgaGVhZGVyQmdTbGlkZXIgPSBuZXcgU3dpcGVyKFwiLmhlYWRlcl9fYmctc2xpZGVyXCIsIHtcclxuICAgICAgZWZmZWN0OiBcImZhZGVcIixcclxuICAgICAgbG9vcDogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgJCgnLmhlYWRlcl9fc2xpZGVyJykub24oJ2FmdGVyQ2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50LCBzbGljaywgY3VyclNsaWRlKSB7XHJcbiAgICBpZihoZWFkZXJCZ1NsaWRlcikge1xyXG4gICAgICBoZWFkZXJCZ1NsaWRlci5zbGlkZVRvKChjdXJyU2xpZGUgKyAxKSwgMjAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSGVhZGVyU2xpZGVOdW1iZXIoY3VyclNsaWRlKTtcclxuICB9KTtcclxuXHJcbiAgLy8gZXpiYSBzbGlkZXJcclxuICBpZigkKCcuZXpiYS1zbGlkZXItbmF2JykubGVuZ3RoICYmICQoJyNlemJhU2xpZGVyJykubGVuZ3RoKSB7XHJcblxyXG4gICAgLy8gZXpiYSBzbGlkZXIgY29uZmlnXHJcbiAgICAkKCcjZXpiYVNsaWRlcicpLmNhcm91c2VsKHsgaW50ZXJ2YWw6IGZhbHNlIH0pO1xyXG5cclxuICAgIC8vIGluaXQgZXpiYSBzbGlkZSBuYXZpZ2F0b3JcclxuICAgIGluaXRFemJhU2xpZGVyTmF2aWdhdG9yKCcuZXpiYS1zbGlkZXItbmF2Jyk7XHJcbiAgICBcclxuICAgICQoJy5lemJhLXNsaWRlci1uYXYgLnNsaWNrLXNsaWRlOm5vdCguc2xpY2stY2xvbmVkKScpLmVhY2goKGksIGUpID0+IHtcclxuICAgICAgJChlKS5vbignY2xpY2snLCAoKSA9PiB1cGRhdGVFemJhU2xpZGUobnVsbCwgbnVsbCwgaSkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmV6YmEtc2xpZGVyLW5hdicpLm9uKCdhZnRlckNoYW5nZScsIHVwZGF0ZUV6YmFTbGlkZSk7XHJcbiAgfVxyXG5cclxuICAvLyBzd2FsaWYgc2xpZGVyXHJcbiAgaWYoJCgnLnN3YWxpZi1zbGlkZXInKS5sZW5ndGgpIHtcclxuICAgIGluaXRTd2FsaWZTbGlkZXIoJy5zd2FsaWYtc2xpZGVyJyk7XHJcbiAgfVxyXG5cclxuICAvLyBzZWFyY2hpbmcgYWJvdXQgYXZhaWxhYmxlIHBsYWNlc1xyXG4gIGNvbnN0IHNlYXJjaEZvcm0gPSAkKCcuc2VhcmNoLWZvcm0nKS5maW5kKCcuc2VhcmNoLWZvcm1fX3BsYWNlLW5hbWUnKTtcclxuXHJcbiAgJChzZWFyY2hGb3JtKS5vbignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB0b2dnbGVSZXN1bHRzTWVudSh0aGlzLCB0cnVlKTtcclxuICB9KTtcclxuXHJcbiAgJCh3aW5kb3cpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgdG9nZ2xlUmVzdWx0c01lbnUoc2VhcmNoRm9ybSwgZmFsc2UpO1xyXG4gIH0pO1xyXG5cclxuICAkKCcuc2VhcmNoLWZvcm0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBzdGFydCBzZWFyY2hpbmdcclxuICAkKHNlYXJjaEZvcm0pLm9uKCdrZXl1cCcsIHNlYXJjaCk7XHJcblxyXG5cclxuICAvKipcclxuICAgKiBpbml0IHNlbGVjdDJcclxuICAgKi9cclxuICBpZigkKCcuc2VsZWN0Mi1pbnB1dCcpLmxlbmd0aCkge1xyXG4gICAgJCgnLnNlbGVjdDItaW5wdXQnKS5zZWxlY3QyKHtcclxuICAgICAgbGFuZ3VhZ2U6IHtcclxuICAgICAgICBlcnJvckxvYWRpbmc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiBcItiu2LfYoyDYp9ir2YbYp9ihINin2YTYqtit2YXZitmEXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBub1Jlc3VsdHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiBcItmE2YUg2YrYqtmFINin2YTYudir2YjYsSDYudmE2Ykg2KPZiiDZhtiq2KfYptisXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgZGlyOiBcInJ0bFwiXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGluaXQgaW52aXRlIGNhdGVnb3JpZXMgc2xpZGVyXHJcbiAgICovXHJcbiAgaWYoJCgnLmludml0ZV9fY2F0ZWdvcmllcy1zbGlkZXInKS5sZW5ndGgpIHtcclxuICAgIGluaXRQbGNhZUNhdGVnb3JpZXNTbGlkZXIoJy5pbnZpdGVfX2NhdGVnb3JpZXMtc2xpZGVyJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBpbml0IG1hemFkYXQgc2xpZGVyXHJcbiAgICovXHJcbiAgaWYoJCgnLm1hemFkYXRfX3NsaWRlcicpLmxlbmd0aCkge1xyXG4gICAgaW5pdE1hemFkYXRTbGlkZXIoJy5tYXphZGF0X19zbGlkZXInKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXQgcGxhY2UgZGV0YWlscyBwYWdlIHNsaWRlclxyXG4gICAqL1xyXG4gIGlmKCQoJy5wbGFjZS1zbGlkZXItbmF2JykubGVuZ3RoKSB7XHJcblxyXG4gICAgLy8gcGxhY2UgZGV0YWlscyBzbGlkZXIgY29uZmlnXHJcbiAgICAkKCcjcGxhY2VTbGlkZXInKS5jYXJvdXNlbCh7IGludGVydmFsOiBmYWxzZSB9KTtcclxuXHJcbiAgICAvLyBpbml0IGV6YmEgc2xpZGUgbmF2aWdhdG9yXHJcbiAgICBpbml0UGxhY2VTbGlkZXJOYXZpZ2F0b3IoJy5wbGFjZS1zbGlkZXItbmF2Jyk7XHJcblxyXG4gICAgJCgnI3BsYWNlU2xpZGVyJykub24oJ3NsaWRlLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICQoJy5wbGFjZS1zbGlkZXItbmF2Jykuc2xpY2soJ3NsaWNrR29UbycsIGV2ZW50LnRvKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKCcucGxhY2Utc2xpZGVyLW5hdiAuc2xpY2stc2xpZGU6bm90KC5zbGljay1jbG9uZWQpJykuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xyXG4gICAgICAkKGUpLm9uKCdjbGljaycsICgpID0+IHVwZGF0ZVBsYWNlU2xpZGUobnVsbCwgbnVsbCwgcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCdkYXRhLXNsaWNrLWluZGV4JykpKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyAkKCcucGxhY2Utc2xpZGVyLW5hdicpLm9uKCdhZnRlckNoYW5nZScsIHVwZGF0ZVBsYWNlU2xpZGUpO1xyXG4gIH1cclxuXHJcbiAgLy8gaW5pdCByYW5nZXNsaWRlclxyXG4gIGlmKCQoJ2lucHV0W3R5cGU9XCJyYW5nZVwiXScpLmxlbmd0aCkge1xyXG4gICAgJCgnaW5wdXRbdHlwZT1cInJhbmdlXCJdJykucmFuZ2VzbGlkZXIoe1xyXG4gICAgICBwb2x5ZmlsbDogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH1cclxuICBcclxuICAvKipcclxuICogaW5pdCByYW5nZSBzbGlkZXJcclxuICovXHJcbiAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFuZ2UnKTtcclxuXHJcbiAgaWYocmFuZ2UpIHtcclxuICAgIG5vVWlTbGlkZXIuY3JlYXRlKHJhbmdlLCB7XHJcbiAgICAgIHJhbmdlOiB7XHJcbiAgICAgICAgICAnbWluJzogNTAsXHJcbiAgICAgICAgICAnbWF4JzogMjAwMFxyXG4gICAgICB9LFxyXG4gICAgICBzdGVwOiA1LFxyXG4gICAgICBzdGFydDogWzIwMCwgMTg1MF0sXHJcbiAgICAgIG1hcmdpbjogMzAwLFxyXG4gICAgICBjb25uZWN0OiB0cnVlLFxyXG4gICAgICBkaXJlY3Rpb246ICdydGwnLFxyXG4gICAgICB0b29sdGlwczogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsICgpID0+IHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRlci1jb250YWluZXInKS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XHJcbn0pOyJdfQ==
